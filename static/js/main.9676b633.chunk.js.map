{"version":3,"sources":["img/bean-logo.svg","constants/bips.js","constants/links.js","constants/tokens.js","constants/values.js","util/EventUtilities.tsx","util/FieldUtilities.tsx","util/GovernanceUtilities.tsx","util/LedgerUtilities.tsx","util/TokenUtilities.tsx","util/txNotifier.js","util/SeasonUtilities.tsx","util/SiloUtilities.tsx","img/claimable-icon.svg","img/eth-logo.svg","img/lp-logo.svg","img/pod-logo.svg","img/seed-logo.svg","img/silo-icon.svg","img/stalk-logo.svg","img/transit-icon.svg","img/uniswap-icon.svg","util/UniswapUtilities.tsx","util/index.tsx","img/cloud-background.png","img/Barn.svg","img/Sun.svg","components/Common/AddressInputField.tsx","components/Common/BalanceModule.tsx","components/Common/BaseModule.tsx","components/Common/ContentSection.tsx","components/Common/EthInputField.tsx","components/Common/FrontrunText.tsx","components/Common/HeaderLabel.tsx","components/Common/HeaderLabelWithTimer.tsx","components/Common/InputFieldPlus.tsx","components/Common/ListTable.tsx","components/Common/QuestionModule.tsx","components/Common/SettingsFormModule.tsx","components/Common/SingleButton.tsx","components/Common/SlippageModule.tsx","components/Common/SwitchModule.tsx","components/Common/TitleLabel.tsx","components/Common/TokenBalanceModule.tsx","components/Common/TokenInputField.tsx","components/Common/TokenOutputField.tsx","components/Common/TokenTypeImageModule.tsx","components/Common/TransactionDetailsModule.tsx","img/bean-eth-logo.svg","img/bean-eth-swap-logo.svg","components/Common/UnitSelectionModule.tsx","components/Common/index.tsx","components/About/SvgCloudIcon.tsx","components/About/Footer.tsx","img/ground.png","components/About/index.tsx","components/Field/SowHarvestModule.tsx","components/Field/index.tsx","components/App/MetamasklessModule.tsx","components/Trade/Chart.tsx","components/Trade/BalanceSection.tsx","components/Navigation/WalletModule.tsx","components/Navigation/NavigationBar.tsx","img/black-sun.svg","components/Seasons/PegMaintenance.tsx","components/Governance/CircularProgressWithLabel.tsx","components/Governance/GovernanceTable.tsx","components/Governance/Vote.tsx","components/Governance/index.tsx","components/Seasons/SeasonReward.tsx","components/Seasons/SeasonTimer.tsx","components/Seasons/index.tsx","components/Silo/BeanClaimSubModule.tsx","components/Silo/BeanDepositSubModule.tsx","components/Silo/BeanWithdrawSubModule.tsx","components/Silo/SiloBeanModule.tsx","components/Silo/LPClaimSubModule.tsx","components/Silo/LPDepositSubModule.tsx","components/Silo/LPWithdrawSubModule.tsx","components/Silo/SiloLPModule.tsx","components/Silo/index.tsx","components/App/theme.js","components/Trade/ClaimableBalance.tsx","components/Trade/BalanceSectionModule.tsx","components/Trade/SendSubModule.tsx","components/Trade/SwapSubModule.tsx","components/Trade/TradeModule.tsx","components/Trade/index.tsx","components/App/index.tsx","reportWebVitals.ts","index.tsx"],"names":["bipsList","path","title","HOW_TO_MM_PATH","BEAN","addr","decimals","symbol","BEANSTALK","UNI_V2_ETH_BEAN_LP","SEEDS","ETH","STALK","WETH","UNI_V2_USDC_ETH_LP","PEG_WEATHER_CASES","BASE_SLIPPAGE","SLIPPAGE_THRESHOLD","MIN_BALANCE","UNISWAP_V2_ROUTER","IGNORED_EVENTS","Set","benchmarkStart","operation","console","log","Date","now","benchmarkEnd","startTime","listeningForEvents","lastPriceRefresh","getTime","lastTotalsRefresh","newEventHashes","initializeEventListener","callback","updatePrices","updateTotals","setContractEvents","setLastCross","a","beanstalk","beanstalkContract","bean","tokenContract","beanPair","pairContract","usdcPair","getPastEvents","fromBlock","toBlock","events","allEvents","filter","event","returnValues","account","si","sd","sp","sib","map","e","blockNumber","sdb","length","first","last","lastCrossEvent","firstBlockNumbers","lastBlockNumbers","lastSopSeason","season","i","lastSwitchSeason","undefined","lastCross","Math","max","Promise","all","then","contractEventLists","filteredEvents","Array","prototype","concat","apply","has","from","to","spender","eventInitializers","fromBlack","error","toLowerCase","Swap","newEventHash","transactionHash","String","logIndex","add","txCallback","parseWithdrawals","withdrawals","index","receivable","BigNumber","transit","transitWithdrawals","receivableWithdrawals","Object","keys","forEach","s","isLessThanOrEqualTo","plus","addRewardedCrates","crates","rewardedBeans","rewardedStalk","isEqualTo","rewardedSeasons","dividedBy","multipliedBy","integerValue","ROUND_DOWN","minus","set","ROUNDING_MODE","ROUND_HALF_UP","parseInt","parsePlots","plots","pods","harvestablePods","unharvestablePlots","harvestablePlots","p","isLessThan","sowBeans","amount","claimable","methods","claimAndSowBeans","send","on","hash","buyAndSowBeans","buyBeanAmount","ethAmount","claimBuyAndSowBeans","value","harvest","vote","bip","unvote","percentForStalk","stalk","totalStalk","decimalPlaces","toNumber","createLedgerBatch","web3","BatchRequest","makeBatchedPromises","batch","promisesAndResultHandlers","batchedPromises","methodAndHandler","resolve","reject","call","request","result","identityResult","bigNumberResult","tokenResult","token","toTokenUnitsBN","getEtherBalance","eth","getBalance","getBlockTimestamp","initializing","getBlock","timestamp","CryptoAsset","SiloAsset","TransitAsset","FarmAsset","ClaimableAsset","UniswapAsset","getAccountBalances","lp","allowance","balanceOfEth","balanceOf","balanceOfSeeds","balanceOfStalk","lockedUntil","balanceOfFarmableBeans","balanceOfFarmableStalk","balanceOfGrownStalk","balanceOfRoots","getTotalBalances","totalSupply","totalSeeds","totalDepositedBeans","totalDepositedLP","totalWithdrawnBeans","totalWithdrawnLP","totalSoil","podIndex","harvestableIndex","totalRoots","weather","stringWeather","didSowBelowMin","didSowFaster","lastDSoil","lastSoilPercent","lastSowTime","nextSowTime","startSoil","yield","rain","stringRain","raining","rainStart","start","time","current","period","getBips","numberOfBips","bips","toString","endTotalRoots","rootsFor","roots","bipRoots","bipDict","id","executed","increaseBase","pauseOrUnpause","proposer","propser","stalkBase","updated","active","push","hasActiveBIP","activeBips","getPrices","referenceLPContract","lpContract","getReserves","reserves","_reserve0","_reserve1","token0","getTWAPPrices","prices","notify","v","sunrise","depositBeans","claimAndDepositBeans","claimAndWithdrawBeans","amounts","withdrawBeans","claimBeans","depositLP","claimAndDepositLP","addAndDepositLP","buyEthAmount","addLP","claimAddAndDepositLP","convertAddAndDepositLP","claimConvertAddAndDepositLP","withdrawLP","claimAndWithdrawLP","removeAndClaimLP","minBeanAmount","minEthAmount","claimLP","claim","updateSilo","buyAndDepositBeans","claimBuyAndDepositBeans","MAX_UINT256","transferBeans","transfer","approveUniswapBean","approveToken","approveBeanstalkBean","approveBeanstalkLP","address","approve","TokenLabel","tokenType","Bean","Ethereum","LP","Stalk","Seed","Pods","TokenImage","BeanLogo","EthereumLogo","LPLogo","StalkLogo","SeedLogo","PodLogo","TrimBN","bn","numberString","decimalComponents","split","decimalsFound","decimalsToTrim","substr","displayBN","toFixed","isGreaterThanOrEqualTo","isGreaterThan","displayFullBN","maxDecimals","toLocaleString","maximumFractionDigits","MinBNs","array","reduce","prev","curr","MinBN","bn1","bn2","MaxBN","toBaseUnitBN","rawAmt","raw","base","decimalsBN","pow","toStringBaseUnitBN","tokenAmt","amt","digits","div","SwapMode","createDeadline","ceil","ethereum","accounts","buyBeans","amountIn","amountOutMin","uniswapRouterContract","swapExactETHForTokens","sellBeans","swapExactTokensForETH","tokenForLP","reserve","totalLP","lpForToken","getToAmount","reserveIn","reserveOut","amountInWithFee","numerator","denominator","getFromAmount","amountOut","getBuyAndAddLPAmount","ethReserve","beanReserve","zeroBN","fee","c","b","determinant","beans1","sqrt","beans2","estBeans","absoluteValue","metamaskFailure","beanAbi","require","beanstalkAbi","uniswapPairAbi","uniswapRouterAbi","Contract","pair","initialize","window","Boolean","isMetaMask","Web3","initializeMetaMaskListeners","method","utils","toChecksumAddress","changeHandler","location","reload","initializeCallback","isAddress","GetWalletAddress","AddressInputField","props","endAdornment","startAdornment","classes","makeStyles","theme","inputText","fontFamily","fontSize","fontWeight","snapped","InputAdornment","position","Button","onClick","handleClear","isValidAddress","style","color","margin","display","marginLeft","textAlign","textTransform","width","TextField","className","placeholder","variant","size","type","disabled","handleChange","onChange","onKeyDown","fullWidth","InputProps","inputProps","maxLength","input","BalanceModule","spanContent","content","balance","balanceSection","balanceDescription","FormatTooltip","placement","swerve","QuestionModule","description","questionMargin","defaultProps","action","maxval","BaseModule","inputModule","backgroundColor","borderRadius","marginTop","padding","sectionTab","minWidth","formButton","height","indicator","justifyContent","maxWidth","noIndicator","buttonLabel","buttonHandler","showButton","allowanceCallback","transactionState","setAllowance","handleApprove","locked","lockedSeasons","sectionTitles","section","handleForm","isDisabled","AppBar","Tabs","indicatorColor","handleTabChange","TabIndicatorProps","children","textColor","sectionTitle","Tab","label","key","a11yProps","autoComplete","noValidate","zIndex","ContentSection","appSection","Grid","container","spacing","TitleLabel","renderTitle","EthInputField","mode","BeanEthereum","maxBalance","textTransaction","sellEth","updateExpectedPrice","TokenInputField","target","maxHandler","FrontrunText","Link","href","HeaderLabel","boxShadow","marginTooltip","HeaderLabelWithTimer","InputFieldPlus","claimableBalance","isClaimEnabled","parentChangeHandler","useEffect","visible","tokenInputField","isLP","poolForLPRatio","sellToken","buyEth","ListTable","useStyles","table","alignItems","pagination","lucidaStyle","claimableStyle","displayLP","BasicTable","stalkCrates","reverse","asset","titles","indexTitle","seedCrates","k","claimableRow","claimWord","claimDescription","TableRow","TableCell","align","component","scope","claimableStalk","TableContainer","Table","TableHead","t","TableBody","sort","slice","page","TablePagination","count","onPageChange","rowsPerPage","rowsPerPageOptions","claimableCrates","resetPage","questionStyle","widthTooltip","SettingsFormModule","useState","settingsStyle","setSettingsStyle","hasSlippage","showUnitModule","settings","showSlippage","setShowSlippage","rightDrawerItems","showLP","SwitchModule","setValue","setSettings","useLP","hasClaimable","hasConvertible","disableConvertible","handleMode","convert","hasRemoveLP","removeLP","SlippageModule","setSlippage","slippage","rightDrawer","hasVisible","item","assign","bottom","clipPath","paddingBottom","right","unitModule","UnitSelectionModule","beanEthereumSwap","showBeanEthereumSwap","bottomDrawer","settingsIcon","IconButton","shouldExpand","SingleButton","button","opacity","transition","getIcon","icon","alt","src","handleClick","isFieldEmpty","setIsFieldEmpty","defaultSlippage","setSlippagePercentage","newPercentage","newValue","decimalIndex","indexOf","onWheel","blur","preventDefault","min","step","siloBeanBalance","GreenSwitch","withStyles","switchBase","checked","track","Switch","GreenFormControlLabel","marginBottom","FormControlLabel","control","flexDirection","TokenBalanceModule","balanceColor","lineHeight","balanceStyle","claimPadding","paddingRight","tokenLabel","endText","TokenTypeImageModule","balanceContent","displayValue","setDisplayValue","maxStyle","maxButton","hidden","float","marginRight","isNegative","replaceAll","lastIndexOf","TokenOutputField","burn","mint","tokenTypeModifierStyle","left","top","SiloIcon","TransitIcon","ClaimableIcon","UniswapIcon","TransactionDetailsModule","leftTransactionStyle","rightTransactionStyle","rows","fields","r","border","startText","imageStyle","ToggleButtonGroup","exclusive","ToggleButton","beanEthereum","BeanEthIcon","BeanEthereumSwap","BeanEthSwapIcon","tooltip","palette","common","white","shadows","Tooltip","walletDescriptions","beanBalance","lpBalance","beanSiloBalance","lpSiloBalance","beanTransitBalance","lpTransitBalance","claimableBeanBalance","claimablelpBalance","claimableEthBalance","stalkBalance","seedBalance","podBalance","ethBalance","topLeft","topLeftTitle","topRight","topRightTitle","totalDescriptions","beanReserveTotal","walletStrings","totalStrings","SvgCloudIcon","text","xmlns","viewBox","fill","d","stroke","strokeWidth","x","y","textAnchor","Footer","fixedGround","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","tokenTypeImageStyle","linkStyle","About","navCloudStyle","background","cloudStyle","showLandingPage","defaultSection","minHeight","lg","md","sm","xs","SunIcon","maxHeight","BarnIcon","SowHarvestModule","setSection","sectionInfo","setSectionInfo","React","setPage","beanValue","setBeanValue","podValue","setPodValue","fromValue","setFromValue","fromEthValue","setFromEthValue","buyBeanValue","setBuyBeanValue","toValue","setToValue","harvestPlots","setHarvestPlots","fromToken","toToken","harvestablePodBalance","claimableFromVal","beanClaimableBalance","maxFromVal","maxToVal","soil","fromValueUpdated","newFromNumber","newEthFromNumber","newFromValue","newFromEthValue","DECIMAL_PLACES","sowedBeans","harvestedPods","some","beanInputField","ethInputField","toPodsField","sectionTitlesInfo","sectionsInfo","newPage","parseFloat","showListTables","newSectionInfo","newPageZero","beanstalkBeanAllowance","sowText","sowTextField","noSoilTextField","frontrunTextField","showSettings","beans","newSection","setBeanstalkBeanAllowance","isZero","Field","headerLabelStyle","unripenedPods","MetamasklessModule","metamaskModule","Chart","colors","circulating","silo","pool","data","ChartDonut","standalone","constrainToVisibleArea","labels","datum","titleComponent","ChartLabel","total","subTitle","innerRadius","padAngle","parent","eventHandlers","onMouseOver","mutation","setActive","onMouseOut","BalanceSection","beanActive","setBeanActive","lpActive","setLPActive","containerGridStyle","containerGridHorizontalStyle","spanStyle","smallGridStyle","beanTotals","beanReceivableBalance","lpTotals","lpReceivableBalance","claimableBeansSection","showTokenName","claimableLPSection","beanReserveSection","beanTransitSection","lpTransitSection","switchBeanSizeBalances","Hidden","smUp","xsDown","chartMargin","switchLPSizeBalances","beanLPTotal","strings","WalletModule","walletButton","textDecoration","greenStyle","redStyle","tokenImageStyle","eventTitleStyle","timestampStyle","fontStyle","eventAmountStyle","menuItemStyle","whiteSpace","borderBottom","walletListStyle","overflow","walletText","setWalletText","anchorRefWallet","useRef","openWallet","setOpenWallet","handleCloseWallet","walletEvents","setWalletEvents","accountHex","accountDisplay","timestampPromisesByBlockNumber","_","blockNumbers","blockTimePromises","values","blockTimestamps","timestampsByBlockNumber","blockDiff","batchedEvents","currentBlock","pendingAmountsPerType","pendingSeasonsPerType","flushPendingAmounts","batchedEvent","seasonsDisplay","lastElement","updateSeasons","pendingSeasons","number","pendingBeans","pendingLP","pending","handleWallet","buildWalletEvents","inOutDisplay","inBN","inToken","outBN","outToken","outDisplay","displayEvent","eventAmount","eventTitle","beanReward","amount0In","swapFrom","swapTo","amount1Out","amount1In","amount0Out","ethReward","date","dateString","toLocaleDateString","timeString","toLocaleTimeString","paddingLeft","walletSubtitles","transactionPage","setTransactionPage","walletEventsDisplay","document","getElementById","scrollTop","cursor","includes","MenuItem","open","userLP","userBalanceInDollars","beanPrice","userBeansAndEth","myBalancesSection","walletPage","setWalletPage","walletTitles","walletPages","prevOpen","ref","Popper","anchorEl","role","disablePortal","TransitionProps","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","paddingTop","NavigationBar","fixedNav","navDisplayFlex","linkText","linkPadding","activeLinkText","activeAboutLinkText","anchorRef","setOpen","handleClose","isScrolledToBottom","setIsScrolledToBottom","handleScroll","windowHeight","innerHeight","documentElement","offsetHeight","body","html","docHeight","scrollHeight","clientHeight","windowBottom","pageYOffset","localStorage","setItem","scrollY","getItem","scrollTo","addEventListener","removeEventListener","linkItemStyle","mobileNavigation","List","ListItem","links","duration","activeClass","spy","smooth","desktopNavigation","beanLogo","edge","Toolbar","Container","gridStyle","lineStyle","pegMaintenanceStyle","pegMaintenanceSpanStyle","StatBalance","gridWidth","Stats","four","one","two","three","isNaN","PegMaintenance","price","beanTWAPPrice","usdcTWAPPrice","podRate","totalPods","totalBeans","deltaSoil","deltaDemand","caseId","deltaWeather","currentBeans","targetBeans","newBeans","newSoil","minTotalSoil","maxTotalSoil","rainForecast","rainingSeasons","rainNextSeason","nextSeasonStats","currentSeasonStats","CircularProgressWithLabel","showBlip","lowvalue","displayLowNumber","rotation","voting","votingTitle","circles","CircularProgress","thickness","transform","Box","Typography","round","GovernanceTable","cell","cellTitle","BipTable","tableBips","voteProportion","bipID","tb","BIP","status","voted","Row","summaryBips","bipValue","bipIndex","colSpan","Collapse","in","timeout","unmountOnExit","Vote","futuraPT","rowSelected","selected","setSelected","displayBips","dp","row","seasonBips","newStalk","votedBips","stalkBips","userStalk","percentForNewStalk","percentForPrevStalk","isDynamic","offset","click","Governance","aBips","vBips","sBips","voteField","SeasonReward","SeasonTimer","timeDifference","timeInHours","floor","timeInMinutes","timeInSeconds","Seasons","nextSeasonTime","timeUntilSunrise","deadline","timer","setTime","setInterval","clearInterval","advanceButton","sunriseIcon","sunriseStats","governanceSection","BeanClaimSubModule","forwardRef","setIsFormDisabled","maxFromBeansVal","fromBeansField","toBeanField","useImperativeHandle","BeanDepositSubModule","fromBeanValue","setFromBeanValue","toStalkValue","setToStalkValue","toSeedsValue","setToSeedsValue","newFromEthNumber","depositedBeans","newToStalkValue","beanToStalk","beanField","ethField","toStalkField","toSeedsField","toSiloBeanField","BeanWithdrawSubModule","fromStalkValue","setFromStalkValue","fromSeedsValue","setFromSeedsValue","withdrawParams","setWithdrawParams","fromNumber","maxFromBeanVal","newFromBeanValue","getStalkRemoved","beansRemoved","stalkRemoved","crateBeansRemoved","fromBeanField","maxFromStalkVal","stalkToBean","maxFromSeedsVal","seedsToBean","toBurnStalkField","toBurnSeedsField","toTransitBeanField","unvoteTextField","SiloBeanModule","handlePageChange","depositRef","withdrawRef","claimRef","isFormDisabled","sections","beanDeposits","beanReceivableCrates","farmableBeanBalance","farmableStalkBalance","rawBeanDeposits","beanWithdrawals","LPClaimSubModule","maxFromLPVal","fromLPField","toLPField","toLPBeanField","toLPEthField","LPDepositSubModule","fromLPValue","setFromLPValue","toSellBeansValue","setToSellBeansValue","toBuyBeansValue","setToBuyBeansValue","toSellEthValue","setToSellEthValue","toBuyEthValue","setToBuyEthValue","toSiloLPValue","setToSiloLPValue","beanConvertParams","setBeanConvertParams","newFromLPNumber","unstable_batchedUpdates","fromEtherNumber","fromLPNumber","buyNumber","sellNumber","fromConvertBeans","newBeanReserve","newEthReserve","ethToBean","handleConvertCrates","beanToEth","amount1","reserve1","amount2","reserve2","lpToDeposit","beanCrates","convertibleBeans","maxFromBeanSiloVal","claimableBeans","maxFromClaimableVal","maxBeans","fromEthField","toSiloLPField","resetFields","LPWithdrawSubModule","newFromLPValue","getStalkAndSeedsRemoved","seedsRemoved","lpRemoved","crateLPsRemoved","crateSeedsRemoved","stalkToLP","seedsToLP","toTransitLPField","SiloLPModule","lpDeposits","lpSeedDeposits","lpReceivableCrates","lpWithdrawals","beanstalkLPAllowance","setBeanstalkLPAllowance","Silo","innerWidth","createTheme","primary","main","secondary","ClaimableBalance","direction","buttonDescription","claimTitle","userClaimable","BalanceSectionModule","divStyle","poolBeansAndEth","marketCap","poolMarketCap","userTotalClaimable","farmable","grownStalkBalance","rootsBalance","totalBalancesSection","totalSiloBeans","totalTransitBeans","totalSiloLP","totalTransitLP","SendSubModule","snappedToAddress","setSnappedToAddress","setIsValidAddress","toAddressUpdated","newToAddress","setToAddress","substring","toAddressField","setAddress","fromAddress","toAddress","SwapSubModule","fromReserve","orderIndex","toReserve","newToValue","toValueUpdated","newToNumber","proposedNewFromValue","fromField","toField","toBalance","switchField","setOrderIndex","expectedBeanPrice","estbeanReserve","endPrice","usdcPrice","getExpectedBeanPrice","TradeModule","conversionFactor","handleSwapCallback","uniswapBeanAllowance","minimumToAmount","setUniswapBeanAllowance","Trade","App","defaultNavMapping","allowances","allowanceHandlers","totalBalance","userBalance","EXPONENTIAL_AT","initBN","initialized","setInitialized","setMetamaskFailure","poolForLP","setAllowances","prevAllowances","harvestableBalance","setUserBalance","setTotalBalance","setSeason","setWeather","setPrices","setBips","setHasActiveBIP","contractEvents","eventParsingParametersRef","app","processAccountBalances","accountBalances","currentSeason","minReceives","processTotalBalances","totalBalances","bipInfo","processPrices","referenceTokenReserves","tokenReserves","twapPrices","usdcMultiple","exponentiatedBy","rawBeanReserve","rawEthReserve","beanEthPrice","usdcEthPrice","processEvents","eventParsingParameters","userLPSeedDeposits","userLPDeposits","userPlots","userBeanDeposits","crateBeans","seeds","crateLP","beansClaimed","partialIndex","delete","hi","fb","fs","gs","ce","beanDepositsBalance","lpDepositsBalance","userBeanWithdrawals","userBeanreceivableCrates","userLPWithdrawals","userLPreceivableCrates","prevUserBalance","updateAllBalances","accountBalancePromises","totalBalancePromises","pricePromises","execute","ReactDOM","updateBalanceState","balanceInitializers","navMapping","splice","navItem","verticalAlign","ThemeProvider","CssBaseline","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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","file":"static/js/main.9676b633.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bean-logo.50be834d.svg\";","export const bipsList = [\n  {path: '/Bips/BIP-0.html', title: 'Silo Refactor'},\n]\n","/* About Links */\nexport const BEAN_TOKEN_LINK = 'https://etherscan.io/token/0xdc59ac4fefa32293a95889dc396682858d52e5db'\nexport const SILO_CONTRACT_LINK = 'https://etherscan.io/address/0xc1e088fc1323b20bcbee9bd1b9fc9546db5624c5'\nexport const UNISWAP_CONTRACT_LINK = 'https://etherscan.io/address/0xdc59ac4fefa32293a95889dc396682858d52e5db'\n\nexport const GITHUB_LINK = 'https://github.com/BeanstalkFarms/Beanstalk'\n\nexport const HOW_TO_PATH = '/About/How-To.html'\nexport const INTRO_TO_PATH = '/About/Intro-to-Beanstalk.html'\nexport const WHITEPAPER = '/About/beanstalk.pdf'\n\n/* Metamask Link */\nexport const METAMASK_LINK = 'https://metamask.io/download'\nexport const HOW_TO_MM_PATH = '/About/How-To.html#connect-your-metamask-wallet-to-beanstalk'\n\nexport const SLIPPAGE_LINK = 'https://coinmarketcap.com/alexandria/glossary/slippage'\n","export const BEAN = {\n  addr: '0xDC59ac4FeFa32293A95889Dc396682858d52e5Db', // Mainnet\n  decimals: 6,\n  symbol: 'Bean',\n}\n\nexport const BEANSTALK = {\n  addr: '0xC1E088fC1323b20BCBee9bd1B9fC9546db5624C5',\n  decimals: 6,\n}\n\nexport const UNI_V2_ETH_BEAN_LP = {\n  addr: '0x87898263B6C5BABe34b4ec53F22d98430b91e371', // Mainnet\n  // addr: '0x298c5f1f902c5bDc2936eb44b3E0E8675F40B8db', // Ropsten\n  decimals: 18,\n}\n\nexport const SEEDS = {\n  addr: '',\n  decimals: 6,\n}\n\nexport const UNI = {\n  addr: '0x88ff79eB2Bc5850F27315415da8685282C7610F9',\n  decimals: 18,\n  symbol: 'UNI',\n}\n\nexport const USDC = {\n  addr: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  decimals: 6,\n  symbol: 'USDC',\n}\n\nexport const ETH = {\n  decimals: 18,\n  symbol: 'ETH',\n}\n\nexport const STALK = {\n  addr: '0x9d4454B023096f34B160D6B654540c56A1F81688',\n  decimals: 10,\n}\n\nexport const WETH = {\n  addr: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', // Mainnet\n  // addr: '0xc778417E063141139Fce010982780140Aa0cD5Ab', // Ropsten\n  decimals: 18,\n}\n\nexport const UNI_V2_USDC_ETH_LP = {\n  addr: '0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc', // Mainnet\n  // addr: '0x681A4164703351d6AceBA9D7038b573b444d3353', // Ropsten\n  decimals: 18,\n}\n","    /* Governance */\nexport const GOVERNANCE_PERIOD = 168 /* 168 seasons */\nexport const GOVERNANCE_EMERGENCY_PERIOD = 86400 /* 86400 seconds = 1 day */\nexport const GOVERNANCE_PASS_THRESHOLD = 5e17 /* 1/2 */\nexport const GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR = 2\nexport const GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR = 3\nexport const GOVERNANCE_EXPIRATION = 25 /* 24 + 1 seasons */\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = 1e16 /* 0.5% */\nexport const BASE_COMMIT_INCENTIVE = 1e8 /* 100 beans */\n\n    /* Silo */\nexport const BASE_ADVANCE_INCENTIVE = 1e8 /* 100 beans */\n\nexport const BEAN_TO_STALK = 1\nexport const BEAN_TO_SEEDS = 2\nexport const LPBEAN_TO_STALK = 2\nexport const LPBEANS_TO_SEEDS = 4\n\nexport const LP_TO_SEEDS = 8\nexport const UNISWAP_BASE_LP = 1e-15\n\nexport const WITHDRAWAL_FROZEN = 25 /* Frozen for 24 + 1 Seasons upon Withdrawal */\n\n    /* Field */\nexport const SOIL_MAX_RATIO_CAP = 0.25 /* 25% */\nexport const SOIL_MIN_RATIO_CAP = 0.001 /* 0.1% */\n\n    /* Sun */\nexport const HARVESET_PERCENTAGE = 50 /* 50% */\n\n    /* Weather */\nexport const POD_RATE_LOWER_BOUND = 5 /* 5% */\nexport const OPTIMAL_POD_RATE = 15 /* 15% */\nexport const POD_RATE_UPPER_BOUND = 25 /* 25% */\n\nexport const DELTA_POD_DEMAND_LOWER_BOUND = 0.98 /* 98% */\nexport const DELTA_POD_DEMAND_UPPER_BOUND = 1.02 /* 102% */\n\n    /* Season */\nexport const STEADY_SOW_TIME = 60 /* 60 seconds */\nexport const RAIN_TIME = 24 /* 24 Seasons */\nexport const PEG_WEATHER_CASES = [3,1,0,0,-1,-3,-3,0,3,1,0,0,-1,-3,-3,0,3,3,1,0,0,0,-1,0,3,3,1,0,1,0,-1,0] /* Peg Maintenance Weather Cases */\n\n    /* Website Settings */\nexport const BASE_SLIPPAGE = 0.97 /* 3% slippage */\nexport const SLIPPAGE_THRESHOLD = 0.95 /* 5% slippage threshold for frontrunning */\nexport const LP_FEE = 0.003 /* 0.3% LP fee */\nexport const MIN_BALANCE = 0.05 /* 0.05 minimum eth withtheld to transact */\n\nexport const MAX_UINT32 = 4294967295\n\nexport const UNISWAP_V2_ROUTER = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D'\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  UNI_V2_ETH_BEAN_LP,\n  UNI_V2_USDC_ETH_LP\n} from '../constants'\nimport {\n  account,\n  beanstalkContract,\n  pairContract,\n  tokenContract,\n  txCallback\n} from './index'\n\nconst IGNORED_EVENTS = new Set(['SeasonSnapshot', 'WeatherChange', 'Swap', 'Transfer'])\n\nconst benchmarkStart = (operation) => {\n  console.log(`LOADING ${operation}`)\n  return Date.now()\n}\nconst benchmarkEnd = (operation, startTime) => {\n  console.log(`LOADED ${operation} (${(Date.now() - startTime) / 1e3} seconds)`)\n}\n\nlet listeningForEvents = false\nlet lastPriceRefresh = (new Date()).getTime()\nlet lastTotalsRefresh = (new Date()).getTime()\nlet newEventHashes = new Set()\n\nexport async function initializeEventListener(callback, updatePrices, updateTotals, setContractEvents, setLastCross) {\n  const startTime = benchmarkStart('EVENT LISTENER')\n\n  const beanstalk = beanstalkContract()\n  const bean = tokenContract(BEAN)\n  const beanPair = pairContract(UNI_V2_ETH_BEAN_LP)\n  const usdcPair = pairContract(UNI_V2_USDC_ETH_LP)\n\n  const events = await beanstalk.getPastEvents('allEvents', {\n    fromBlock: 0,\n    toBlock: 'latest'\n  })\n  benchmarkEnd('EVENT LISTENER (BEANSTALK)', startTime)\n\n  let allEvents = events.filter((event) => (event.returnValues.account === account))\n  const si = events.filter((event) => (event.event === 'SupplyIncrease'))\n  const sd = events.filter((event) => (event.event === 'SupplyDecrease'))\n  const sp = events.filter((event) => (event.event === 'SeasonOfPlenty'))\n  const sib = si.map((e) => e.blockNumber)\n  const sdb = sd.map((e) => e.blockNumber)\n  const [first, last] = sdb[sdb.length - 1] >  sib[sib.length - 1] ? [si, sd] : [sd, si]\n  let lastCrossEvent = sdb[sdb.length - 1] >  sib[sib.length - 1] ? 'SupplyDecrease' : 'SupplyIncrease'\n  const firstBlockNumbers = first.map((e) => e.blockNumber)\n  const lastBlockNumbers = last.map((e) => e.blockNumber)\n\n  const lastSopSeason = sp.length !== 0 ? sp[sp.length - 1].returnValues.season : 0\n  let i = last.length - 1\n  while(lastBlockNumbers[i - 1] > firstBlockNumbers[firstBlockNumbers.length - 1]) i--\n  const lastSwitchSeason = last[i] !== undefined ? last[i].returnValues.season : 1\n  const lastCross = Math.max(lastSopSeason, lastSwitchSeason)\n\n  Promise.all([\n    beanPair.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest'\n    }),\n    bean.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest'\n    }),\n  ]).then((contractEventLists) => {\n    benchmarkEnd('EVENT LISTENER (BEAN/PAIR)', startTime)\n    const filteredEvents = Array.prototype.concat.apply([], contractEventLists).filter((event) => (\n      !IGNORED_EVENTS.has(event.event)\n      && (event.returnValues.from === account\n          || event.returnValues.to === account\n          || event.returnValues.spender === account\n      )\n    ))\n    allEvents = allEvents.concat(filteredEvents)\n    setContractEvents(allEvents)\n  })\n\n  const eventInitializers = [lastCross, allEvents]\n  if (listeningForEvents) {\n    benchmarkEnd('EVENT LISTENER (already listening)', startTime)\n    return eventInitializers\n  }\n  listeningForEvents = true\n\n  /* Listen for new Contract events */\n  beanPair.events.allEvents({fromBlack: 'latest'}, function (error, event) {\n    if ((new Date()).getTime() - lastPriceRefresh > 5000\n        && (event.returnValues.to === undefined\n            || event.returnValues.to.toLowerCase() !== account.toLowerCase())) {\n      console.log('UPDATING PRICES!')\n      updatePrices()\n      lastPriceRefresh = (new Date()).getTime()\n    }\n\n    /* Temporarily Ignoring Bean Pair events\n    if (IGNORED_EVENTS.has(event.event)) {\n      return\n    }\n    const newEventHash = event.transactionHash + String(event.logIndex)\n    if (newEventHashes.has(newEventHash)) {\n      return\n    }\n    newEventHashes.add(newEventHash)\n\n    if (error === null\n        && (event.returnValues.from === account\n            || event.returnValues.to === account\n            || event.returnValues.spender === account)) {\n      allEvents = [...allEvents, event]\n      setContractEvents(allEvents)\n    }\n    else if (event.returnValues.to === UNISWAP_V2_ROUTER) {\n      web3.eth.getTransaction(event.transactionHash).then((t) => {\n        if (t.from === account) {\n          allEvents = [...allEvents, event]\n          setContractEvents(allEvents)\n        }\n      })\n    }\n    */\n  })\n  usdcPair.events.Swap({fromBlack: 'latest'}, function (error, event) {\n    if ((new Date()).getTime() - lastPriceRefresh > 5000) {\n      console.log('UPDATING PRICES!')\n      updatePrices()\n      lastPriceRefresh = (new Date()).getTime()\n    }\n  })\n  beanstalk.events.allEvents({fromBlock:'latest'}, function (error, event) {\n    if (IGNORED_EVENTS.has(event.event)) {\n      return\n    }\n    const newEventHash = event.transactionHash + String(event.logIndex)\n    if (newEventHashes.has(newEventHash)) {\n      return\n    }\n    newEventHashes.add(newEventHash)\n\n    if (event.returnValues.account !== undefined\n        && event.returnValues.account.toLowerCase() === account.toLowerCase()) {\n      allEvents = [...allEvents, event]\n      callback(allEvents)\n    } else if (event.event === 'Sunrise') {\n      callback(allEvents)\n      txCallback()\n      lastTotalsRefresh = (new Date()).getTime()\n      lastPriceRefresh = (new Date()).getTime()\n    } else if (event.event === 'SupplyIncrease' && lastCrossEvent === 'SupplyDecrease') {\n      setLastCross(event.returnValues.season)\n      lastCrossEvent = 'SupplyIncrease'\n    } else if (event.event === 'SupplyDecrease' && lastCrossEvent === 'SupplyIncrease') {\n      setLastCross(event.returnValues.season)\n      lastCrossEvent = 'SupplyDecrease'\n    } else if (event.event === 'SeasonOfPlenty' ) {\n      setLastCross(event.returnValues.season)\n    } else {\n      if ((new Date()).getTime() - lastTotalsRefresh > 5000) {\n        console.log('UPDATING TOTALS!')\n        updateTotals()\n        lastTotalsRefresh = (new Date()).getTime()\n      }\n    }\n  })\n\n  benchmarkEnd('EVENT LISTENER', startTime)\n  return eventInitializers\n}\n\nexport function parseWithdrawals(withdrawals, index: BigNumber) {\n   let receivable = new BigNumber(0)\n   let transit = new BigNumber(0)\n   let transitWithdrawals = {}\n   let receivableWithdrawals = {}\n   Object.keys(withdrawals).forEach(s => {\n     if ((new BigNumber(s)).isLessThanOrEqualTo(index)) {\n       receivable = receivable.plus(withdrawals[s])\n       receivableWithdrawals[s] = withdrawals[s]\n     }\n     else {\n       transit = transit.plus(withdrawals[s])\n       transitWithdrawals[s] = withdrawals[s]\n     }\n   })\n   return [transit, receivable, transitWithdrawals, receivableWithdrawals]\n}\n\nexport function addRewardedCrates(crates, season, rewardedBeans, rewardedStalk) {\n  if (rewardedBeans.isEqualTo(0)) return crates\n  let rewardedSeasons = (\n    rewardedStalk\n      .dividedBy(rewardedBeans.multipliedBy(0.0002))\n      .integerValue(BigNumber.ROUND_DOWN)\n  )\n  rewardedStalk = (\n    rewardedStalk\n      .minus(rewardedSeasons.multipliedBy(rewardedBeans).multipliedBy(0.0002))\n  )\n  // BigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_DOWN})\n  // const previousSeasonBeans = new BigNumber(rewardedStalk.dividedBy(0.0002).toFixed(6))\n  // const seasonBeans = new BigNumber(rewardedBeans.minus(previousSeasonBeans).toFixed(6))\n  BigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_HALF_UP})\n  const ds = parseInt(season.minus(rewardedSeasons))\n  crates[ds] = rewardedBeans\n  // crates[ds] = (crates[ds] === undefined) ? seasonBeans : crates[ds].plus(seasonBeans)\n  // if (previousSeasonBeans.isGreaterThan(0)) {\n  //   const pds = parseInt(season.minus(rewardedSeasons).minus(1))\n  //   crates[pds] = (crates[pds] === undefined) ? previousSeasonBeans : crates[pds].plus(previousSeasonBeans)\n  // }\n  return crates\n}\n\nexport function parsePlots(plots, index: BigNumber) {\n   let pods = new BigNumber(0)\n   let harvestablePods = new BigNumber(0)\n   let unharvestablePlots = {}\n   let harvestablePlots = {}\n   Object.keys(plots).forEach(p => {\n     if ((plots[p].plus(p)).isLessThanOrEqualTo(index)) {\n       harvestablePods = harvestablePods.plus(plots[p])\n       harvestablePlots[p] = plots[p]\n     }\n     else if ((new BigNumber(p)).isLessThan(index)) {\n       harvestablePods = harvestablePods.plus(index.minus(p))\n       pods = pods.plus(plots[p].minus(index.minus(p)))\n       harvestablePlots[p] = index.minus(p)\n       unharvestablePlots[index.minus(p).plus(p)] = plots[p].minus(index.minus(p))\n     }\n     else {\n       pods = pods.plus(plots[p])\n       unharvestablePlots[p] = plots[p]\n     }\n   })\n\n   return [pods, harvestablePods, unharvestablePlots, harvestablePlots]\n}\n","import { account, beanstalkContract, txCallback } from './index'\n\nexport const sowBeans = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndSowBeans(amount, claimable)\n      : beanstalkContract().methods.sowBeans(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const buyAndSowBeans = async (amount, buyBeanAmount, ethAmount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimBuyAndSowBeans(amount, buyBeanAmount, claimable)\n      : beanstalkContract().methods.buyAndSowBeans(amount, buyBeanAmount)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const harvest = async (plots, callback) => {\n  await beanstalkContract().methods.harvest(plots).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","import { account, beanstalkContract, txCallback } from './index'\n\nexport const vote = async (bip, callback) => {\n  await beanstalkContract().methods.vote(bip).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const unvote = async (bip, callback) => {\n  await beanstalkContract().methods.unvote(bip).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const percentForStalk = (stalk, totalStalk) => {\n  return stalk.dividedBy(totalStalk).multipliedBy(100).decimalPlaces(2).toNumber()\n}\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  BEANSTALK,\n  ETH,\n  STALK,\n  UNI_V2_ETH_BEAN_LP,\n  UNI_V2_USDC_ETH_LP,\n  UNISWAP_V2_ROUTER,\n} from '../constants'\nimport {\n  account,\n  beanstalkContract,\n  initializing,\n  pairContract,\n  tokenContract,\n  toTokenUnitsBN,\n  web3\n} from './index'\n\n  /* Client is responsible for calling execute() */\nexport const createLedgerBatch = () => (\n  new web3.BatchRequest()\n)\n\nconst makeBatchedPromises = (batch, promisesAndResultHandlers) => {\n  const batchedPromises = promisesAndResultHandlers.map(methodAndHandler => (\n    new Promise((resolve, reject) => {\n      batch.add(methodAndHandler[0].call.request({}, 'latest', (error, result) => {\n        if (result !== undefined)\n          resolve(methodAndHandler[1](result))\n        else\n          reject(error)\n      }))\n    })\n  ))\n  return Promise.all(batchedPromises)\n}\n\nconst identityResult = (result) => ( result )\nconst bigNumberResult = (result) => ( new BigNumber(result) )\nconst tokenResult = (token) => (\n  result => toTokenUnitsBN(new BigNumber(result), token.decimals)\n)\n\nexport async function getEtherBalance() {\n  return tokenResult(ETH)(await web3.eth.getBalance(account))\n}\n\nexport async function getBlockTimestamp(blockNumber) {\n  await initializing\n  return (await web3.eth.getBlock(blockNumber)).timestamp\n}\n\n  /* Batched Getters */\nexport const getAccountBalances = async (batch) => {\n  const bean = tokenContract(BEAN)\n  const lp = tokenContract(UNI_V2_ETH_BEAN_LP)\n  const beanstalk = beanstalkContract()\n\n  return makeBatchedPromises(batch, [\n    [bean.methods.allowance(account, UNISWAP_V2_ROUTER), bigNumberResult],\n    [bean.methods.allowance(account, BEANSTALK.addr), bigNumberResult],\n    [lp.methods.allowance(account, BEANSTALK.addr), bigNumberResult],\n    [beanstalk.methods.balanceOfEth(account), tokenResult(ETH)],\n    [bean.methods.balanceOf(account), tokenResult(BEAN)],\n    [lp.methods.balanceOf(account), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.balanceOfSeeds(account), tokenResult(BEANSTALK)],\n    [beanstalk.methods.balanceOfStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.lockedUntil(account), bigNumberResult],\n    [beanstalk.methods.balanceOfFarmableBeans(account), tokenResult(BEANSTALK)],\n    [beanstalk.methods.balanceOfFarmableStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.balanceOfGrownStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.balanceOfRoots(account), tokenResult(BEANSTALK)],\n  ])\n}\n/* last balanceOfIncreaseStalk is balanceOfGrownStalk once transitioned */\n\nexport const getTotalBalances = async (batch) => {\n  const bean = tokenContract(BEAN)\n  const lp = tokenContract(UNI_V2_ETH_BEAN_LP)\n  const beanstalk = beanstalkContract()\n\n  return makeBatchedPromises(batch, [\n    [bean.methods.totalSupply(), tokenResult(BEAN)],\n    [lp.methods.totalSupply(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalSeeds(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.totalStalk(), tokenResult(STALK)],\n    [beanstalk.methods.totalDepositedBeans(), tokenResult(BEAN)],\n    [beanstalk.methods.totalDepositedLP(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalWithdrawnBeans(), tokenResult(BEAN)],\n    [beanstalk.methods.totalWithdrawnLP(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalSoil(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.podIndex(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.harvestableIndex(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.totalRoots(), tokenResult(BEANSTALK)],\n    [\n      beanstalk.methods.weather(),\n      stringWeather => ({\n        didSowBelowMin: stringWeather.didSowBelowMin,\n        didSowFaster: stringWeather.didSowFaster,\n        lastDSoil: tokenResult(BEAN)(stringWeather.lastDSoil),\n        lastSoilPercent: bigNumberResult(stringWeather.lastSoilPercent),\n        lastSowTime: bigNumberResult(stringWeather.lastSowTime),\n        nextSowTime: bigNumberResult(stringWeather.nextSowTime),\n        startSoil: tokenResult(BEAN)(stringWeather.startSoil),\n        weather: bigNumberResult(stringWeather.yield),\n      })\n    ],\n    [\n      beanstalk.methods.rain(),\n      stringRain => ({\n        raining: stringRain.raining,\n        rainStart: bigNumberResult(stringRain.start),\n      })\n    ],\n    [\n      beanstalk.methods.time(),\n      time => ({\n        season: bigNumberResult(time.current),\n        start: bigNumberResult(time.start),\n        period: bigNumberResult(time.period),\n        timestamp: bigNumberResult(time.timestamp),\n      })\n    ],\n  ])\n}\n\n  /* TODO: batch BIP detail ledger reads */\nexport const getBips = async () => {\n  const beanstalk = beanstalkContract()\n  const numberOfBips = bigNumberResult(await beanstalk.methods.numberOfBips().call())\n  var bips = []\n  for (var i = new BigNumber(0); i.isLessThan(numberOfBips); i = i.plus(1)) {\n    const bip = await beanstalk.methods.bip(i.toString()).call()\n    const bipRoots = (\n      bip.endTotalRoots.toString() === '0'\n        ? await beanstalk.methods.rootsFor(i.toString()).call()\n        : bip.roots\n    )\n    const bipDict = {\n      id: i,\n      executed: bip.executed,\n      increaseBase: bip.increaseBase,\n      pauseOrUnpause: bigNumberResult(bip.pauseOrUnpause),\n      start: bigNumberResult(bip.start),\n      period: bigNumberResult(bip.period),\n      proposer: bip.propser,\n      roots: tokenResult(STALK)(bipRoots),\n      endTotalRoots: tokenResult(STALK)(bip.endTotalRoots),\n      stalkBase: bigNumberResult(bip.stalkBase),\n      timestamp: bigNumberResult(bip.timestamp),\n      updated: bigNumberResult(bip.updated),\n      active: false\n    }\n    bips.push(bipDict)\n  }\n\n  let hasActiveBIP = false\n  const activeBips = await beanstalk.methods.activeBips().call()\n  activeBips.forEach(id => {\n    hasActiveBIP = true\n    bips[parseInt(id)].active = true\n  })\n  return [bips, hasActiveBIP]\n}\n\nexport const getPrices = async (batch) => {\n  const beanstalk = beanstalkContract()\n  const referenceLPContract = pairContract(UNI_V2_USDC_ETH_LP)\n  const lpContract = pairContract(UNI_V2_ETH_BEAN_LP)\n\n  return makeBatchedPromises(batch, [\n    [\n      referenceLPContract.methods.getReserves(),\n      reserves => [bigNumberResult(reserves._reserve0), bigNumberResult(reserves._reserve1)]\n    ],\n    [\n      lpContract.methods.getReserves(),\n      reserves => [bigNumberResult(reserves._reserve0), bigNumberResult(reserves._reserve1)]\n    ],\n    [lpContract.methods.token0(), identityResult],\n    [\n      beanstalk.methods.getTWAPPrices(),\n      prices => [toTokenUnitsBN(prices[0], 18), toTokenUnitsBN(prices[1], 18)]\n    ],\n  ])\n}\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  BEANSTALK,\n  UNI_V2_ETH_BEAN_LP,\n  UNISWAP_V2_ROUTER\n} from '../constants'\nimport BeanLogo from '../img/bean-logo.svg'\nimport ClaimableIcon from '../img/claimable-icon.svg'\nimport EthereumLogo from '../img/eth-logo.svg'\nimport LPLogo from '../img/lp-logo.svg'\nimport PodLogo from '../img/pod-logo.svg'\nimport SeedLogo from '../img/seed-logo.svg'\nimport SiloIcon from '../img/silo-icon.svg'\nimport StalkLogo from '../img/stalk-logo.svg'\nimport TransitIcon from '../img/transit-icon.svg'\nimport UniswapIcon from '../img/uniswap-icon.svg'\nimport { account, txCallback, tokenContract } from './index'\n\nconst MAX_UINT256 = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n\nexport enum CryptoAsset     { Bean = 0, Ethereum, LP }\nexport enum SiloAsset       { Stalk = 3, Seed, Bean, LP }\nexport enum TransitAsset    { Bean = 7, LP }\nexport enum FarmAsset       { Pods = 9 }\nexport enum ClaimableAsset  { Bean = 10, LP, Ethereum, Stalk }\nexport enum UniswapAsset    { Bean = 14 }\nexport type Token = CryptoAsset | SiloAsset | FarmAsset | ClaimableAsset | TransitAsset | UniswapAsset\n\nexport const transferBeans = async (to: string, amount: BigNumber, callback)  => {\n  await tokenContract(BEAN).methods.transfer(to, amount).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const approveUniswapBean = async (callback) => {\n  approveToken(BEAN, account, UNISWAP_V2_ROUTER, MAX_UINT256, callback)\n}\n\nexport const approveBeanstalkBean = async (callback) => {\n  approveToken(BEAN, account, BEANSTALK.addr, MAX_UINT256, callback)\n}\n\nexport const approveBeanstalkLP = async (callback) => {\n  approveToken(UNI_V2_ETH_BEAN_LP, account, BEANSTALK.addr, MAX_UINT256, callback)\n}\n\nexport const approveToken = async (token, address: String, spender: String, amount: String, callback: (number) => void) => {\n  await tokenContract(token).methods.approve(spender, amount).send({from: address})\n    .on('transactionHash', (hash) => { callback(1) })\n    .on('receipt',         (hash) => { callback(2) })\n    .on('error',           (error) => { callback(0) })\n}\n\nexport function TokenLabel(tokenType: Token): string {\n  switch (tokenType) {\n    case CryptoAsset.Bean:\n      return 'Beans'\n    case CryptoAsset.Ethereum:\n      return 'ETH'\n    case CryptoAsset.LP:\n      return 'LP'\n    case SiloAsset.Stalk:\n      return 'Stalk'\n    case SiloAsset.Seed:\n      return 'Seeds'\n    case SiloAsset.Bean:\n      return 'Deposited Beans'\n    case SiloAsset.LP:\n      return 'Deposited LP'\n    case TransitAsset.Bean:\n      return 'Withdrawn Beans'\n    case TransitAsset.LP:\n      return 'Withdrawn LP'\n    case FarmAsset.Pods:\n      return 'Pods'\n    case ClaimableAsset.Bean:\n      return 'Claimable Beans'\n    case ClaimableAsset.LP:\n      return 'Claimable LP'\n    case ClaimableAsset.Ethereum:\n      return 'Claimable ETH'\n    case ClaimableAsset.Stalk:\n      return 'Claimable Stalk'\n    case UniswapAsset.Bean:\n      return 'Pooled Beans'\n  }\n}\n\nexport function TokenImage(tokenType: Token): string {\n  switch (tokenType) {\n    case ClaimableAsset.Bean:\n    case CryptoAsset.Bean:\n    case SiloAsset.Bean:\n    case TransitAsset.Bean:\n    case UniswapAsset.Bean:\n        return BeanLogo\n\n    case ClaimableAsset.Ethereum:\n    case CryptoAsset.Ethereum:\n      return EthereumLogo\n\n    case ClaimableAsset.LP:\n    case CryptoAsset.LP:\n    case SiloAsset.LP:\n    case TransitAsset.LP:\n      return LPLogo\n\n    case ClaimableAsset.Stalk:\n    case SiloAsset.Stalk:\n      return StalkLogo\n\n    case SiloAsset.Seed:\n      return SeedLogo\n\n    case FarmAsset.Pods:\n      return PodLogo\n  }\n}\n\nexport function TokenTypeImage(tokenType: Token): string {\n  if (tokenType < 5 || tokenType === 9) return null\n  if (tokenType < 7) return SiloIcon\n  if (tokenType < 9) return TransitIcon\n  if (tokenType < 14) return ClaimableIcon\n  if (tokenType < 15) return UniswapIcon\n}\n\nexport function TrimBN(bn: BigNumber, decimals: number): BigNumber {\n  if (typeof bn !== 'object')\n    return new BigNumber(bn)\n\n  const numberString = bn.toString()\n  const decimalComponents = numberString.split('.')\n  if (bn.isLessThan(0) || decimalComponents.length < 2)\n    return bn\n\n  const decimalsFound = decimalComponents[1].length\n  const decimalsToTrim = decimalsFound < decimals ? 0 : decimalsFound - decimals\n  return new BigNumber(numberString.substr(0, numberString.length - decimalsToTrim))\n}\n\nexport function displayBN(bn: BigNumber) {\n  if (bn === undefined || bn.isLessThan(new BigNumber(0)))\n    return '0'\n  if(bn.isEqualTo(0))\n    return '0'\n  if (bn.isLessThanOrEqualTo(1e-8))\n    return '<.00000001'\n  if (bn.isLessThanOrEqualTo(1e-3))\n    return TrimBN(bn, 8).toFixed()\n\n  if (bn.isGreaterThanOrEqualTo(1e12))\n    return TrimBN(bn.dividedBy(1e12), 4) + 'T' /* Trillions */\n  if (bn.isGreaterThanOrEqualTo(1e9))\n    return TrimBN(bn.dividedBy(1e9), 3) + 'B' /* Billions */\n  if (bn.isGreaterThanOrEqualTo(1e6))\n    return TrimBN(bn.dividedBy(1e6), 2) + 'M' /* Millions */\n  if (bn.isGreaterThanOrEqualTo(1e3))\n    return TrimBN(bn.dividedBy(1e3), 2) + 'K' /* Thousands */\n\n  const decimals = bn.isGreaterThan(10) ? 2 : bn.isGreaterThan(1) ? 3 : 4\n  return TrimBN(bn, decimals).toFixed()\n}\n\nexport function displayFullBN(bn: BigNumber, maxDecimals: number = 18) {\n  return bn.toNumber().toLocaleString('en-US', {maximumFractionDigits: maxDecimals})\n}\n\nexport function MinBNs(array) : BigNumber {\n  return array.reduce(function(prev, curr) {\n    return prev.isLessThanOrEqualTo(curr) ? prev : curr\n  })\n}\n\nexport function MaxBNs(array) : BigNumber {\n  return array.reduce(function(prev, curr) {\n    return prev.isGreaterThan(curr) ? prev : curr\n  })\n}\n\nexport function MinBN(bn1: BigNumber, bn2: BigNumber): BigNumber {\n  if (bn1.isLessThanOrEqualTo(bn2))\n    return bn1\n  else\n    return bn2\n}\n\nexport function MaxBN(bn1: BigNumber, bn2: BigNumber): BigNumber {\n  if (bn1.isGreaterThan(bn2))\n    return bn1\n  else\n    return bn2\n}\n\nexport function toBaseUnitBN(rawAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const raw = new BigNumber(rawAmt)\n  const base = new BigNumber(10)\n  const decimalsBN = new BigNumber(decimals)\n  return raw.multipliedBy(base.pow(decimalsBN)).integerValue()\n}\n\nexport function toStringBaseUnitBN(rawAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const raw = new BigNumber(rawAmt)\n  const base = new BigNumber(10)\n  const decimalsBN = new BigNumber(decimals)\n  return raw.multipliedBy(base.pow(decimalsBN)).integerValue().toString()\n}\n\nexport function toTokenUnitsBN(tokenAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const amt = new BigNumber(tokenAmt)\n  const digits = new BigNumber(10).pow(new BigNumber(decimals))\n  return amt.div(digits)\n}\n","export const notify = {\n  hash: (v: String) => console.log(`tx hash: ${v}`)\n}\n","import { account, beanstalkContract, txCallback } from './index'\nimport { notify } from './txNotifier.js'\n\nexport const sunrise = async () => {\n  await beanstalkContract().methods.sunrise().send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","import BigNumber from 'bignumber.js'\nimport { account, beanstalkContract, txCallback } from './index'\nimport { notify } from './txNotifier.js'\n\nexport const depositBeans = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndDepositBeans(amount, claimable)\n      : beanstalkContract().methods.depositBeans(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimAndWithdrawBeans = async (crates, amounts, claimable, callback) => {\n  await beanstalkContract().methods.claimAndWithdrawBeans(crates, amounts, claimable).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const withdrawBeans = async (crates, amounts, callback) => {\n  await beanstalkContract().methods.withdrawBeans(crates, amounts).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimBeans = async (withdrawals, callback) => {\n  await beanstalkContract().methods.claimBeans(withdrawals).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const depositLP = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndDepositLP(amount, claimable)\n      : beanstalkContract().methods.depositLP(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const addAndDepositLP = async (lp: BigNumber, buyBeanAmount: BigNumber, buyEthAmount: BigNumber, ethAmount: BigNumber, addLP, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAddAndDepositLP(lp, buyBeanAmount, buyEthAmount, addLP, claimable)\n      : beanstalkContract().methods.addAndDepositLP(lp, buyBeanAmount, buyEthAmount, addLP)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const convertAddAndDepositLP = async(lp: BigNumber, ethAmount: BigNumber, addLP, crates, amounts, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimConvertAddAndDepositLP(lp, addLP, crates, amounts, claimable)\n      : beanstalkContract().methods.convertAddAndDepositLP(lp, addLP, crates, amounts)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const withdrawLP = async (crates, amounts, callback) => {\n  await beanstalkContract().methods.withdrawLP(crates, amounts).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimAndWithdrawLP = async (crates, amounts, claimable, callback) => {\n  await beanstalkContract().methods.claimAndWithdrawLP(crates, amounts, claimable).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const removeAndClaimLP = async (withdrawals, minBeanAmount, minEthAmount, callback) => {\n  await beanstalkContract().methods.removeAndClaimLP(withdrawals, minBeanAmount, minEthAmount).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimLP = async (withdrawals, callback) => {\n  await beanstalkContract().methods.claimLP(withdrawals).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claim = async (claimable) => {\n  await beanstalkContract().methods.claim(claimable).send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const updateSilo = async () => {\n  await beanstalkContract().methods.updateSilo(account).send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const buyAndDepositBeans = async (amount, buyBeanAmount, ethAmount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimBuyAndDepositBeans(amount, buyBeanAmount, claimable)\n      : beanstalkContract().methods.buyAndDepositBeans(amount, buyBeanAmount)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","export default __webpack_public_path__ + \"static/media/claimable-icon.c6127cf9.svg\";","export default __webpack_public_path__ + \"static/media/eth-logo.b1d3f1e9.svg\";","export default __webpack_public_path__ + \"static/media/lp-logo.a7d6c1ec.svg\";","export default __webpack_public_path__ + \"static/media/pod-logo.f3120cbd.svg\";","export default __webpack_public_path__ + \"static/media/seed-logo.fe1c2c85.svg\";","export default __webpack_public_path__ + \"static/media/silo-icon.9e5b4cff.svg\";","export default __webpack_public_path__ + \"static/media/stalk-logo.624c3b0b.svg\";","export default __webpack_public_path__ + \"static/media/transit-icon.b69f1fba.svg\";","export default __webpack_public_path__ + \"static/media/uniswap-icon.43af9019.svg\";","import BigNumber from 'bignumber.js'\nimport { BEAN, WETH } from '../constants'\nimport { account, MinBN, txCallback, uniswapRouterContract } from './index'\n\nconst DEADLINE_FROM_NOW = 60 * 15\nconst createDeadline = () => ( Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW )\n\nexport enum SwapMode { Bean = 0, BeanEthereum, Ethereum, LP, BeanEthereumSwap }\n\nexport const buyBeans = async (amountIn, amountOutMin, callback) => {\n  await uniswapRouterContract().methods.swapExactETHForTokens(\n    amountOutMin,\n    [WETH.addr, BEAN.addr],\n    account,\n    createDeadline(),\n  ).send({from: account, value: amountIn})\n    .on('transactionHash', (hash) => { callback(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const sellBeans = async (amountIn, amountOutMin, callback) => {\n  await uniswapRouterContract().methods.swapExactTokensForETH(\n    amountIn,\n    amountOutMin,\n    [BEAN.addr, WETH.addr],\n    account,\n    createDeadline(),\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const tokenForLP = (amount, reserve, totalLP) => {\n  return amount.multipliedBy(reserve).dividedBy(totalLP)\n}\n\nexport const poolForLP = (amount, reserve1, reserve2, totalLP) => {\n  if (amount.isLessThanOrEqualTo(0)\n      || reserve1.isLessThanOrEqualTo(0)\n      || reserve2.isLessThanOrEqualTo(0)\n      || totalLP.isLessThanOrEqualTo(0))\n      return [new BigNumber(0), new BigNumber(0)]\n  return [tokenForLP(amount, reserve1, totalLP), tokenForLP(amount, reserve2, totalLP)]\n}\n\nexport const lpForToken = (amount, reserve, totalLP) => {\n  return amount.multipliedBy(totalLP).dividedBy(reserve)\n}\n\nexport const lpForPool = (amount1, reserve1, amount2, reserve2, totalLP) => {\n  return MinBN(lpForToken(amount1, reserve1, totalLP), lpForToken(amount2, reserve2, totalLP))\n}\n\nexport const getToAmount = (amountIn: BigNumber, reserveIn: BigNumber, reserveOut: BigNumber) => {\n  if (amountIn.isLessThanOrEqualTo(0) || reserveIn.isLessThanOrEqualTo(0) || reserveOut.isLessThanOrEqualTo(0))\n    return new BigNumber(0)\n  const amountInWithFee = amountIn.multipliedBy(997)\n  const numerator = amountInWithFee.multipliedBy(reserveOut)\n  const denominator = (reserveIn.multipliedBy(1000)).plus(amountInWithFee)\n  return numerator.dividedBy(denominator)\n}\n\nexport const getFromAmount = (amountOut: BigNumber, reserveIn: BigNumber, reserveOut: BigNumber, decimals=6) => {\n  if (amountOut.isLessThanOrEqualTo(0) || reserveIn.isLessThanOrEqualTo(0) || reserveOut.isLessThanOrEqualTo(0))\n    return new BigNumber(0)\n  const numerator = reserveIn.multipliedBy(amountOut).multipliedBy(1000)\n  const denominator = (reserveOut.minus(amountOut)).multipliedBy(997)\n  return numerator.dividedBy(denominator).plus(Math.pow(10, 0 - decimals))\n}\n\nexport const getBuyAndAddLPAmount = (eth: BigNumber, ethReserve: BigNumber, beanReserve: BigNumber) => {\n  const zeroBN = new BigNumber(0)\n  const fee = new BigNumber(0.997)\n  const c = eth.multipliedBy(fee).multipliedBy(beanReserve).multipliedBy(beanReserve)\n  const b = zeroBN\n    .minus(fee.multipliedBy(2).multipliedBy(eth).multipliedBy(beanReserve))\n    .minus(fee.multipliedBy(ethReserve).multipliedBy(beanReserve))\n    .minus(ethReserve.multipliedBy(beanReserve))\n  const a = fee.multipliedBy(eth).plus(fee.multipliedBy(ethReserve));\n  const determinant = b.multipliedBy(b).minus(a.multipliedBy(c).multipliedBy(4))\n\n  const beans1 = zeroBN.minus(b.minus(determinant.sqrt())).dividedBy(a.multipliedBy(2))\n  const beans2 = zeroBN.minus(b.plus(determinant.sqrt())).dividedBy(a.multipliedBy(2))\n  const estBeans = getToAmount(eth, ethReserve, beanReserve)\n  return (\n    estBeans.minus(beans1).absoluteValue().isLessThanOrEqualTo(estBeans.minus(beans2).absoluteValue())\n      ? beans1\n      : beans2\n  )\n}\n","import Web3 from 'web3'\nimport { BEANSTALK, UNISWAP_V2_ROUTER } from '../constants'\n\nexport * from './EventUtilities'\nexport * from './FieldUtilities'\nexport * from './GovernanceUtilities'\nexport * from './LedgerUtilities'\nexport * from './SeasonUtilities'\nexport * from './SiloUtilities'\nexport * from './TokenUtilities'\nexport * from './UniswapUtilities'\n\nlet ethereum\nlet accounts: any\nexport let initializing\nexport let web3: Web3\nexport let account: String\nexport let txCallback = null\nexport let metamaskFailure = -1\n\nconst beanAbi = require('../constants/abi/Bean.json')\nconst beanstalkAbi = require('../constants/abi/Beanstalk.json')\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json')\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json')\n\nexport const tokenContract = (token) => ( new web3.eth.Contract(beanAbi, token.addr) )\nexport const beanstalkContract = () => ( new web3.eth.Contract(beanstalkAbi, BEANSTALK.addr) )\nexport const pairContract = (pair) => ( new web3.eth.Contract(uniswapPairAbi, pair.addr) )\nexport const uniswapRouterContract = () => ( new web3.eth.Contract(uniswapRouterAbi, UNISWAP_V2_ROUTER) )\n\nexport async function initialize(): Promise<void> {\n  if (!ethereum) {\n    try {\n      ethereum = (window as any).ethereum\n      if (!Boolean(ethereum)) {\n        metamaskFailure = 0\n        return false\n      } if (!ethereum.isMetaMask) {\n        metamaskFailure = 1\n        return false\n      }\n      if (ethereum && (web3 === undefined)) {\n        web3 = new Web3(ethereum)\n        initializeMetaMaskListeners()\n        accounts = await ethereum.request({method: 'eth_requestAccounts'})\n        account = Web3.utils.toChecksumAddress(accounts[0])\n        if (!(parseInt(await ethereum.request({ method: 'eth_chainId' })) === 1)\n            && !(parseInt(await ethereum.request({ method: 'eth_chainId' })) === 3)) {\n          metamaskFailure = 3\n          return false\n        }\n        if (account === undefined) {\n          metamaskFailure = 2\n          return false\n        }\n      }\n    } catch {\n      metamaskFailure = 2\n      return false\n    }\n    return true\n  } else {\n    await initializing\n    return true\n  }\n}\n\nasync function initializeMetaMaskListeners() {\n  const changeHandler = (accounts) => { window.location.reload() }\n  ethereum.on('accountsChanged', changeHandler)\n  ethereum.on('chainChanged', changeHandler)\n}\n\nexport function initializeCallback(callback) {\n  txCallback = callback\n}\n\nexport async function isAddress(a) {\n  return web3.utils.isAddress(a)\n}\n\nexport async function GetWalletAddress(): Promise<string | undefined> {\n  await initializing\n  if (accounts !== undefined)\n    return account\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdQAAAEWCAYAAABv3hVRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABiGSURBVHgB7d37cRvnuQbwBSjFF/nC8eSfM5PjiBVYHVgd2KkgTgV2KohVQZwKElcQp4KjdCBXQPoyI08mtihFlpTIAM73glwZYnh5Aexid4HfbwYDkCLly3C/B/u8/HZHs8lkVgEAAAAAAJe5M64AAAAAAIArKdQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAA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\"","export default __webpack_public_path__ + \"static/media/Barn.d81a776e.svg\";","export default __webpack_public_path__ + \"static/media/Sun.e02a1495.svg\";","import React from 'react'\nimport { Button, InputAdornment, TextField } from '@material-ui/core'\nimport CheckIcon from '@material-ui/icons/Check'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { makeStyles } from '@material-ui/styles'\n\nexport default function AddressInputField(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontFamily: 'Lucida Console',\n      fontSize: 'calc(15px + 1vmin)',\n      fontWeight: '400',\n    }\n  }))()\n\n  const smallLabels = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: 'calc(9px + 0.7vmin)',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n    width: 'calc(100% - 13px)',\n  }\n\n  let endAdornment\n  let startAdornment\n  if (props.snapped) {\n    endAdornment = (\n      <InputAdornment position='end'>\n        <Button onClick={props.handleClear} >\n          <ClearIcon />\n        </Button>\n      </InputAdornment>\n    )\n    startAdornment = (\n      props.isValidAddress === true\n        ? <InputAdornment position='start'>\n            <CheckIcon style={{color: 'green'}} />\n          </InputAdornment>\n        : <InputAdornment position='start'>\n            <CancelIcon style={{color: 'red'}} />\n          </InputAdornment>\n    )\n  }\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>{'Recipient Address'}</div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0x00000'\n        variant='outlined'\n        size='medium'\n        type='text'\n        disabled={props.handleChange === undefined}\n        value={props.address}\n        onChange={props.handleChange}\n        onKeyDown={(e) => (false && e.preventDefault())}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            maxLength: 42\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment,\n          startAdornment\n        }}\n      />\n    </div>\n  )\n}\n\nAddressInputField.defaultProps = {\n  action: 'Send',\n  token: 'Beans',\n  maxval: 0,\n}\n","import { FormatTooltip, QuestionModule } from './index'\n\nexport default function BalanceModule(props) {\n\n  const spanContent = (\n    <span>\n      {props.content !== undefined\n        ? props.content\n        : <div className='BalanceModule-balanceContent' style={props.style}>{props.balance}</div>\n      }\n    </span>\n  )\n\n  const balanceSection = (\n    props.balanceDescription !== undefined\n      ? <FormatTooltip\n          margin={props.margin}\n          placement={props.placement !== undefined ? props.placement : 'right'}\n          title={props.balanceDescription}\n        >\n          {spanContent}\n        </FormatTooltip>\n      : spanContent\n  )\n\n  return (\n    <div>\n      <div className={'BalanceModule-title' + (props.swerve !== undefined ? ' TokenBalanceModule-header' : '')} style={props.style}>\n        {props.title}\n        <QuestionModule description={props.description} margin={props.questionMargin}/>\n      </div>\n      <div className={'BalanceModule-balance' + (props.swerve !== undefined ? ' TokenBalanceModule-content' : '')} style={props.style}>\n        {balanceSection}\n      </div>\n    </div>\n  )\n}\n\nBalanceModule.defaultProps = {\n  questionMargin: '-8px 0 0 -1px'\n}\n","import BigNumber from 'bignumber.js'\nimport { Fragment } from 'react'\nimport { AppBar, Button, Tab, Tabs } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport LockIcon from '@material-ui/icons/Lock'\nimport { FormatTooltip } from './index'\n\nexport default function BaseModule(props) {\n  const classes = makeStyles(theme => ({\n    inputModule: {\n      backgroundColor: '#F5FAFF',\n      borderRadius: '25px',\n      color: 'black',\n      marginTop: '44px',\n      padding: '10px'\n    },\n    sectionTab: {\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: '18px',\n      minWidth: '44px',\n      textTransform: 'uppercase'\n    },\n    formButton: {\n      borderRadius: '15px',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '12px 12px',\n      width: '200px'\n    },\n    indicator: {\n      backgroundColor: 'transparent',\n      display: 'flex',\n      justifyContent: 'center',\n      '& > span': {\n        backgroundColor: '#627264',\n        borderRadius: '3.5px',\n        height: '7px',\n        marginTop: '-8px',\n        maxWidth: '7px',\n        width: '100%'\n      }\n    },\n    noIndicator: {\n      backgroundColor: 'transparent'\n    }\n  }))()\n\n  function a11yProps(index) {\n    return {\n      key: `${index}`,\n      id: `full-width-tab-${index}`,\n      'aria-controls': `full-width-tabpanel-${index}`\n    }\n  }\n\n  const allowanceCallback = (transactionState) => {\n    switch(transactionState) {\n      case 1:\n        props.setAllowance(new BigNumber(-1))\n        break\n      case 2:\n        props.setAllowance(new BigNumber(1))\n        break\n      case 3:\n        if (props.allowance.isEqualTo(-1)) {\n          props.setAllowance(0)\n        }\n        break\n    }\n  }\n\n  const approveHandler = () => {\n    props.handleApprove(allowanceCallback)\n  }\n\n  let buttonLabel\n  let buttonHandler\n  if (props.allowance.isEqualTo(0)) {\n    buttonLabel = 'APPROVE'\n    buttonHandler = approveHandler\n  } else if (props.locked) {\n    buttonLabel = (\n      <Fragment>\n        <LockIcon/>\n        <div style={{style: 'inline-block'}}>{`${props.lockedSeasons} seasons`}</div>\n      </Fragment>\n    )\n  } else if (props.allowance.isGreaterThan(0)) {\n    buttonLabel = props.sectionTitles[props.section]\n    buttonHandler = props.handleForm\n  } else {\n    buttonLabel = 'WAITING . . .'\n    buttonHandler = null\n  }\n\n  let showButton\n  if (props.showButton) {\n    showButton = (\n      <FormatTooltip\n        placement='top'\n        margin='0 0 0 7px'\n        title={props.locked ? 'Unvote Active BIPs to Withdraw' : ''}\n      >\n        <div>\n          <Button\n            className={classes.formButton}\n            color='primary'\n            disabled={buttonLabel !== 'APPROVE' && (buttonHandler === null || props.isDisabled || props.locked)}\n            onClick={buttonHandler}\n            style={{maxWidth: '200px'}}\n            variant='contained'\n          >\n            {buttonLabel}\n          </Button>\n        </div>\n      </FormatTooltip>\n    )\n  } else {\n    <></>\n  }\n\n  return (\n    <AppBar className={classes.inputModule} position='static'>\n      <Tabs\n        classes={props.sectionTitles.length > 1 ? {indicator: classes.indicator} : {indicator: classes.noIndicator}}\n        indicatorColor='primary'\n        onChange={props.handleTabChange}\n        style={{width: '100%'}}\n        TabIndicatorProps={{ children: <span /> }}\n        textColor='primary'\n        value={props.section}\n        variant='fullWidth'\n      >\n      {\n        props.sectionTitles.map((sectionTitle, index) => {\n          return (\n            <Tab\n              className={classes.sectionTab}\n              disabled={props.sectionTitles.length < 2}\n              label={sectionTitle}\n              style={{color: 'black'}}\n              {...a11yProps(index)}\n            />\n          )\n        })\n      }\n      </Tabs>\n      <hr style={{color: 'primary', backgroundColor: 'primary', margin: '4px 8px'}} />\n      <form autoComplete='off' noValidate style={{padding: '0 10px 0 10px'}}>\n        <div style={{position: 'relative', zIndex: '0'}}>\n          {props.children}\n        </div>\n        {showButton}\n      </form>\n    </AppBar>\n  )\n}\n\nBaseModule.defaultProps = {\n  allowance: new BigNumber(1),\n  isDisabled: false,\n  locked: false,\n  showButton: true,\n}\n","import { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { TitleLabel } from './index'\n\nexport default function ContentSection(props) {\n  const classes = makeStyles(({\n    appSection: {\n      padding: '60px 30px'\n    },\n    sectionTitle: {\n      marginTop: '-28px',\n      width: '100%'\n    }\n  }))()\n\n  function renderTitle() {\n    if (props.title !== undefined) {\n      return (<div className={classes.sectionTitle}><TitleLabel>{props.title}</TitleLabel></div>)\n    }\n  }\n\n  return (\n    <div id={props.id} className='AppContent' style={props.style}>\n      <Grid container spacing={3} className={classes.appSection} justifyContent='center'>\n        { renderTitle() }\n        {props.children}\n      </Grid>\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport { MIN_BALANCE } from '../../constants'\nimport {\n  displayBN,\n  CryptoAsset,\n  MinBN,\n  SwapMode\n} from '../../util'\nimport { TokenInputField } from './index'\n\nexport default function EthInputField(props) {\n  if (!(props.mode === SwapMode.Ethereum || props.mode === SwapMode.BeanEthereum)) {\n    if (props.value.isGreaterThan(0)) props.handleChange(new BigNumber(-1))\n    return null\n  }\n\n  const textStyle = {\n    fontSize: '12px',\n    fontFamily: 'Futura-PT',\n    marginTop: '-10px'\n  }\n\n  const balance = props.balance\n\n  const maxBalance = (\n    balance.isGreaterThan(MIN_BALANCE)\n      ? balance.minus(MIN_BALANCE)\n      : new BigNumber(0)\n  )\n\n  const handleChange = (event) => {\n    if (event.target.value === undefined || event.target.value === '') {\n      props.handleChange(new BigNumber(-1))\n    } else {\n      props.handleChange(MinBN(balance, new BigNumber(event.target.value)))\n    }\n  }\n\n  const maxHandler = () => props.handleChange(maxBalance)\n\n  const textTransaction = `Buying About ${displayBN(props.buyBeans)} Beans ${props.sellEth !== undefined ? `with ${props.sellEth.toFixed(3)} ETH `: null}for ${props.updateExpectedPrice(props.sellEth !== undefined ? props.sellEth : props.value, props.buyBeans).toFixed(2)} Each`\n\n  return (\n    <>\n    <TokenInputField\n      balance={balance}\n      handleChange={handleChange}\n      maxHandler={maxHandler}\n      token={CryptoAsset.Ethereum}\n      value={props.value}\n    />\n   {props.buyBeans.isGreaterThan(0)\n     ? <div style={textStyle}>{textTransaction}</div>\n     : null\n    }\n   </>\n  )\n}\n\nEthInputField.defaultProps = {\n  balance: new BigNumber(-1),\n  buyBeans: new BigNumber(0),\n  claim: false,\n  claimableBalance: new BigNumber(0),\n  handleChange: (value: BigNumber) => {},\n  updateExpectedPrice: (a,b) => {},\n  value: new BigNumber(-1),\n}\n","import { Link } from '@material-ui/core'\nimport { SLIPPAGE_LINK } from '../../constants'\n\nexport default function FrontrunText(props) {\n  const linkStyle = {\n    color: 'red',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '12px',\n    marginTop: '-9px',\n  }\n  const textStyle = {\n    color: 'red',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '12px',\n    marginTop: '-4px',\n  }\n\n  return (\n    <div style={textStyle}>\n      {'Your Transaction may be Frontrun. Consider Lowering Slippage Tolerance.'}\n      <br/>\n      <Link href={SLIPPAGE_LINK} target='blank' style={linkStyle} >\n        Click Here\n      </Link>\n      {' to Learn More.'}\n    </div>\n  )\n}\n","import { makeStyles } from '@material-ui/styles'\nimport { QuestionModule } from './index'\n\nexport default function HeaderLabel(props) {\n  const classes = makeStyles(theme => ({\n    container: {\n      backgroundColor: '#627264',\n      borderRadius: '15px',\n      boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%),0px 1px 10px 0px rgb(0 0 0 / 12%)',\n      color: 'white',\n      display: 'flex',\n      fontSize: '16px',\n      margin: '-8px',\n      padding: '4px 4px',\n      textTransform: 'none'\n    },\n    title: {\n      fontFamily: 'Futura-PT-Book',\n      padding: '10px',\n      textAlign: 'left',\n      width: '67%'\n    },\n    value: {\n      fontFamily: 'Lucida Console',\n      padding: '10px',\n      textAlign: 'right',\n      width: '33%'\n    }\n  }))()\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.title}>\n        {props.title}\n        {props.description !== undefined\n          ? <QuestionModule\n              description={props.description}\n              margin={props.margin}\n              marginTooltip={props.marginTooltip}\n              placement={props.placement}\n            />\n          : undefined\n        }\n      </div>\n      <div className={classes.value}>\n         {props.value}\n      </div>\n    </div>\n  )\n}\n\nHeaderLabel.defaultProps = {\n  margin: '-8px 0 0 2px',\n  marginTooltip: '0 0 0 10px',\n}\n","import { HeaderLabel } from './index'\n\nexport default function HeaderLabelWithTimer(props) {\n  const [title, value, description] = props.display(props.time)\n\n  return (\n    <HeaderLabel\n      description={description}\n      marginTooltip='0 0 0 10px'\n      title={title}\n      value={value}\n    />\n  )\n}\n\nHeaderLabelWithTimer.defaultProps = {\n  display: (v) => { return ['', '', ''] }\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect } from 'react'\nimport { CryptoAsset, displayBN, MinBN } from '../../util'\nimport { TokenInputField } from './index'\n\nexport default function InputFieldPlus(props) {\n  const textStyle = {\n    fontSize: '12px',\n    fontFamily: 'Futura-PT',\n    marginTop: '-10px',\n  }\n\n  const balance = props.balance.plus(props.claim ? props.claimableBalance : 0)\n\n  const isClaimEnabled = props.claim\n  const parentChangeHandler = props.handleChange\n  const value = props.value\n\n  useEffect(() => {\n    if (value.isGreaterThan(balance)) {\n      parentChangeHandler(balance)\n    }\n  }, [balance, isClaimEnabled, value, parentChangeHandler])\n\n  if (!props.visible) {\n    if (props.value.isGreaterThan(0)) props.handleChange(new BigNumber(-1))\n    return null\n  }\n\n  const handleChange = (event) => {\n    if (event.target.value === undefined || event.target.value === '') {\n      props.handleChange(new BigNumber(-1))\n    } else {\n      props.handleChange(MinBN(balance, new BigNumber(event.target.value)))\n    }\n  }\n\n  const maxHandler = () => props.handleChange(balance)\n\n  const tokenInputField = (\n    <TokenInputField\n      balance={balance}\n      isLP={props.isLP}\n      handleChange={handleChange}\n      maxHandler={maxHandler}\n      poolForLPRatio={props.poolForLPRatio}\n      token={props.token}\n      value={props.value}\n    />\n  )\n\n  const textTransaction = (\n    props.sellToken !== undefined\n    ? `Buying About ${displayBN(props.buyEth)} ETH with ${props.sellToken.toFixed(3)} Beans for ${props.updateExpectedPrice(props.buyEth.multipliedBy(-1), props.sellToken.multipliedBy(-1)).toFixed(2)} Each`\n    : ''\n  )\n\n  return (\n    <>\n    {tokenInputField}\n    {props.buyEth.isGreaterThan(0)\n      ? <div style={textStyle}>{textTransaction}</div>\n      : null\n     }\n    </>\n  )\n}\n\nInputFieldPlus.defaultProps = {\n  balance: new BigNumber(-1),\n  claim: false,\n  claimableBalance: new BigNumber(0),\n  buyEth: new BigNumber(0),\n  handleChange: (value: BigNumber) => {},\n  isLP: false,\n  poolForLPRatio: undefined,\n  token: CryptoAsset.Bean,\n  updateExpectedPrice: (a,b) => {},\n  value: new BigNumber(-1),\n  visible: true,\n}\n","import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow\n} from '@material-ui/core/'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  CryptoAsset,\n  displayBN,\n  displayFullBN,\n  FarmAsset,\n  SiloAsset,\n  TokenLabel,\n  TransitAsset\n} from '../../util'\nimport { FormatTooltip, QuestionModule } from '../Common'\n\nexport default function ListTable(props) {\n  return (\n    <div style={props.style}>\n      <BasicTable {...props} />\n    </div>\n  )\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 200,\n    '& .MuiTableCell-root': {\n    },\n    '& .MuiTableCell-head': {\n      alignItems: 'center',\n      fontWeight: 'bold'\n    }\n  },\n  pagination: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  lucidaStyle: {\n    fontFamily: 'Lucida Console',\n    fontSize: '12px'\n  }\n})\n\nconst claimableStyle = {\n  fontFamily: 'Futura-PT',\n  color: 'white',\n  fontWeight: 'bold',\n  width: '33%',\n}\n\nfunction displayLP(balance) {\n  return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n}\n\nconst BasicTable = (props) => {\n  const classes = useStyles()\n\n  const rowsPerPage = 3\n\n  const reverse = (\n    props.asset === FarmAsset.Pods ||\n    props.asset === TransitAsset.Bean ||\n    props.asset === TransitAsset.LP\n  )\n\n  let titles = [props.indexTitle, TokenLabel(props.asset)]\n  if (props.seedCrates !== undefined) titles.push('Seeds')\n  let stalkCrates\n  if (props.asset === SiloAsset.Bean || props.asset === SiloAsset.LP) {\n    titles.push('Stalk')\n    if (props.seedCrates === undefined) {\n      stalkCrates = Object.keys(props.crates).reduce((crates,k,index) => {\n        crates[k] = (\n          props.season\n            .minus(k)\n            .multipliedBy(props.crates[k])\n            .multipliedBy(0.0002)\n            .plus(props.crates[k])\n        )\n        return crates;\n      }, {})\n    } else {\n      stalkCrates = Object.keys(props.seedCrates).reduce((crates,k,index) => {\n        crates[k] = (\n          props.season\n            .minus(k)\n            .multipliedBy(props.seedCrates[k])\n            .multipliedBy(0.0001)\n            .plus(props.seedCrates[k].dividedBy(4))\n        )\n        return crates;\n      }, {})\n    }\n  }\n  let claimWord = 'Claimable'\n  let claimableRow\n  let claimDescription = `Claimable ${TokenLabel(props.asset)}`\n  if (props.claimableBalance !== undefined && props.claimableBalance.isGreaterThan(0)) {\n    if (props.asset === FarmAsset.Pods) {\n      claimWord = 'Harvestable'\n      claimDescription = 'Pods that Can be Harvested for 1 Bean Each'\n    }\n    if (props.asset === SiloAsset.Bean) {\n      claimWord = 'Receivable'\n      claimDescription = `Receivable ${TokenLabel(props.asset)} are Deposited in a Specific Season the Next Time You Interact with the Silo`\n    }\n    claimableRow =\n    <TableRow style={{backgroundColor: '#0E8837'}} >\n      <TableCell\n        align='center'\n        component='th'\n        scope='season'\n        style={claimableStyle}\n      >\n        <div>\n          {claimWord}\n          <QuestionModule\n            description={claimDescription}\n            margin='-7px 0 0 0'\n            marginTooltip='10px 0 0 0 '\n            placement='bottom'\n          />\n        </div>\n      </TableCell>\n      <TableCell align='center' className={classes.lucidaStyle} style={{color: 'white'}}>\n        <FormatTooltip\n          placement='right'\n          title={\n            props.isLP\n              ? displayLP(props.poolForLPRatio(props.claimableBalance))\n              : `${displayFullBN(props.claimableBalance)} ${TokenLabel(props.asset)}`\n          }\n        >\n          <span>{displayBN(props.claimableBalance)}</span>\n        </FormatTooltip>\n      </TableCell>\n      {props.claimableStalk !== undefined ?\n      <TableCell align='center' className={classes.lucidaStyle} style={{color: 'white'}}>\n        <FormatTooltip\n          placement='right'\n          title={`${displayFullBN(props.claimableStalk)} ${TokenLabel(SiloAsset.Stalk)}`}\n        >\n          <span>{displayBN(props.claimableStalk)}</span>\n        </FormatTooltip>\n      </TableCell> : null}\n    </TableRow>\n  } else {\n    <></>\n  }\n\n  return (\n    <div>\n      <TableContainer>\n        <Table className={classes.table} size='small'>\n          <TableHead>\n            <TableRow key={claimWord}>\n            {titles.map(t => {\n              return <TableCell key={t} align='center' style={{fontFamily: 'Futura-PT', width: '33%'}}>{t}</TableCell>\n            })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {claimableRow}\n            {(reverse ? Object.keys(props.crates).sort(function(a, b){return a-b}) : Object.keys(props.crates).sort(function(a, b){return a-b}).reverse())\n              .slice(props.page * rowsPerPage, props.page * rowsPerPage + rowsPerPage)\n              .map((season) => (\n                <TableRow key={season}>\n                  <TableCell align='center' className={classes.lucidaStyle} component='th' scope='season'>\n                  {displayBN(new BigNumber(season-props.index))}\n                  </TableCell>\n                  <TableCell align='center' className={classes.lucidaStyle}>\n                    <FormatTooltip\n                      placement='right'\n                      title={\n                        props.isLP\n                          ? displayLP(props.poolForLPRatio(props.crates[season]))\n                          : `${displayFullBN(props.crates[season])} ${TokenLabel(props.asset)}`\n                      }\n                    >\n                      <span>{displayBN(props.crates[season])}</span>\n                    </FormatTooltip>\n                  </TableCell>\n                  {props.seedCrates !== undefined\n                    ? <TableCell align='center' className={classes.lucidaStyle}>\n                        <FormatTooltip\n                          placement='right'\n                          title={`${displayFullBN(props.seedCrates[season])} ${TokenLabel(SiloAsset.Seed)}`}\n                        >\n                          <span>{displayBN(props.seedCrates[season])}</span>\n                        </FormatTooltip>\n                      </TableCell>\n                    : null\n                  }\n                  {stalkCrates !== undefined\n                    ? <TableCell align='center' className={classes.lucidaStyle}>\n                        <FormatTooltip\n                          placement='right'\n                          title={`${displayFullBN(stalkCrates[season])} ${TokenLabel(SiloAsset.Stalk)}`}\n                        >\n                          <span>{displayBN(stalkCrates[season])}</span>\n                        </FormatTooltip>\n                      </TableCell>\n                    : null\n                  }\n                </TableRow>\n              ))\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {Object.keys(props.crates).length > rowsPerPage\n        ? <TablePagination\n            className={classes.pagination}\n            component='div'\n            count={Object.keys(props.crates).length}\n            onPageChange={props.handleChange}\n            page={props.page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[]}\n          />\n        : null\n      }\n    </div>\n  )\n}\n\nListTable.defaultProps = {\n  crates: {},\n  claimableCrates: {},\n  index: 0,\n  page: 0,\n  resetPage: 0,\n}\n","import HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport { FormatTooltip } from './index'\n\nexport default function QuestionModule(props) {\n  const questionStyle = {\n    display: 'inline-block',\n    margin: props.margin,\n    position: props.position !== undefined ? props.position : 'absolute',\n    ...props.style,\n  }\n\n  return (\n    <div style={questionStyle}>\n      <FormatTooltip\n        margin={props.marginTooltip}\n        placement={props.placement !== undefined ? props.placement : 'top-start'}\n        title={props.description}\n        width={props.widthTooltip}\n      >\n        <HelpOutlineIcon style={{fontSize: '8px'}} width='100%' />\n      </FormatTooltip>\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { IconButton } from '@material-ui/core'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { SwapMode } from '../../util'\nimport { SlippageModule, SwitchModule, UnitSelectionModule } from './index'\n\nexport default function SettingsFormModule(props) {\n  const rightSettingStyle = {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '0 10px 10px 0',\n    bottom: '0px',\n    boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)',\n    clipPath: 'inset(-10px -10px -10px 0.4px)',\n    height: 'auto',\n    paddingBottom: '10px',\n    position: 'absolute',\n    right: '-79px',\n    width: '60px',\n    zIndex: '-1',\n  }\n  const bottomSettingStyle = {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '0 0 10px 10px',\n    bottom: '-76px',\n    boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)',\n    clipPath: 'inset(0.4px -10px -10px -10px)',\n    height: '55px',\n    position: 'absolute',\n    right: '7px',\n    width: 'auto',\n    zIndex: '-1',\n  }\n\n  const [settingsStyle, setSettingsStyle] = useState({display: 'none'})\n\n  const [showSlippage, setShowSlippage] = useState(props.hasSlippage && (!props.showUnitModule || props.settings.mode !== SwapMode.Bean))\n\n  const rightDrawerItems = [\n    {\n      visible: props.showLP && props.settings.mode !== SwapMode.LP,\n      component: () => (\n        <SwitchModule\n          description='Toggle to also Deposit LP Tokens'\n          label='Use LP'\n          setValue={(value) => props.setSettings({...props.settings, useLP:value})}\n          value={props.settings.useLP}\n        />\n      )\n    },\n    {\n      visible: props.hasClaimable,\n      component: () => (\n        <SwitchModule\n          description='Toggle to Claim and Use Claimable Assets in Tx'\n          label='Claim'\n          setValue={(value) => props.setSettings({...props.settings, claim:value})}\n          value={props.settings.claim}\n        />\n      )\n    },\n    {\n      visible: props.hasConvertible,\n      component: () => (\n        <SwitchModule\n          disabled={props.disableConvertible}\n          description='Toggle to Convert Deposited Beans into LP Tokens'\n          label='Convert'\n          setValue={(value) => {\n            if (props.settings.mode !== SwapMode.BeanEthereum) props.handleMode(SwapMode.BeanEthereum)\n            props.setSettings({...props.settings, mode:SwapMode.BeanEthereum, convert:value})\n          }}\n          value={props.settings.mode === SwapMode.BeanEthereum && props.settings.convert && props.hasConvertible}\n        />\n      )\n    },\n    {\n      visible: props.hasRemoveLP,\n      component: () => (\n        <SwitchModule\n          description='Toggle to Remove the Beans and ETH from the Liquidity Pool'\n          label='Remove LP'\n          margin='-50px 0px 0px 20px'\n          setValue={(value) => props.setSettings({...props.settings, removeLP: value})}\n          value={props.settings.removeLP}\n        />\n      )\n    },\n    {\n      visible: showSlippage && props.hasSlippage,\n      component: () => (\n        <SlippageModule\n            setSlippage={(value) => props.setSettings({...props.settings, slippage: value})}\n            slippage={props.settings.slippage}\n          />\n      )\n    },\n  ]\n\n  const rightDrawerVisibleItems = rightDrawerItems.reduce((hasVisible, item) => {\n    return hasVisible || item.visible\n  }, false)\n\n  const rightDrawer = (\n    rightDrawerVisibleItems\n      ? <div id='y' style={Object.assign(rightSettingStyle, settingsStyle)}>\n          {rightDrawerItems.map((item, index) => (\n            <span key={index}>{item.visible ? item.component() : null}</span>\n          ))}\n        </div>\n      : null\n  )\n\n  const unitModule = (\n    props.showUnitModule\n      ? <UnitSelectionModule\n          beanEthereumSwap={props.showBeanEthereumSwap}\n          lp={props.showLP}\n          setValue={(value) => {\n            setShowSlippage(props.hasSlippage && value !== SwapMode.Bean)\n            props.handleMode(value)\n            props.setSettings({...props.settings, mode: value})\n          }}\n          value={props.settings.mode}\n        />\n      : null\n  )\n\n  const bottomDrawer = (\n    props.showUnitModule\n      ? <div id='x' style={Object.assign(bottomSettingStyle, settingsStyle)}>\n          {unitModule}\n        </div>\n      : null\n  )\n\n  const settingsIcon = (\n    <div style={{display: 'flex', justifyContent: 'flex-end', margin: props.margin}}>\n      <IconButton\n        color='primary'\n        onClick={() => {\n          const shouldExpand = settingsStyle.display === 'none'\n          setSettingsStyle(shouldExpand ? {display: 'block'} : {display: 'none'})\n        }}\n        style={{height: '44px', width: '44px'}}\n       >\n       <SettingsIcon />\n      </IconButton>\n    </div>\n  )\n\n  return (\n    <>\n    {settingsIcon}\n    {rightDrawer}\n    {bottomDrawer}\n    </>\n  )\n}\n\nSettingsFormModule.defaultProps = {\n  handleMode: (value) => {},\n  hasClaimable: false,\n  hasConvertible: false,\n  hasRemoveLP: false,\n  hasSlippage: false,\n  margin: '20px 4px -56px 0',\n  showBeanEthereumSwap: false,\n  showLP: false,\n  showUnitModule: true,\n  siloBeanBalance: new BigNumber(0),\n}\n","import { Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { QuestionModule } from './index'\n\nexport default function SingleButton(props) {\n  const maxWidth = props.size === 'small' ? '200px' : '300px'\n\n  const classes = makeStyles(theme => ({\n    button: {\n      backgroundColor: props.backgroundColor,\n      borderRadius: '15px',\n      boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%),0px 1px 10px 0px rgb(0 0 0 / 12%)',\n      color: props.color,\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '12px',\n      maxWidth: maxWidth,\n      opacity: '95%',\n      textTransform: 'uppercase',\n      transition: '0.2s ease-out opacity',\n      width: props.width,\n      '&:hover': {\n        backgroundColor: props.backgroundColor,\n        opacity: '100%',\n      }\n    }\n  }))()\n\n  function getIcon() {\n    if (props.icon !== undefined) {\n      return <img alt='' src={props.icon} style={{height: 'calc(15px + 1vmin)', margin: '15px'}} />\n    }\n  }\n\n  return (\n    <Button className={classes.button} onClick={() => props.handleClick()}>\n      {getIcon()}\n      <div>\n        {props.title}\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n          widthTooltip={props.widthTooltip}\n        />\n      </div>\n      {getIcon()}\n    </Button>\n  )\n}\n\nSingleButton.defaultProps = {\n  backgroundColor: '#FFF1B6',\n  color: 'black',\n  margin: '-12px 0 0 5px',\n  size: 'small',\n  width: '200px',\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { BASE_SLIPPAGE, SLIPPAGE_THRESHOLD } from '../../constants'\nimport { QuestionModule } from '../Common'\n\nexport default function SlippageModule(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      textAlign: 'right',\n      fontSize: '16px',\n      fontFamily: 'Futura-PT-Book',\n    }\n  }))()\n\n  const [isFieldEmpty, setIsFieldEmpty] = useState(false)\n\n  const defaultSlippage = new BigNumber(1).minus(BASE_SLIPPAGE).multipliedBy(100)\n\n  return (\n    <div>\n      <div style={{padding: '5px', fontFamily: 'Futura-PT', fontSize: '11px'}}>\n        Slippage:\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n        />\n      </div>\n      <TextField\n        type='number'\n        error={!isFieldEmpty && props.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)}\n        placeholder={defaultSlippage.toFixed()}\n        value={isFieldEmpty ? '' : new BigNumber(1).minus(props.slippage).multipliedBy(100)}\n        style={{margin: '0 auto', width: '90%'}}\n        onChange={(e) => {\n          function setSlippagePercentage(newPercentage: BigNumber) {\n            props.setSlippage(new BigNumber(100).minus(newPercentage).multipliedBy(0.01))\n          }\n          if (e.target.value) {\n            const newValue = new BigNumber(e.target.value)\n            if (newValue.isLessThan(0) || newValue.isGreaterThan(100)) {\n              return\n            }\n            if (newValue.isEqualTo(0)) {\n              setSlippagePercentage(defaultSlippage)\n              setIsFieldEmpty(true)\n              return\n            }\n\n            const slippage = newValue.toFixed()\n            const decimalIndex = slippage.indexOf('.')\n            const numberOfDecimals = decimalIndex > -1 ? slippage.length - decimalIndex - 1 : -1\n            if (numberOfDecimals > 1) {\n              return\n            }\n            setSlippagePercentage(new BigNumber(newValue.toFixed(1)))\n            setIsFieldEmpty(false)\n          } else {\n            setSlippagePercentage(defaultSlippage)\n            setIsFieldEmpty(true)\n          }\n        }}\n        onWheel={(e) => e.target.blur()}\n        onKeyDown={(e) => (e.key === 'e' || e.key === '+' || e.key === '-') && e.preventDefault()}\n        InputProps={{\n          inputProps: {\n            min: 0.1,\n            max: 100,\n            step: 0.1\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment: (\n            <InputAdornment position='end' style={{marginLeft: '2px'}}>%</InputAdornment>\n          )\n        }}\n      />\n    </div>\n  )\n}\n\nSlippageModule.defaultProps = {\n  description: 'Customize the Maximum Difference Between the Current Price and the Price when your Transaction is Processed',\n  margin: '-5px 0 0 -1px',\n  marginTooltip: '0px 0 5px 10px',\n}\n","import { FormControlLabel, Switch } from '@material-ui/core/'\nimport { withStyles } from'@material-ui/styles'\nimport { QuestionModule } from './index'\n\nexport default function SwitchModule(props) {\n  const switchStyle = {\n    display: 'inline-block',\n    justifyContent: 'flex-start',\n    marginBottom: '-8px',\n    marginLeft: '0px',\n    width: '100%',\n  }\n\n  const GreenSwitch = withStyles({\n    switchBase: {\n      '&$checked': {\n        color: 'rgb(14, 136, 55)',\n      },\n      '&$checked + $track': {\n        backgroundColor: 'rgb(14, 136, 55)',\n      },\n    },\n    checked: {},\n    track: {},\n  })(Switch)\n\n  const GreenFormControlLabel = withStyles({\n    label:{\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '9px',\n      marginBottom: '-10px',\n      marginLeft: '0',\n      marginTop: '3px',\n      width: '100%',\n    }\n  })(FormControlLabel)\n\n  const changeHandler = (event) => props.setValue(event.target.checked)\n\n  return (\n    <div style={{display: 'flex', position: 'relative'}}>\n      <div style={switchStyle}>\n        <GreenFormControlLabel\n          checked={props.value}\n          control={<GreenSwitch />}\n          disabled={props.disabled}\n          label={props.label}\n          onChange={changeHandler}\n          style={{flexDirection: 'column-reverse', marginLeft: '0', width: '100%'}}\n        />\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n        />\n      </div>\n    </div>\n  )\n}\n\nSwitchModule.defaultProps = {\n  disabled: false,\n  margin: '-50px 0px 0px 15px',\n  marginTooltip: '0px 0 5px 10px',\n}\n","import { makeStyles } from '@material-ui/styles'\n\nexport default function TitleLabel(props) {\n  const classes = makeStyles(theme => ({\n    label: {\n      borderRadius: '15px',\n      color: 'black',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: props.size || '24px',\n      margin: props.margin || '0',\n      padding: props.padding || '5px',\n      textTransform: 'uppercase'\n    }\n  }))()\n\n  return (\n    <div className={classes.label} style={props.style}>\n      {props.children}\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { Fragment } from 'react'\nimport {\n  CryptoAsset,\n  displayBN,\n  displayFullBN,\n  TokenLabel\n} from '../../util'\nimport { TokenTypeImageModule, BalanceModule } from './index'\n\nexport default function TokenBalanceModule(props) {\n  const style = {\n    color: props.balanceColor,\n    display: 'inline',\n    fontSize: '12px',\n    fontFamily: 'Lucida Console',\n    fontWeight: '400',\n    lineHeight: '100%',\n    margin: '2px',\n  }\n  const imageStyle = {\n    display: 'inline-block',\n    height: '20px',\n    marginBottom: '-5px',\n    marginLeft: '5px',\n  }\n\n  var balanceStyle = {color: props.balanceColor}\n\n  if (props.claimPadding !== undefined) {\n    balanceStyle = {\n      color: props.balanceColor,\n      paddingRight:'0px',\n      textAlign:'center',\n      width:'100%',\n    }\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n  const content = (\n    <Fragment>\n      <h5 style={style}>\n        {props.endText.length > 0\n          ? `${displayBN(props.balance)}${props.endText}`\n          : displayBN(props.balance)\n        }\n      </h5>\n      <TokenTypeImageModule style={imageStyle} token={props.token} />\n    </Fragment>\n  )\n\n  function displayLP(balance) {\n    return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n  }\n\n  var balanceContent = (\n    props.balance.isGreaterThan(0)\n      ? `${displayFullBN(props.balance)} ${TokenLabel(props.token)}`\n      : undefined\n  )\n  balanceContent = (\n    props.balance.isGreaterThan(0) && props.isLP\n      ? displayLP(props.poolForLPRatio(props.balance))\n      : balanceContent\n  )\n\n  return (\n    <div style={{position: 'relative'}}>\n      <BalanceModule\n        balanceDescription={balanceContent}\n        content={content}\n        description={props.description}\n        style={balanceStyle}\n        title={props.title === undefined ? tokenLabel : props.title}\n        token={props.token}\n        {...props}\n      />\n    </div>\n  )\n}\n\nTokenBalanceModule.defaultProps = {\n  balance: new BigNumber(-1),\n  balanceColor: 'black',\n  endText: '',\n  startText: '',\n\n}\n","import React, { useState } from 'react'\nimport { Button, InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  CryptoAsset,\n  displayBN,\n  displayFullBN,\n  TokenLabel\n} from '../../util'\nimport { FormatTooltip, TokenTypeImageModule } from './index'\n\nexport default function TokenInputField(props) {\n  const [displayValue, setDisplayValue] = useState('')\n\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontSize: 'calc(15px + 1vmin)',\n      fontFamily: 'Lucida Console',\n      fontWeight: '400',\n    }\n  }))()\n\n  const smallLabels = {\n    fontSize: 'calc(9px + 0.7vmin)',\n    fontFamily: 'Futura-PT',\n  }\n  const leftStyle = {\n    display: 'inline-block',\n    float: 'left',\n    fontFamily: 'Futura-PT-Book',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n  }\n  const rightStyle = {\n    display: 'inline-block',\n    float: 'right',\n    marginRight: '13px',\n    textAlign: 'right' as const,\n  }\n  const maxStyle = {\n    backgroundColor: '#0E8837',\n    borderRadius: '30px',\n    color: 'white',\n    fontSize: '13px',\n    fontFamily: 'Futura-PT-Book',\n    height: '25px',\n    minWidth: '50px',\n  }\n  const tokenTypeImageStyle = {\n    height: '30px',\n    marginLeft: '5px',\n    width: '20px',\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n\n  function maxButton() {\n    if (props.maxHandler !== undefined) {\n      return (\n        <Button onClick={props.maxHandler} style={maxStyle}>\n          Max\n        </Button>\n      )\n    }\n  }\n\n  const handleChange = (event) => {\n    setDisplayValue(event.target.value)\n    props.handleChange(event)\n  }\n\n  function displayLP(balance) {\n    return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n  }\n\n  const balanceContent = (\n    props.isLP\n      ? displayLP(props.poolForLPRatio(props.balance))\n      : `${displayFullBN(props.balance)} ${TokenLabel(props.token)}`\n  )\n\n  const endAdornment = (\n    <InputAdornment position='end'>\n      {maxButton()}\n      <TokenTypeImageModule style={tokenTypeImageStyle} token={props.token} />\n    </InputAdornment>\n  )\n\n  if (props.hidden) return null\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>\n        <div style={leftStyle}>{tokenLabel}</div>\n        <FormatTooltip placement='right' title={balanceContent}>\n          <div style={rightStyle}>\n            &nbsp;{`Balance: ${displayBN(props.balance)}`}\n          </div>\n        </FormatTooltip>\n      </div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0.0000'\n        variant='outlined'\n        size='medium'\n        type='number'\n        disabled={props.handleChange === undefined}\n        value={\n          props.value.isNegative()\n            ? ''\n            : ((displayValue.length > 1 && displayValue.replaceAll('0', '').length === 0)\n                || (props.value.toFixed() === '0' && displayValue === '')\n                || (displayValue.indexOf('.') > -1 && displayValue.lastIndexOf('0') === displayValue.length - 1)\n              ? displayValue\n              : props.value.toFixed()\n            )\n        }\n        onChange={handleChange}\n        onWheel={(e) => e.target.blur()}\n        onKeyDown={(e) => (e.key === 'e' || e.key === '+' || e.key === '-') && e.preventDefault()}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            min: 0.0,\n            step: 1.0\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment\n        }}\n      />\n    </div>\n  )\n}\n\nTokenInputField.defaultProps = {\n  action: 'Deposit',\n  hidden: false,\n  maxval: 0,\n  token: 'Beans',\n}\n","import { InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { TrimBN, TokenLabel } from '../../util'\nimport { TokenTypeImageModule } from './index'\n\nexport default function TokenOutputField(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontSize: 'calc(12px + 1vmin)',\n      fontFamily: 'Lucida Console',\n    }\n  }))()\n  \n  const smallLabels = {\n    fontFamily: 'Futura-PT',\n    fontSize: 'calc(9px + 0.7vmin)',\n  }\n  const leftStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    width: '100%',\n  }\n  const tokenStyle = {\n    height: '30px',\n    marginLeft: '-10px',\n    width: '20px',\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n  const endAdornment = (\n    <InputAdornment position='end'>\n      <TokenTypeImageModule style={tokenStyle} token={props.token} />\n    </InputAdornment>\n  )\n\n  var startAdornment = (\n    props.burn\n      ? <InputAdornment position='start'>-</InputAdornment>\n      : null\n  )\n  startAdornment = (\n    props.mint\n      ? <InputAdornment position='start'>+</InputAdornment>\n      : startAdornment\n  )\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>\n        <div style={leftStyle}>{tokenLabel}</div>\n      </div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0.0000'\n        variant='outlined'\n        size='small'\n        type='number'\n        style={{fontSize: '10px'}}\n        disabled={props.handleChange === undefined}\n        value={props.decimals !== undefined ? TrimBN(props.value, props.decimals) : props.value}\n        onChange={props.handleChange}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            min: 0.0,\n            step: 1.0\n          },\n          classes: {\n            input: classes.inputText\n          },\n          endAdornment,\n          startAdornment,\n        }}\n      />\n      </div>\n  )\n}\n\nTokenOutputField.defaultProps = {\n  action: 'Deposit',\n  decimals: undefined,\n  maxval: 0,\n  token: 'Beans',\n}\n","import { TokenImage, TokenLabel, TokenTypeImage } from '../../util'\n\nexport default function TokenTypeImageModule(props) {\n  const tokenTypeStyle = {\n    height: '100%',\n    left: '0',\n    position: 'absolute',\n    top: '0',\n  }\n  const tokenTypeModifierStyle = {\n    bottom: '0',\n    height: '60%',\n    left: `${parseInt(props.style.height)/4}px`,\n    position: 'absolute',\n  }\n\n  return (\n    <div style={{...props.style, position: 'relative'}}>\n      <img alt={TokenLabel(props.token)} src={TokenImage(props.token)} style={tokenTypeStyle} />\n      <img alt='' src={TokenTypeImage(props.token)} style={tokenTypeModifierStyle} />\n    </div>\n  )\n}\n\nTokenTypeImageModule.defaultProps = {\n  style: {height: '20px'}\n}\n","\nexport default function TransactionDetailsModule(props) {\n  const leftTransactionStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    textAlign: 'left',\n    width: '50%',\n  }\n  const rightTransactionStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '14px',\n    textAlign: 'right',\n    width: '50%',\n  }\n  const transactionStyle = {\n    border: '1px solid black' as const,\n    borderRadius: '15px',\n    color: 'black',\n    fontSize: 'calc(9px + 0.7vmin)',\n    marginBottom: '-4px',\n    marginLeft: '10%',\n    padding: '12px',\n    width: '80%',\n  }\n\n  const rows = Object.keys(props.fields).reduce((r, key, i) => {\n    r.push(<span key={`${i}-left`} style={leftTransactionStyle}>{key}</span>)\n    r.push(<span key={`${i}-right`} style={rightTransactionStyle}>{props.fields[key]}</span>)\n    return r\n  }, [])\n\n  return (\n    <p style={transactionStyle}>\n      {rows}\n    </p>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/bean-eth-logo.3f800aef.svg\";","export default __webpack_public_path__ + \"static/media/bean-eth-swap-logo.bdf29328.svg\";","import React from 'react'\nimport ToggleButton from '@material-ui/lab/ToggleButton'\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\nimport BeanEthIcon from '../../img/bean-eth-logo.svg'\nimport BeanEthSwapIcon from '../../img/bean-eth-swap-logo.svg'\nimport { CryptoAsset, SwapMode, TokenImage } from '../../util'\n\nexport default function UnitSelectionModule(props) {\n  const change = (event, value) => {\n    if (value !== null)\n      props.setValue(value)\n  }\n\n  const imageStyle = {\n     display: 'inline',\n     height: '20px',\n     width: '20px',\n  }\n\n  return (\n    <ToggleButtonGroup\n      aria-label='text alignment'\n      exclusive\n      onChange={change}\n      style={{padding: '5px'}}\n      value={props.value}\n    >\n      {props.lp\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.LP}>\n            <img alt='LP' src={TokenImage(CryptoAsset.LP)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.bean\n        ? <ToggleButton aria-label='left aligned' value={SwapMode.Bean}>\n            <img alt='Bean' src={TokenImage(CryptoAsset.Bean)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.ethereum\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.Ethereum}>\n            <img alt='Eth' src={TokenImage(CryptoAsset.Ethereum)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.beanEthereum\n        ? <ToggleButton aria-label='centered' value={SwapMode.BeanEthereum}>\n            <img alt='Bean/Eth' src={BeanEthIcon} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.beanEthereumSwap\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.BeanEthereumSwap}>\n            <img alt='Bean/Eth Swap' src={BeanEthSwapIcon} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n    </ToggleButtonGroup>\n  )\n}\n\nUnitSelectionModule.defaultProps = {\n  bean: true,\n  beanEthereum: true,\n  beanEthereumSwap: false,\n  ethereum: true,\n  lp: false,\n  value: 0,\n}\n","import { withStyles, Theme } from'@material-ui/styles'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nexport { Grid } from '@material-ui/core'\nexport type { Token } from '../../util'\nexport {\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  SiloAsset,\n  TransitAsset,\n  UniswapAsset\n} from '../../util'\nexport { default as AddressInputField } from './AddressInputField'\nexport { default as BalanceField} from './BalanceField'\nexport { default as BalanceModule } from'./BalanceModule'\nexport { default as BaseModule } from './BaseModule'\nexport { default as ContentSection } from './ContentSection'\nexport { default as EthInputField} from './EthInputField'\nexport { default as FrontrunText } from './FrontrunText'\nexport { default as HeaderLabel } from './HeaderLabel'\nexport { default as HeaderLabelWithTimer } from './HeaderLabelWithTimer'\nexport { default as InputFieldPlus} from './InputFieldPlus'\nexport { default as ListTable } from './ListTable'\nexport { default as QuestionModule } from './QuestionModule'\nexport { default as SettingsFormModule } from './SettingsFormModule'\nexport { default as SingleButton } from './SingleButton'\nexport { default as SlippageModule } from './SlippageModule'\nexport { default as SwitchModule} from './SwitchModule'\nexport { default as TitleLabel } from './TitleLabel'\nexport { default as TokenBalanceModule } from './TokenBalanceModule'\nexport { default as TokenInputField } from './TokenInputField'\nexport { default as TokenOutputField } from './TokenOutputField'\nexport { default as TokenTypeImageModule } from './TokenTypeImageModule'\nexport { default as TransactionDetailsModule } from './TransactionDetailsModule'\nexport { default as UnitSelectionModule} from './UnitSelectionModule'\n\nexport const FormatTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: theme.palette.common.white,\n    color: 'black',\n    boxShadow: theme.shadows[1],\n    fontSize: 12,\n    fontFamily: 'Futura-Pt-Book',\n    width: (props) => props.width,\n    maxWidth: '345px',\n    margin: (props) => props.margin\n  },\n}))(Tooltip)\n\nFormatTooltip.defaultProps = {\n  margin: '0 0 0 20px',\n  width: 'auto',\n}\n\nexport const walletDescriptions = {\n  beanBalance: 'Beans not in the Silo or Unclaimable Withdrawals',\n  lpBalance: 'LP Tokens not in the Silo or Unclaimable Withdrawals',\n  beanSiloBalance: 'Beans Deposited in the Silo',\n  lpSiloBalance: 'LP Tokens Deposited in the Silo',\n  beanTransitBalance: 'Beans in Unclaimable Withdrawals',\n  lpTransitBalance: 'LP Tokens in Unclaimable Withdrawals',\n  claimableBeanBalance: 'Claimable Beans from Pod Harvests and Withdrawals',\n  claimablelpBalance: 'Claimable LP Tokens from Withdrawals',\n  claimableEthBalance:  'Claimable ETH from Seasons of Plenty',\n  stalkBalance: 'Stalk Balance',\n  seedBalance: 'Seed Balance',\n  podBalance: 'Unharvestable Pod Balance',\n  ethBalance: 'Ethereum Wallet ETH Balance',\n  topLeft: 'Total Bean Balance',\n  topLeftTitle: 'Bean Balance',\n  topRight: 'Percent Ownership of Beanstalk',\n  topRightTitle: 'Ownership',\n}\nexport const totalDescriptions = {\n  beanBalance: 'Total Beans not in the Silo or Withdrawals',\n  lpBalance: 'Total LP Tokens not in the Silo or Withdrawals',\n  beanSiloBalance: 'Total Beans Deposited in the Silo',\n  lpSiloBalance: 'Total LP Tokens Deposited in the Silo',\n  beanTransitBalance: 'Total Beans in Unclaimed Withdrawals',\n  lpTransitBalance: 'Total LP Tokens in Unclaimed Withdrawals',\n  stalkBalance: 'Total Stalk',\n  seedBalance: 'Total Seeds',\n  podBalance: 'Total Unharvestable Pods',\n  ethBalance: 'Ethereum in Liquidity Pool',\n  beanReserveTotal: 'Beans in the Liquidity Pool',\n  topLeft: 'USD Value of all Beans',\n  topLeftTitle: 'Market Cap',\n  topRight: 'USD Value of the Liquidity Pool',\n  topRightTitle: 'Pool Value',\n}\nexport const walletStrings = {\n  topLeft: 'Beans',\n  topRight: 'Ownership',\n}\nexport const totalStrings = {\n  topLeft: 'USD',\n  topRight: 'USD',\n}\n","import React from 'react'\n\nexport const SvgCloudIcon = ({\n  height = '200px',\n  width = '200px',\n  color = 'white',\n  text = '',\n  ...props\n}: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns='http://www.w3.org/2000/svg'\n    width={width}\n    height={height}\n    viewBox='0 0 420 450'\n    fill='none'\n    {...props}\n  >\n    <path\n      d='M343.454,170.099c0.01-0.583,0.022-1.165,0.022-1.75c0-55.728-45.177-100.905-100.905-100.905c-48.025,0-88.209,33.551-98.403,78.492c-9.505-5.321-20.454-8.368-32.122-8.368c-36.407,0-65.92,29.514-65.92,65.92c0,1.488,0.067,2.959,0.164,4.423C19.262,217.944,0,243.959,0,274.479c0,39.207,31.784,70.991,70.991,70.991h253.183c49.009,0,88.739-39.73,88.739-88.739C412.913,214.343,383.192,178.903,343.454,170.099z'\n      fill={color}\n    />\n    <path\n      d='M344.267 268.232L371.449 248.232L344.267 228.232'\n      stroke='#627264'\n      strokeWidth='2'\n    />\n    <text x='205px' y='259px' textAnchor='middle' height={height} width={width} fontFamily='Futura-PT-Book' fontSize='35' fill='black'>{text}</text>\n  </svg>\n)\n","import { Grid, Link } from '@material-ui/core'\nimport GitHubIcon from '@material-ui/icons/GitHub'\nimport TelegramIcon from '@material-ui/icons/Telegram'\nimport { makeStyles } from '@material-ui/styles'\nimport ground from '../../img/ground.png'\nimport {\n  BEAN_TOKEN_LINK,\n  GITHUB_LINK,\n  SILO_CONTRACT_LINK,\n  UNISWAP_CONTRACT_LINK\n} from '../../constants'\nimport { CryptoAsset, SiloAsset, TokenTypeImageModule } from '../Common'\n\nexport default function Footer(props) {\n  const classes = makeStyles({\n    fixedGround: {\n      backgroundColor: 'transparent',\n      backgroundImage: `url(${ground})`,\n      backgroundPosition: '0% 0%',\n      backgroundRepeat: 'repeat',\n      backgroundSize: 'contain',\n      display: 'flex',\n      height: '100%',\n      zIndex: 1000,\n    }\n  })()\n\n  const tokenTypeImageStyle = {\n    height: '25px',\n    width: '20px',\n  }\n  const linkStyle = {\n    padding: '10px 10px 0 0',\n  }\n\nreturn (\n    <Grid container className={classes.fixedGround} justifyContent='center'>\n      <Grid item style={linkStyle}>\n        <Link href='/' color='inherit' target='blank'>\n          <TelegramIcon />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={GITHUB_LINK} color='inherit' target='blank'>\n          <GitHubIcon />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={BEAN_TOKEN_LINK} color='inherit' target='blank'>\n          <TokenTypeImageModule style={tokenTypeImageStyle} token={CryptoAsset.Bean} />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={SILO_CONTRACT_LINK} color='inherit' target='blank'>\n          <TokenTypeImageModule style={tokenTypeImageStyle} token={SiloAsset.Bean} />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={UNISWAP_CONTRACT_LINK} color='inherit' target='blank'>\n          <TokenTypeImageModule style={tokenTypeImageStyle} token={SiloAsset.LP} />\n        </Link>\n      </Grid>\n    </Grid>\n )\n}\n","export default \"data:image/png;base64,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QQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABC03B6bAQBI+Re9hMwq3MS6aAAAAABJRU5ErkJggg==\"","import React from 'react'\nimport { Link } from '@material-ui/core'\nimport background from '../../img/cloud-background.png'\nimport BarnIcon from '../../img/Barn.svg'\nimport SunIcon from '../../img/Sun.svg'\nimport { HOW_TO_PATH, INTRO_TO_PATH, WHITEPAPER } from '../../constants'\nimport { ContentSection, Grid } from '../Common'\nimport { SvgCloudIcon } from './SvgCloudIcon'\nimport Footer from './Footer'\n\nexport default function About(props) {\n  const navCloudStyle = {\n    backgroundColor: 'transparent',\n    backgroundImage: `url(${background}), url(${background})`,\n    backgroundPosition: '0px 0px, 1px 0px',\n    backgroundRepeat: 'repeat-x, repeat-x',\n    boxShadow: 'none',\n    backgroundSize: 'contain, contain',\n    height: '65px',\n    marginBottom: '-85px',\n  }\n  const cloudDivStyle = {\n    display: 'inline-flex',\n    justifyContent: 'center',\n    margin: '80px 0',\n    width: '100%',\n  }\n  const cloudStyle = {\n    maxWidth: '400px',\n  }\n  const sunStyle = {\n    height: '15vw',\n    left: 20,\n    maxHeight: '125px',\n    position: 'absolute',\n    top: 100,\n  }\n  const barnStyle = {\n    bottom: 0,\n    height: '15vw',\n    left: 10,\n    minHeight: '175px',\n    position: 'absolute',\n  }\n  const showLandingPage = props.defaultSection !== undefined\n\n  return (\n    <>\n    {showLandingPage ? <div style={navCloudStyle}></div> : null}\n    <ContentSection id='about' style={showLandingPage ? {minHeight: '99vh'} : props.style} title={showLandingPage ? 'Beanstalk' : 'About'}>\n      <div style={{minHeight: '510px', width: '100%'}}>\n        {props.defaultSection}\n        <Grid container style={cloudDivStyle}>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href={INTRO_TO_PATH} color='inherit' target='blank'>\n              <SvgCloudIcon text={'About Beanstalk'} />\n            </Link>\n          </Grid>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href={HOW_TO_PATH} color='inherit' target='blank'>\n              <SvgCloudIcon text={'How To Guide'} />\n            </Link>\n          </Grid>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href={WHITEPAPER} color='inherit' target='blank'>\n              <SvgCloudIcon text={'Whitepaper'} />\n            </Link>\n          </Grid>\n        </Grid>\n        <img alt='Sun Icon' src={SunIcon} style={sunStyle} />\n        <img alt='Barn Icon' src={BarnIcon} style={barnStyle} />\n      </div>\n    </ContentSection>\n    {showLandingPage ? <Footer /> : null}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BASE_SLIPPAGE,\n  ETH,\n  SLIPPAGE_THRESHOLD\n} from '../../constants'\nimport {\n  approveBeanstalkBean,\n  buyAndSowBeans,\n  displayBN,\n  getFromAmount,\n  getToAmount,\n  harvest,\n  MaxBN,\n  MinBNs,\n  sowBeans,\n  SwapMode,\n  toBaseUnitBN,\n  toStringBaseUnitBN,\n  TrimBN\n} from '../../util'\nimport {\n  BaseModule,\n  CryptoAsset,\n  EthInputField,\n  FarmAsset,\n  FrontrunText,\n  InputFieldPlus,\n  ListTable,\n  SettingsFormModule,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport default function SowHarvestModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [page, setPage] = React.useState(0)\n\n  const [beanValue, setBeanValue] = useState(new BigNumber(-1))\n  const [podValue, setPodValue] = useState(new BigNumber(0))\n  const [fromValue, setFromValue] = section === 0 ? [beanValue, setBeanValue] : [podValue, setPodValue]\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(-1))\n  const [buyBeanValue, setBuyBeanValue] = useState(new BigNumber(0))\n  const [toValue, setToValue] = section !== 0 ? [beanValue, setBeanValue] : [podValue, setPodValue]\n  const [harvestPlots, setHarvestPlots] = useState([])\n  const fromToken = section === 0 ? CryptoAsset.Bean : FarmAsset.Pods\n  const toToken = section !== 0 ? CryptoAsset.Bean : FarmAsset.Pods\n  const [settings, setSettings] = useState({\n    claim: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE),\n  })\n\n  let sectionTitles = ['Sow']\n  if (props.harvestablePodBalance.isGreaterThan(0)) sectionTitles.push('Harvest')\n\n  const handleTabChange = (event, newSection) => {\n    setSection(newSection)\n    setSettings({...settings, claim:false})\n    if (newSection === 1) {\n      setBeanValue(props.harvestablePodBalance)\n      setPodValue(props.harvestablePodBalance)\n      setHarvestPlots(Object.keys(props.harvestablePlots).map(key => (toStringBaseUnitBN(new BigNumber(key), BEAN.decimals))))\n    } else {\n      setBeanValue(new BigNumber(-1))\n      setPodValue(new BigNumber(0))\n    }\n  }\n  useEffect(() => {\n    if (section === 1) {\n      setBeanValue(props.harvestablePodBalance)\n      setPodValue(props.harvestablePodBalance)\n    }\n  }, [props.harvestablePodBalance, section])\n\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => {\n    setSectionInfo(newSectionInfo)\n    setPage(newPageZero)\n  }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  let claimableFromVal = settings.claim ? props.beanClaimableBalance : 0\n  let maxFromVal = section === 0 ? props.beanBalance.plus(claimableFromVal) : props.harvestablePodBalance\n  let maxToVal = section === 0 ? props.soil : props.harvestablePodBalance\n\n  if (settings.mode === null) {\n    if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n  }\n\n  function fromValueUpdated(newFromNumber, newEthFromNumber) {\n    const newFromValue = MinBNs([newFromNumber, maxFromVal, maxToVal])\n    setFromValue(TrimBN(newFromValue, 6))\n    if (section === 0) {\n      const newFromEthValue = MinBNs([newEthFromNumber, getFromAmount(maxToVal.minus(MaxBN(newFromValue, new BigNumber(0))), props.ethReserve, props.beanReserve, ETH.decimals)])\n      BigNumber.set({ DECIMAL_PLACES: 6 })\n      const buyBeans = getToAmount(newFromEthValue, props.ethReserve, props.beanReserve)\n      BigNumber.set({ DECIMAL_PLACES: 18 })\n      setBuyBeanValue(buyBeans)\n      setFromEthValue(TrimBN(newFromEthValue, 6))\n      const sowedBeans = MaxBN(buyBeans, new BigNumber(0)).plus(MaxBN(newFromValue, new BigNumber(0)))\n      setToValue(TrimBN(sowedBeans.multipliedBy((new BigNumber(1)).plus(props.weather.dividedBy(100))),6))\n    } else {\n      setToValue(TrimBN(newFromValue, 8))\n      let harvestedPods = new BigNumber(0)\n      let plots = []\n      if (newFromNumber.isGreaterThan(0).toString()) {\n        Object.keys(props.harvestablePlots).some(key => {\n          plots.push(toStringBaseUnitBN(new BigNumber(key), BEAN.decimals))\n          harvestedPods = harvestedPods.plus(props.harvestablePlots[key])\n          return harvestedPods.isGreaterThanOrEqualTo(newFromNumber)\n        })\n      }\n      setHarvestPlots(plots)\n    }\n  }\n\n  function handleForm() {\n    if (toValue.isLessThanOrEqualTo(0)) return\n\n    if (section === 0) {\n      const claimable = settings.claim ? props.claimable : null\n      if (fromEthValue.isGreaterThan(0)) {\n        const beans = MaxBN(toBaseUnitBN(fromValue,BEAN.decimals), new BigNumber(0)).toString()\n        const eth = toStringBaseUnitBN(fromEthValue,ETH.decimals)\n        const buyBeans = toStringBaseUnitBN(buyBeanValue.multipliedBy(settings.slippage),BEAN.decimals)\n        buyAndSowBeans(beans, buyBeans, eth, claimable, () => {fromValueUpdated(new BigNumber(-1), new BigNumber(-1))})\n      } else {\n        sowBeans(toStringBaseUnitBN(fromValue,BEAN.decimals), claimable, () => {fromValueUpdated(new BigNumber(-1), new BigNumber(-1))})\n      }\n    } else {\n      harvest(harvestPlots, () => {\n        fromValueUpdated(new BigNumber(-1))\n      })\n    }\n  }\n\n  /* Input Fields */\n\n  const beanInputField = (\n    section === 1\n      ? <TokenInputField\n          balance={props.harvestablePodBalance}\n          token={fromToken}\n          value={fromValue}\n        />\n      : <InputFieldPlus\n          balance={props.beanBalance}\n          claim={settings.claim}\n          claimableBalance={props.beanClaimableBalance}\n          handleChange={(v) => { fromValueUpdated(v, fromEthValue) }}\n          token={fromToken}\n          value={fromValue}\n          visible={settings.mode !== SwapMode.Ethereum}\n        />\n  )\n  const ethInputField = (\n    section === 0\n      ? <EthInputField\n          balance={props.ethBalance}\n          buyBeans={buyBeanValue}\n          claim={settings.claim}\n          claimableBalance={props.claimableEthBalance}\n          handleChange={(v) => fromValueUpdated(fromValue, v)}\n          mode={settings.mode}\n          sellEth={fromEthValue}\n          updateExpectedPrice={props.updateExpectedPrice}\n          value={fromEthValue}\n        />\n      : null\n  )\n\n  /* Output Fields */\n\n  const toPodsField = (\n    <TokenOutputField\n      token={toToken}\n      value={toValue}\n      decimals={BEAN.decimals}\n      mint\n    />\n  )\n\n  if (section > sectionTitles.length-1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.plots !== undefined && (Object.keys(props.plots).length > 0 || props.harvestablePodBalance.isGreaterThan(0))) {\n    sectionsInfo.push(\n      <ListTable\n        claimableBalance={props.harvestablePodBalance}\n        claimableCrates={props.harvestablePlots}\n        crates={props.plots} asset={FarmAsset.Pods}\n        description='Sown Plots will show up here'\n        handleChange={handlePageChange}\n        indexTitle='Place in Line'\n        index={parseFloat(props.harvestableIndex)}\n        page={page}\n        title='Plots'\n      />\n    )\n    sectionTitlesInfo.push('Plots')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : null\n  )\n\n  const allowance = (\n    settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum\n      ? props.beanstalkBeanAllowance\n      : new BigNumber(1)\n  )\n\n  /* Transaction Details, settings and text */\n\n  const sowText = (\n    buyBeanValue.plus(fromValue).isEqualTo(props.soil)\n      ? `Sowing Maximum Soil With ${displayBN(props.weather)}% Weather`\n      : `Sowing With ${displayBN(props.weather)}% Weather`\n  )\n  const sowTextField = (\n    section === 0\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{sowText}</div>\n      : null\n  )\n  const noSoilTextField = (\n    section === 0 && props.soil.isEqualTo(0)\n      ? <div style={{marginTop: '-2px', fontFamily: 'Futura-PT-Book'}}>Currently No Soil</div>\n      : null\n  )\n  const frontrunTextField = (\n    settings.mode !== SwapMode.Bean && settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    section === 0\n      ? <SettingsFormModule\n          settings={settings}\n          setSettings={setSettings}\n          handleMode={() => fromValueUpdated(new BigNumber(-1), new BigNumber(-1))}\n          hasClaimable={props.hasClaimable}\n          hasSlippage={true}\n          showUnitModule={section === 0}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (toValue.isNegative() || toValue.isZero()) {\n      return <></>\n    }\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      {toPodsField}\n      {sowTextField}\n      </>\n    )\n  }\n\n  return (\n    <>\n    <BaseModule\n      allowance={allowance}\n      handleApprove={approveBeanstalkBean}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={toValue.isLessThanOrEqualTo(0) && allowance.isGreaterThan(0)}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={props.setBeanstalkBeanAllowance}\n    >\n      {beanInputField}\n      {ethInputField}\n      {noSoilTextField}\n      {frontrunTextField}\n      {transactionDetails()}\n      {showSettings}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import { displayBN } from '../../util'\nimport { ContentSection, Grid, HeaderLabel } from '../Common'\nimport SowHarvestModule from './SowHarvestModule'\n\nexport default function Field(props) {\n  const headerLabelStyle = {\n    maxWidth: '300px',\n  }\n\n  return (\n    <ContentSection id='field' title='Field'>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item xs={12} sm={6} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Number of Beans that Can be Lent to Beanstalk'\n            title='Available Soil'\n            value={displayBN(props.soil)}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Total Unharvestable Pods'\n            title='Pod Line'\n            value={displayBN(props.unripenedPods)}\n          />\n        </Grid>\n      </Grid>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Interest Rate for Sowing Beans'\n            title='Weather'\n            value={`${displayBN(props.weather)}%`}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Total Harvested Pods Over All Seasons'\n            title='Pods Harvested'\n            value={displayBN(props.harvestableIndex)}\n          />\n        </Grid>\n      </Grid>\n\n      <Grid container item xs={12} justifyContent='center'>\n        <Grid item sm={8} xs={10} style={{maxWidth: '500px', minHeight: '450px'}}>\n          <SowHarvestModule {...props} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import { Grid, Button, Link } from '@material-ui/core'\nimport { initialize, metamaskFailure } from '../../util'\nimport { METAMASK_LINK, HOW_TO_MM_PATH } from '../../constants'\nimport { SvgCloudIcon } from '../About/SvgCloudIcon'\nimport About from '../About'\n\nexport default function MetamasklessModule(props) {\n  const connectMetaStyle = {\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '18px',\n    height: '46px',\n    lineHeight: '20px',\n    margin: 'auto 0',\n    padding: '20px',\n    top: 'calc(50% - 23px)',\n    width: 'auto',\n  }\n\n  let metamaskModule\n  if (metamaskFailure === 0 || metamaskFailure === 1) {\n    metamaskModule = (\n      <Grid item xs={12}>\n        <Link href={METAMASK_LINK} target='blank' color='inherit'>\n          <SvgCloudIcon color='white' text={'Install Metamask'} />\n        </Link>\n      </Grid>\n    )\n  } else if (metamaskFailure === 3) {\n    metamaskModule = (\n      <Grid item xs={12}>\n        <Link href={HOW_TO_MM_PATH} target='blank' color='inherit'>\n          <SvgCloudIcon color='white' text={'Change Network'} />\n        </Link>\n      </Grid>\n    )\n  } else {\n    metamaskModule = (\n      <Grid container item xs={12}>\n        <Grid item xs={12} style={{minHeight: '150px'}}>\n          <Link href={HOW_TO_MM_PATH} color='inherit' target='blank'>\n            <SvgCloudIcon color='white' text={'Connect Metamask'} />\n          </Link>\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            color='primary'\n            onClick={async () => { if (await initialize()) window.location.reload() }}\n            style={connectMetaStyle}\n            variant='contained'\n          >\n            Connect Metamask\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }\n\n  return (\n    <div style={{position: 'relative'}}>\n      <About defaultSection={metamaskModule} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { ChartDonut, ChartLabel } from '@patternfly/react-charts'\nimport { CryptoAsset } from '../Common'\n\nexport default function Chart(props) {\n  const chartSizeStyle = {\n    fontFamily: 'Futura-PT-Book',\n    height: '100%',\n    width: '90%',\n    margin: '0 10%',\n  }\n  const svgStyle = {\n    maxHeight: '140px',\n    maxWidth: '140px',\n    margin: '8px auto 4px auto',\n  }\n\n  let colors = [\n    '#B3CDE3',\n    '#CCEBC5',\n    '#DECBE4',\n    '#FBB4AE',\n    '#FED9A6',\n    '#DEDBDB'\n  ]\n\n  const balance = (\n    props.circulating\n      .plus(props.silo)\n      .plus(props.transit)\n      .plus(props.pool === undefined ? 0 : props.pool)\n      .plus(props.claimable)\n  )\n\n  const data = (\n    (balance.isGreaterThan(0) || balance === undefined)\n      ? [\n         {x: 'Circulating', y: props.circulating, fill: colors[0]},\n         {x: 'Silo',        y: props.silo,        fill: colors[1]},\n         {x: 'Transit',     y: props.transit,     fill: colors[2]},\n         {x: 'Pool',        y: props.pool,        fill: colors[3]},\n         {x: 'Claimable',   y: props.claimable,   fill: colors[4]},\n        ]\n      : [{x: 'Empty',       y: 100 ,                fill: colors[5]}]\n  )\n\n  return (\n    <div style={chartSizeStyle}>\n      <svg style={svgStyle}>\n        <ChartDonut\n          standalone={false}\n          constrainToVisibleArea={false}\n          data={data}\n          height={140}\n          width={140}\n          labels={({ datum }) => null}\n          titleComponent={\n            props.asset === CryptoAsset.Bean\n              ? <ChartLabel style={[{ fontSize: 20 }, { fontSize: 14 }]} />\n              : <ChartLabel style={[{ fontSize: 14 }, { fontSize: 14 }]} />\n          }\n          title={props.total}\n          subTitle={props.title}\n          innerRadius={55}\n          padding={0}\n          padAngle={0}\n          style={{\n            data: {\n              fill: ({ datum }) => datum.fill,\n            },\n            labels: {\n              fontSize: '20px',\n              fontFamily: 'Futura-PT-Book',\n              fill: ({ datum }) => datum.fill,\n            },\n            parent: {\n              border: '0px'\n            },\n          }}\n          events={[{\n            target: 'data',\n            eventHandlers: {\n              onMouseOver: () => {\n                return [\n                  {\n                    target: 'data',\n                    mutation: balance.isGreaterThan(0)\n                      ? (p) => { props.setActive(p.index) }\n                      : null\n                  },\n                  {\n                    target: 'labels',\n                    mutation: () => { return ({ active: true }) }\n                  }\n                ]\n              },\n              onMouseOut: () => {\n                return [\n                  {\n                    target: 'data',\n                    mutation: () => props.setActive(-1)\n                  },\n                  {\n                    target: 'labels',\n                    mutation: () => ({ active: false })\n                  }\n                ]\n              }\n            }\n          }]}\n        />\n      </svg>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport Hidden from '@material-ui/core/Hidden'\nimport { BEAN } from '../../constants'\nimport { displayBN, displayFullBN, TokenLabel } from '../../util'\nimport {\n  BalanceModule,\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  FormatTooltip,\n  Grid,\n  SiloAsset,\n  TokenBalanceModule,\n  TransitAsset,\n  UniswapAsset\n} from '../Common'\nimport Chart from './Chart'\n\nexport default function BalanceSection(props) {\n  const [beanActive, setBeanActive] = useState(-1)\n  const [lpActive, setLPActive] = useState(-1)\n\n  const color = {\n    circulating: '#B3CDE3',\n    pool: '#FBB4AE',\n    claimable: '#FED9A6',\n    silo: '#CCEBC5',\n    transit: '#DECBE4',\n  }\n  const containerGridStyle = {\n    minHeight: '100px',\n    padding: '4px 4px',\n    width: '50%',\n  }\n  const containerGridHorizontalStyle = {\n    padding: '4px 4px',\n  }\n  const spanStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-Pt-Book',\n    fontWeight: 'bold',\n    margin: '5px 0 5px 15px',\n    textAlign: 'left',\n    width: '100%',\n  }\n  const smallGridStyle = {\n    fontWeight: 'bold',\n    fontFamily: 'Futura-Pt-Book',\n    marginTop: '-5px',\n    padding: '0 4px 4px 4px',\n  }\n\n  const beanTotals = (\n    props.beanBalance\n      .plus(props.beanSiloBalance)\n      .plus(props.beanTransitBalance)\n      .plus(props.beanReceivableBalance)\n      .plus(props.harvestablePodBalance)\n      .plus(props.beanReserveTotal)\n  )\n  const lpTotals = (\n    props.lpBalance\n      .plus(props.lpSiloBalance)\n      .plus(props.lpTransitBalance)\n      .plus(props.lpReceivableBalance)\n  )\n  const balance = props.beanReceivableBalance.plus(props.harvestablePodBalance)\n\n  /* Show Claimables */\n\n  const claimableBeansSection = (\n    balance > 0\n      ? <Grid item xs={12}>\n          <TokenBalanceModule\n            balance={balance}\n            balanceColor={beanActive === 4 ? color.claimable : null}\n            description={props.description.claimableBeanBalance}\n            swerve\n            title={`Claimable ${props.showTokenName ? 'Beans' : ''}`}\n            token={ClaimableAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const claimableLPSection = (\n    props.lpReceivableBalance > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.lpReceivableBalance}\n            balanceColor={lpActive === 4 ? color.claimable : null}\n            description={props.description.claimablelpBalance}\n            isLP={true}\n            poolForLPRatio={props.poolForLPRatio}\n            swerve\n            title={`Claimable ${props.showTokenName ? 'LP' : ''}`}\n            token={ClaimableAsset.LP}\n          />\n        </Grid>\n      : null\n  )\n  const beanReserveSection = (\n    props.beanReserveTotal > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.beanReserveTotal}\n            balanceColor={beanActive === 3 ? color.pool : null}\n            description={props.description.beanReserveTotal}\n            swerve\n            token={UniswapAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const beanTransitSection = (\n    props.beanTransitBalance > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.beanTransitBalance}\n            balanceColor={beanActive === 2 ? color.transit : null}\n            description={props.description.beanTransitBalance}\n            swerve\n            title={`Withdrawn ${props.showTokenName ? 'Beans' : ''}`}\n            token={TransitAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const lpTransitSection = (\n    props.lpTransitBalance > 0\n      ? <Grid item xs={12}>\n          <TokenBalanceModule\n            balance={props.lpTransitBalance}\n            balanceColor={lpActive === 2 ? color.transit : null}\n            description={props.description.lpTransitBalance}\n            isLP={true}\n            poolForLPRatio={props.poolForLPRatio}\n            swerve\n            title={`Withdrawn ${props.showTokenName ? 'LP' : ''}`}\n            token={TransitAsset.LP}\n          />\n        </Grid>\n      : null\n  )\n\n  /* Bean Hidden */\n\n  const switchBeanSizeBalances = (\n    <>\n    <Hidden smUp>\n      <Grid item xs={12} style={smallGridStyle}>\n        <TokenBalanceModule\n          balance={beanTotals}\n          description='Total Beans'\n          style={{position: 'relative'}}\n          swerve\n          title='Total Beans'\n          token={CryptoAsset.Bean}\n        />\n      </Grid>\n      <hr style={{color: 'primary', backgroundColor: 'primary', margin: '10px 20px'}} />\n    </Hidden>\n    <Hidden xsDown>\n      <Grid container item sm={6} xs={12} style={containerGridStyle} >\n          <Grid item xs={12}>\n            <FormatTooltip\n              margin={props.chartMargin}\n              placement='top'\n              title={beanTotals.isGreaterThan(0) && beanActive < 0 ? `${displayFullBN(beanTotals)} Beans` : ''}\n            >\n              <div>\n                <Chart\n                  asset={CryptoAsset.Bean}\n                  claimable={balance}\n                  circulating={props.beanBalance}\n                  pool={props.beanReserveTotal}\n                  silo={props.beanSiloBalance}\n                  setActive={setBeanActive}\n                  title='Beans'\n                  total={displayBN(beanTotals)}\n                  transit={props.beanTransitBalance}\n                />\n              </div>\n            </FormatTooltip>\n          </Grid>\n      </Grid>\n    </Hidden>\n    </>\n  )\n\n  /* LP Hidden */\n\n  const switchLPSizeBalances = (\n    <>\n    <Hidden smUp>\n      <Grid item xs={12} style={smallGridStyle}>\n        <TokenBalanceModule\n          balance={lpTotals}\n          description='Total LP'\n          isLP={true}\n          poolForLPRatio={props.poolForLPRatio}\n          style={{position: 'relative'}}\n          swerve\n          title='Total LP'\n          token={CryptoAsset.LP}\n        />\n      </Grid>\n      <hr style={{color: 'primary', backgroundColor: 'primary', margin: '10px 20px'}} />\n    </Hidden>\n    <Hidden xsDown>\n      <Grid container item sm={6} xs={12} style={containerGridStyle}>\n        <Grid item xs={12}>\n          <FormatTooltip\n            placement='top'\n            margin={props.chartMargin}\n            title={\n              (props.beanLPTotal[0].isGreaterThan(0) || props.beanLPTotal[1].isGreaterThan(0)) && lpActive < 0\n                ? `${displayFullBN(props.beanLPTotal[0], BEAN.decimals)} Beans/${displayFullBN(props.beanLPTotal[1])} ETH`\n                : ''\n            }\n          >\n            <div>\n              <Chart\n                asset={CryptoAsset.LP}\n                claimable={props.lpReceivableBalance}\n                circulating={props.lpBalance}\n                setActive={setLPActive}\n                silo={props.lpSiloBalance}\n                title={`${TokenLabel(CryptoAsset.Bean)}/${TokenLabel(CryptoAsset.Ethereum)}`}\n                total={`${displayBN(props.beanLPTotal[0])}/${displayBN(props.beanLPTotal[1])}`}\n                transit={props.lpTransitBalance}\n              />\n            </div>\n          </FormatTooltip>\n        </Grid>\n      </Grid>\n    </Hidden>\n    </>\n  )\n\n  return (\n    <Grid container justifyContent='center' style={{padding: props.padding}}>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px', textAlign: 'left'}}>\n        <Grid container item xs={12} style={containerGridHorizontalStyle} >\n          <Grid item sm={6} xs={12}>\n            <BalanceModule\n              balance={`$${displayBN(props.topLeft)}`}\n              balanceDescription={`$${displayFullBN(props.topLeft)} ${props.strings.topLeft}`}\n              description={props.description.topLeft}\n              margin='0 0 6px 10px'\n              placement='top-start'\n              style={{position: 'relative'}}\n              swerve\n              title={props.description.topLeftTitle}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <BalanceModule\n              balance={\n                props.topRight.isLessThanOrEqualTo(100)\n                  ? `${displayBN(props.topRight)}%`\n                  : `$${displayBN(props.topRight)}`\n              }\n              balanceDescription={\n                props.topRight.isGreaterThan(0)\n                  ? props.topRight.isLessThanOrEqualTo(100)\n                    ? `${displayFullBN(props.topRight)}% ${props.strings.topRight}`\n                    : `$${displayFullBN(props.topRight)} ${props.strings.topRight}`\n                  : undefined\n              }\n              description={props.description.topRight}\n              margin='0 0 6px 10px'\n              placement='top-start'\n              style={{position: 'relative'}}\n              swerve\n              title={props.description.topRightTitle}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <span style={spanStyle}>Beans</span>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px'}}>\n        <Grid container item sm={6} xs={12} style={containerGridStyle}>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.beanBalance}\n              balanceColor={beanActive === 0 ? color.circulating : null}\n              description={props.description.beanBalance}\n              swerve\n              title={`Circulating ${props.showTokenName ? 'Beans' : ''}`}\n              token={CryptoAsset.Bean}\n            />\n          </Grid>\n          <Grid item xs={12} >\n            <TokenBalanceModule\n              balance={props.beanSiloBalance}\n              balanceColor={beanActive === 1 ? color.silo : null}\n              description={props.description.beanSiloBalance}\n              swerve\n              title={`Deposited ${props.showTokenName ? 'Beans' : ''}`}\n              token={SiloAsset.Bean}\n            />\n          </Grid>\n          {beanTransitSection}\n          {claimableBeansSection}\n          {beanReserveSection}\n        </Grid>\n\n        {switchBeanSizeBalances}\n\n      </Grid>\n      <span style={spanStyle}>LP</span>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px'}}>\n        <Grid container item sm={6} xs={12} style={containerGridStyle}>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.lpBalance}\n              balanceColor={lpActive === 0 ? color.circulating : null}\n              description={props.description.lpBalance}\n              isLP={true}\n              poolForLPRatio={props.poolForLPRatio}\n              swerve\n              title={`Circulating ${props.showTokenName ? 'LP' : ''}`}\n              token={CryptoAsset.LP}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.lpSiloBalance}\n              balanceColor={lpActive === 1 ? color.silo : null}\n              description={props.description.lpSiloBalance}\n              isLP={true}\n              poolForLPRatio={props.poolForLPRatio}\n              swerve\n              title={`Deposited ${props.showTokenName ? 'LP' : ''}`}\n              token={SiloAsset.LP}\n            />\n          </Grid>\n          {lpTransitSection}\n          {claimableLPSection}\n        </Grid>\n\n        {switchLPSizeBalances}\n\n        </Grid>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px', marginTop: '20px'}}>\n        <Grid container item xs={12} style={containerGridHorizontalStyle}>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.stalkBalance}\n              description={props.description.stalkBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={SiloAsset.Stalk}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.seedBalance}\n              description={props.description.seedBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={SiloAsset.Seed}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.podBalance}\n              description={props.description.podBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={FarmAsset.Pods}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.ethBalance}\n              description={props.description.ethBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={CryptoAsset.Ethereum}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nBalanceSection.defaultProps = {\n  chartMargin: '0 0 0 30px',\n  margin: '4px 0 0 20px',\n  padding: '10px',\n  showTokenName: true,\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  ClickAwayListener,\n  Grow,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  BEAN,\n  ETH,\n  UNI_V2_ETH_BEAN_LP,\n  WITHDRAWAL_FROZEN\n} from '../../constants'\nimport {\n  displayBN,\n  getBlockTimestamp,\n  GetWalletAddress,\n  toTokenUnitsBN\n} from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  SiloAsset,\n  TokenTypeImageModule,\n  TransitAsset,\n  walletDescriptions,\n  walletStrings\n} from '../Common'\nimport BalanceSection from '../Trade/BalanceSection'\n\nexport default function WalletModule(props) {\n  const classes = makeStyles({\n    walletButton: {\n      textDecoration: 'none',\n      borderRadius: '12px',\n      color: 'black',\n      textTransform: 'none',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '17px',\n      padding: '5px 8px',\n      marginLeft: '8px',\n      '&:hover': {\n        backgroundColor: '#61dafb38'\n      }\n    },\n    greenStyle: {\n      color: 'green',\n      display: 'block',\n      marginTop: '-7px',\n      width: '100%'\n    },\n    redStyle: {\n      color: 'red',\n      display: 'block',\n      width: '100%'\n    }\n  })()\n\n  const tokenImageStyle = {\n    height: '15px',\n    float: 'right',\n    margin: '0px 8px 0px 4px',\n  }\n  const eventTitleStyle = {\n    display: 'inline-block',\n    maxWidth: '60',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '14px',\n  }\n  const timestampStyle = {\n    width: '100%',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '13px',\n    color: 'gray',\n    fontStyle: 'normal',\n  }\n  const eventAmountStyle = {\n    display: 'inline-block',\n    marginTop: '10px',\n    height: '100%',\n    width: '40%',\n    fontFamily: 'Lucida Console',\n    fontSize: '12px',\n    textAlign: 'right',\n    float: 'right',\n    paddingRight: '3%',\n  }\n  const menuItemStyle = {\n    minHeight: '44px',\n    padding: '5px',\n    whiteSpace: 'normal',\n    fontSize: 'small',\n    borderBottom: '1px solid #ccc',\n  }\n  const walletListStyle = {\n    position: 'absolute',\n    right: '-120px',\n    top: '1px',\n    width: '365px',\n    maxHeight: '395px',\n    overflow: 'scroll'\n  }\n\n  const [walletText, setWalletText] = useState('Wallet')\n  const anchorRefWallet = React.useRef<any>(null)\n  const [openWallet, setOpenWallet] = React.useState(false)\n  const handleToggleWallet = () => { setOpenWallet((prevOpen) => !prevOpen) }\n  const handleCloseWallet = () => { setOpenWallet(false) }\n\n  const [walletEvents, setWalletEvents] = useState([])\n\n  useEffect(() => {\n    async function handleWallet() {\n      GetWalletAddress().then(accountHex => {\n        if (accountHex !== undefined) {\n          const accountDisplay = `${accountHex.substr(0, 6)}...${accountHex.substr(accountHex.length - 4, 4)}`\n          setWalletText(accountDisplay)\n        } else {\n          console.log('Please Install Metamask!')\n        }\n      })\n    }\n\n    async function buildWalletEvents() {\n      var timestampPromisesByBlockNumber = {}\n      props.events.forEach((event, _) => {\n        if (timestampPromisesByBlockNumber[event.blockNumber] === undefined)\n          timestampPromisesByBlockNumber[event.blockNumber] = getBlockTimestamp(event.blockNumber)\n      })\n      const blockNumbers = Object.keys(timestampPromisesByBlockNumber)\n      const blockTimePromises = Object.values(timestampPromisesByBlockNumber)\n      Promise.all(blockTimePromises).then((blockTimestamps) => {\n        var timestampsByBlockNumber = {}\n        blockTimestamps.forEach((timestamp, index) => {\n          const blockNumber = blockNumbers[index]\n          timestampsByBlockNumber[blockNumber] = timestamp\n        })\n\n        var filteredEvents = []\n        props.events.forEach((event, _) => {\n          switch (event.event) {\n            case 'BeanRemove':\n            case 'LPRemove':\n              return\n          }\n          event.timestamp = timestampsByBlockNumber[event.blockNumber]\n          filteredEvents.push(event)\n        })\n        filteredEvents.sort(function(a, b) {\n          const blockDiff = b.blockNumber - a.blockNumber\n          return blockDiff === 0 ? b.logIndex - a.logIndex : blockDiff\n        })\n\n        var batchedEvents = []\n        var currentBlock = {}\n        var pendingAmountsPerType = {}\n        var pendingSeasonsPerType = {}\n        filteredEvents.forEach((event, index) => {\n          function flushPendingAmounts() {\n            for (const type in pendingAmountsPerType) {\n              var batchedEvent = {}\n              switch (type) {\n                case 'BeanDeposit': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = {\n                    beans: pendingAmountsPerType[type],\n                    season: seasonsDisplay(pendingSeasonsPerType[type])\n                  }\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n                case 'LPDeposit': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = {\n                    lp: pendingAmountsPerType[type],\n                    season: seasonsDisplay(pendingSeasonsPerType[type])\n                  }\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n                case 'Sow': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = pendingAmountsPerType[type]\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n              }\n              batchedEvent.transactionHash = currentBlock.transactionHash\n              batchedEvent.timestamp = currentBlock.timestamp\n            }\n            pendingAmountsPerType = {}\n            pendingSeasonsPerType = {}\n          }\n          const lastElement = index === filteredEvents.length - 1\n\n          if (currentBlock.number !== event.blockNumber) {\n            flushPendingAmounts()\n            currentBlock = {\n              number: event.blockNumber,\n              transactionHash: event.transactionHash,\n              timestamp: event.timestamp\n            }\n          }\n\n          function updateSeasons(pendingSeasons, season) {\n            pendingSeasons.min = Math.min(pendingSeasons.min, season)\n            pendingSeasons.max = Math.max(pendingSeasons.max, season)\n            return pendingSeasons\n          }\n          function seasonsDisplay(season) {\n            return season.min === season.max ? (` ${season.min}`) : (`s ${season.min}-${season.max}`)\n          }\n          /* Special Handling for events that may repeat in a single block */\n          switch (event.event) {\n            case 'BeanDeposit': {\n              const beans = new BigNumber(event.returnValues.beans)\n              const pendingBeans = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = pendingBeans === undefined ? beans : beans.plus(pendingBeans)\n\n              const season = event.returnValues.season\n              const pendingSeasons = pendingSeasonsPerType[event.event]\n              pendingSeasonsPerType[event.event] = (\n                pendingSeasons === undefined\n                  ? {min: season, max: season}\n                  : updateSeasons(pendingSeasons, season)\n              )\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n            case 'LPDeposit': {\n              const lp = new BigNumber(event.returnValues.lp)\n              const pendingLP = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = (\n                pendingLP === undefined\n                  ? lp\n                  : lp.plus(pendingLP)\n              )\n              const season = event.returnValues.season\n              const pendingSeasons = pendingSeasonsPerType[event.event]\n              pendingSeasonsPerType[event.event] = (\n                pendingSeasons === undefined\n                  ? {min: season, max: season}\n                  : updateSeasons(pendingSeasons, season)\n              )\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n            case 'Sow': {\n              const pods = new BigNumber(event.returnValues.pods)\n              const beans = new BigNumber(event.returnValues.beans)\n              const pending = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = {\n                pods: pending === undefined ? pods : pods.plus(pending.pods),\n                beans: pending === undefined ? beans : beans.plus(pending.beans)\n              }\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n          }\n          batchedEvents.push(event)\n        })\n        setWalletEvents(batchedEvents)\n      })\n    }\n    handleWallet()\n    buildWalletEvents()\n  }, [props.events])\n\n  const inOutDisplay = (inBN, inToken, outBN, outToken) => (\n    <>\n    <span className={classes.greenStyle}>\n      {`+${displayBN(outBN)}`} <TokenTypeImageModule style={tokenImageStyle} token={outToken} />\n    </span>\n    <span className={classes.redStyle}>\n      {`-${displayBN(inBN)}`} <TokenTypeImageModule style={tokenImageStyle} token={inToken} />\n    </span>\n    </>\n  )\n  const outDisplay = (outBN, outToken) => (\n    <>\n    <span style={{color: 'green'}}>{`+${displayBN(outBN)}`}</span>\n    <TokenTypeImageModule style={tokenImageStyle} token={outToken} />\n    </>\n  )\n\n  function displayEvent(event) {\n    var eventTitle = `Event Name: ${event.event}`\n    let eventAmount\n    switch (event.event) {\n      case 'BeanDeposit': {\n        const s = event.returnValues.season\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = `Bean Deposit (Season${s})`\n        eventAmount = outDisplay(beans, SiloAsset.Bean)\n        break\n      }\n      case 'BeanClaim': {\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Bean Claim'\n        eventAmount = inOutDisplay(beans, ClaimableAsset.Bean, beans, CryptoAsset.Bean)\n        break\n      }\n      case 'BeanWithdraw': {\n        const s = parseInt(event.returnValues.season)\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = `Bean Withdrawal (Season ${s - WITHDRAWAL_FROZEN})`\n        eventAmount = inOutDisplay(beans, SiloAsset.Bean, beans, TransitAsset.Bean)\n        break\n      }\n      case 'Sow': {\n        const pods = toTokenUnitsBN(event.returnValues.pods, BEAN.decimals)\n\n        if (event.returnValues.beans !== undefined) {\n          const beans = toTokenUnitsBN(event.returnValues.beans, BEAN.decimals)\n          const weather = pods.dividedBy(beans).minus(new BigNumber(1)).multipliedBy(100).toFixed(0)\n\n          eventTitle = `Bean Sow (${weather}% Weather)`\n          eventAmount = inOutDisplay(beans, CryptoAsset.Bean, pods, FarmAsset.Pods)\n        } else {\n          eventTitle = 'Bean Sow'\n          eventAmount = (\n            <>\n            <span style={{color: 'green'}}>{displayBN(pods)}</span>\n            <TokenTypeImageModule style={tokenImageStyle} token={FarmAsset.Pods} />\n            </>\n          )\n        }\n        break\n      }\n      case 'Harvest': {\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Pod Harvest'\n        eventAmount = inOutDisplay(beans, FarmAsset.Pods, beans, CryptoAsset.Bean)\n        break\n      }\n      case 'LPDeposit': {\n        const s = event.returnValues.season\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Deposit (Season${s})`\n        eventAmount = outDisplay(lp, SiloAsset.LP)\n        break\n      }\n      case 'LPClaim': {\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Claim`\n        eventAmount = inOutDisplay(lp, ClaimableAsset.LP, lp, CryptoAsset.LP)\n        break\n      }\n      case 'LPWithdraw': {\n        const s = parseInt(event.returnValues.season)\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Withdrawal (Season ${s - WITHDRAWAL_FROZEN})`\n        eventAmount = inOutDisplay(lp, SiloAsset.LP, lp, TransitAsset.LP)\n        break\n      }\n      case 'Proposal': {\n        eventTitle = 'BIP Proposal'\n        eventAmount = (\n          <span style={{fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Vote': {\n        eventTitle = 'BIP Vote'\n        eventAmount = (\n          <span style={{color: 'green', fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Unvote': {\n        eventTitle = 'BIP Unvote'\n        eventAmount = (\n          <span style={{color: 'red', fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Incentivization': {\n        const beanReward = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Sunrise Reward'\n        eventAmount = outDisplay(beanReward, CryptoAsset.Bean)\n        break\n      }\n      case 'Swap': {\n        if (event.returnValues.amount0In !== '0') {\n          const swapFrom = toTokenUnitsBN(new BigNumber(event.returnValues.amount0In), ETH.decimals)\n          const swapTo = toTokenUnitsBN(new BigNumber(event.returnValues.amount1Out), BEAN.decimals)\n\n          eventTitle = 'ETH to Bean Swap'\n          eventAmount = inOutDisplay(swapFrom, CryptoAsset.Ethereum, swapTo, CryptoAsset.BEAN)\n        } else if (event.returnValues.amount1In !== '0') {\n          const swapFrom = toTokenUnitsBN(new BigNumber(event.returnValues.amount1In), BEAN.decimals)\n          const swapTo = toTokenUnitsBN(new BigNumber(event.returnValues.amount0Out), ETH.decimals)\n\n          eventTitle = 'Bean to ETH Swap'\n          eventAmount = inOutDisplay(swapFrom, CryptoAsset.BEAN, swapTo, CryptoAsset.Ethereum)\n        }\n        break\n      }\n      case 'EtherClaim': {\n        const ethReward = toTokenUnitsBN(new BigNumber(event.returnValues.ethereum), ETH.decimals)\n\n        eventTitle = 'ETH Claim'\n        eventAmount = outDisplay(ethReward, CryptoAsset.Ethereum)\n        break\n      }\n    }\n\n    const date = new Date(event.timestamp * 1e3)\n    const dateString = date.toLocaleDateString('en-US')\n    const timeString = date.toLocaleTimeString('en-US')\n\n    return (\n      <div style={{width: '100%', paddingLeft: '3px'}}>\n        <div style={{width: '100%'}}>\n          <div style={eventTitleStyle}>\n            {eventTitle}\n            <br/>\n            <div style={timestampStyle}>{`${dateString} ${timeString}`}</div>\n          </div>\n          <div style={eventAmountStyle}>\n            {eventAmount}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const walletSubtitles = ['Bean', 'ETH', 'LP', 'Field', 'Other']\n  const [transactionPage, setTransactionPage] = useState(-1)\n  const walletEventsDisplay = (\n    <>\n    <div style={{zIndex: '1', width: '100%', height: '40px'}}>\n      {walletSubtitles.map((title, index) => (\n        <Button\n          key={index}\n          onClick={() => {\n            if (transactionPage === index) {\n              setTransactionPage(-1)\n            } else {\n              setTransactionPage(index)\n            }\n            document.getElementById('wallet-list-paper').scrollTop = 0\n          }}\n          style={{\n            borderBottom: '1px solid #efefef',\n            borderRadius: '0px',\n            height: '100%',\n            width: `calc(100% / ${walletSubtitles.length})`,\n            display: 'inline-block',\n            fontSize: 'medium',\n            padding: '5px',\n            cursor: 'pointer',\n            textTransform: 'none',\n            backgroundColor: transactionPage === index ? '#EFF7FF' : 'white',\n            textAlign: 'center',\n            fontFamily: 'Futura-PT-Book',\n          }}\n        >\n          {title}\n        </Button>\n      ))}\n    </div>\n    {walletEvents.filter((event) => {\n      if (transactionPage === 0) return ['BeanDeposit', 'BeanWithdraw', 'BeanClaim'].includes(event.event)\n      if (transactionPage === 1) return ['EtherClaim', 'Swap'].includes(event.event)\n      if (transactionPage === 2) return ['LPDeposit', 'LPWithdraw', 'LPClaim'].includes(event.event)\n      if (transactionPage === 3) return ['Sow', 'Harvest'].includes(event.event)\n      if (transactionPage === 4) return ['Vote', 'Unvote', 'Proposal', 'Incentivization'].includes(event.event)\n      return true\n     }).map((event, index) => {\n       /* add 'ropsten' before .etherscan if on ropsten network */\n      return (\n        <MenuItem onClick={() => window.open(`https://etherscan.io/tx/${event.transactionHash}`)} style={menuItemStyle} key={index}>\n          {displayEvent(event)}\n        </MenuItem>\n      )\n    })}\n    </>\n  )\n\n  const userLP = props.lpBalance.plus(props.lpSiloBalance).plus(props.lpTransitBalance).plus(props.lpReceivableBalance)\n  const userBeans = props.beanBalance.plus(props.beanSiloBalance).plus(props.beanTransitBalance).plus(props.beanReceivableBalance).plus(props.harvestablePodBalance)\n  const userBalanceInDollars = userBeans.multipliedBy(props.beanPrice)\n  const userBeansAndEth = props.poolForLPRatio(userLP)\n\n  const myBalancesSection = (\n    <>\n    <BalanceSection\n      description={walletDescriptions}\n      strings={walletStrings}\n      topLeft={userBalanceInDollars}\n      topRight={props.stalkBalance.dividedBy(props.totalStalk).multipliedBy(100)}\n      beanReserveTotal={new BigNumber(0)}\n      beanLPTotal={userBeansAndEth}\n      padding='4px 0 0 0'\n      showTokenName={false}\n      chartMargin='0 0 0 10px'\n      {...props}\n    />\n    </>\n  )\n\n  const [walletPage, setWalletPage] = useState(0)\n  const walletTitles = ['Transactions', 'My Balances']\n  const walletPages = [walletEventsDisplay, myBalancesSection]\n\n  return (\n    <>\n    <Button onClick={() => handleToggleWallet()}\n            className={classes.walletButton}\n            ref={anchorRefWallet}\n            aria-controls={openWallet ? 'wallet-list-grow' : undefined}\n            aria-haspopup='true'>\n      {walletText}\n    </Button>\n    <Popper open={openWallet} anchorEl={anchorRefWallet.current} role={undefined} transition disablePortal>\n      {({ TransitionProps, placement }) => (\n        <Grow\n          {...TransitionProps}\n          style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n        >\n          <Paper id='wallet-list-paper' style={walletListStyle}>\n            <ClickAwayListener onClickAway={handleCloseWallet}>\n              <MenuList style={{padding: '0px'}} autoFocusItem={openWallet} id='wallet-list-grow'>\n                <div style={{zIndex: '1', width: '100%', height: '40px', position: 'sticky', top: '0px'}}>\n                  {walletTitles.map((title, index) => (\n                    <Button\n                      key={index}\n                      onClick={() => {\n                        setWalletPage(index)\n                        setTransactionPage(-1)\n                        document.getElementById('wallet-list-paper').scrollTop = 0\n                      }}\n                      style={{\n                        borderBottom: '2px solid #efefef',\n                        borderRadius: '0px',\n                        height: '100%',\n                        width: `calc(100% / ${walletTitles.length})`,\n                        display: 'inline-block',\n                        fontSize: 'medium',\n                        padding: '5px',\n                        cursor: 'pointer',\n                        textTransform: 'none',\n                        backgroundColor: index !== walletPage ? 'white' : '#EFF7FF',\n                        textAlign: 'center',\n                        fontFamily: 'Futura-PT-Book',\n                      }}\n                    >\n                      {title}\n                    </Button>\n                  ))}\n                </div>\n                <div style={{zIndex: '0', paddingTop: '0px'}}>\n                  {walletPages[walletPage]}\n                </div>\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  AppBar,\n  Button,\n  ClickAwayListener,\n  Container,\n  Grow,\n  IconButton,\n  List,\n  ListItem,\n  MenuList,\n  MenuItem,\n  Paper,\n  Popper,\n  Toolbar\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { Link } from 'react-scroll'\nimport BeanLogo from '../../img/bean-logo.svg'\nimport background from '../../img/cloud-background.png'\nimport WalletModule from './WalletModule'\n\nexport default function NavigationBar(props) {\n  const classes = makeStyles({\n    fixedNav: {\n      backgroundColor: 'transparent',\n      backgroundImage: `url(${background}), url(${background})`,\n      backgroundPosition: '0px 0px, 1px 0px',\n      backgroundRepeat: 'repeat-x, repeat-x',\n      backgroundSize: 'contain, contain',\n      boxShadow: 'none',\n      height: '85px',\n      position: 'fixed'\n    },\n    navDisplayFlex: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    linkText: {\n      borderRadius: '16px',\n      color: 'black',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '17px',\n      margin: '4px',\n      padding: '0px !important',\n      textDecoration: 'none',\n      textTransform: 'uppercase'\n    },\n    linkPadding: {\n      borderRadius: '16px',\n      padding: '12px 18px'\n    },\n    activeLinkText: {\n      backgroundColor: '#61dafb38'\n    },\n    activeAboutLinkText: {\n      backgroundColor: '#61dafb38',\n      borderRadius: '16px',\n      padding: '12px 18px'\n    }\n  })()\n\n  const anchorRef = React.useRef<any>(null)\n  const [open, setOpen] = React.useState(false)\n  const handleToggle = () => { setOpen((prevOpen) => !prevOpen) }\n  const handleClose = () => { setOpen(false) }\n\n  const [isScrolledToBottom, setIsScrolledToBottom] = useState(false)\n  function handleScroll() {\n    const windowHeight = 'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight\n    const body = document.body\n    const html = document.documentElement\n    const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight)\n    const windowBottom = windowHeight + window.pageYOffset\n    setIsScrolledToBottom(windowBottom >= docHeight)\n    localStorage.setItem('scrollPosition', window.pageYOffset)\n  }\n  useEffect(() => {\n    const scrollY = localStorage.getItem('scrollPosition')\n    if (scrollY !== undefined) window.scrollTo(0, scrollY)\n\n    window.addEventListener('scroll', handleScroll)\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n    }\n  }, [])\n\n  const linkItemStyle = (path) => ( path === 'governance' ? {color: 'rgb(14, 136, 55)'} : null )\n\n  const mobileNavigation = (\n    <div className='NavigationBarHamburger'>\n      <List component='nav' aria-labelledby='main navigation' className={classes.navDisplayFlex}>\n        <ListItem>\n          <WalletModule {...props} />\n        </ListItem>\n      </List>\n      <Button\n        ref={anchorRef}\n        aria-controls={open ? 'menu-list-grow' : undefined}\n        aria-haspopup='true'\n        onClick={handleToggle}\n      >\n        <MenuIcon />\n      </Button>\n      <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList autoFocusItem={open} id='menu-list-grow'>\n                  {props.links.map(({ title, path }) => (\n                    <MenuItem key={path} button className={classes.linkText} style={linkItemStyle(path)}>\n                      <Link\n                        duration={450}\n                        to={path}\n                        onClick={handleClose}\n                        activeClass={classes.activeLinkText}\n                        className={classes.linkPadding}\n                        spy={true}\n                        smooth={true}\n                      >\n                        {title}\n                      </Link>\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  )\n\n  const desktopNavigation = (\n    <List component='nav' aria-labelledby='main navigation' className='NavigationBar'>\n      {props.links.map(({ title, path }) => (\n        <ListItem key={path} button className={classes.linkText} style={linkItemStyle(path)}>\n          <Link\n            to={path}\n            duration={450}\n            activeClass={isScrolledToBottom ? null : classes.activeLinkText}\n            className={path === 'about' && isScrolledToBottom ? classes.activeAboutLinkText : classes.linkPadding}\n            spy={true}\n            smooth={true}\n          >\n            {title}\n          </Link>\n        </ListItem>\n      ))}\n      <ListItem>\n        <WalletModule {...props} />\n      </ListItem>\n    </List>\n  )\n\n  const beanLogo = (\n    <IconButton edge='start' color='inherit' className='App-logo'>\n      <img height='36px' src={BeanLogo} alt='bean.money' />\n    </IconButton>\n  )\n\n  return (\n    <AppBar className={classes.fixedNav}>\n      <Toolbar>\n        <Container className={classes.navDisplayFlex}>\n          {beanLogo}\n          {mobileNavigation}\n          {desktopNavigation}\n        </Container>\n      </Toolbar>\n    </AppBar>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/black-sun.7e2e7598.svg\";","import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport {\n  BEAN,\n  DELTA_POD_DEMAND_LOWER_BOUND,\n  DELTA_POD_DEMAND_UPPER_BOUND,\n  MAX_UINT32,\n  OPTIMAL_POD_RATE,\n  PEG_WEATHER_CASES,\n  POD_RATE_LOWER_BOUND,\n  POD_RATE_UPPER_BOUND,\n  SOIL_MAX_RATIO_CAP,\n  SOIL_MIN_RATIO_CAP\n} from '../../constants'\nimport {\n  displayBN,\n  displayFullBN,\n  MaxBN,\n  TrimBN\n} from '../../util'\nimport { BalanceModule, Grid, QuestionModule } from '../Common'\n\n// const cases = [3,1,0,0,-1,-3,-3,0,3,1,0,0,-1,-3,-3,0,3,3,1,0,0,0,-1,0,3,3,1,0,1,0,-1,0]\n\nconst gridStyle = {\n  backgroundColor: 'white',\n  borderRadius: '25px',\n  marginBottom: '12px',\n  padding: '10px 10px 4px 10px',\n}\nconst spanStyle = {\n  display: 'inline-block',\n  fontFamily: 'Futura-Pt-Book',\n  fontWeight: 'bold',\n  marginTop: '0px',\n  padding: '0 10px',\n  textAlign: 'left',\n  width: '100%',\n}\nconst lineStyle = {\n  backgroundColor: 'primary',\n  color: 'primary',\n  margin: '10px 8px',\n}\nconst pegMaintenanceStyle = {\n  borderRadius: '25px',\n  color: 'primary',\n  backgroundColor: '#F5FAFF',\n  padding: '10px',\n  fontFamily: 'Futura-Pt-Book',\n  marginTop: '15px'\n}\nconst pegMaintenanceSpanStyle = {\n  width: '100%',\n  display: 'inline-block',\n  textAlign: 'center',\n  marginTop: '5px',\n  fontFamily: 'Futura-Pt-Book',\n  fontSize: '20px'\n}\n\nconst bottomGridStyle = Object.assign({}, gridStyle)\nbottomGridStyle.marginBottom = null\n\nfunction StatBalance(props) {\n  return(\n    <Grid item sm={props.gridWidth !== undefined ? props.gridWidth : 4} xs={12}>\n      <BalanceModule questionMargin='-8px 0 0 2px' {...props} />\n    </Grid>\n  )\n}\n\nfunction Stats(props) {\n  const gridWidth = props.four !== undefined ? 3 : 4\n  return (\n    <Grid container justifyContent='center' style={gridStyle}>\n      <span style={spanStyle}>{props.title}<hr/></span>\n      <StatBalance gridWidth={gridWidth} {...props.one} />\n      <StatBalance gridWidth={gridWidth} {...props.two} />\n      <StatBalance gridWidth={gridWidth} {...props.three} />\n      {props.four !== undefined\n        ? <StatBalance\n            gridWidth={gridWidth}\n            style={isNaN(props.four.balance) ? {fontFamily: 'Futura-Pt-Book'} : null}\n            {...props.four}\n          />\n        : null\n      }\n    </Grid>\n  )\n}\n\nexport default function PegMaintenance(props) {\n  const price = props.beanTWAPPrice.dividedBy(props.usdcTWAPPrice)\n  const podRate = props.totalPods.dividedBy(props.totalBeans).multipliedBy(100)\n  const deltaSoil = props.startSoil.minus(props.soil)\n  // const deltaDemand = (\n  //   deltaSoil.isEqualTo(0)\n  //     ? new BigNumber(0)\n  //     : props.lastDSoil.isEqualTo(0)\n  //       ? new BigNumber(100000)\n  //       : deltaSoil.dividedBy(props.lastDSoil)\n  // )\n  const deltaDemand = (\n    !deltaSoil.isEqualTo(0)\n      ? !props.lastDSoil.isEqualTo(0)\n        ? deltaSoil.dividedBy(props.lastDSoil)\n        : new BigNumber(100000)\n      :  new BigNumber(0)\n  )\n\n  let caseId = 0\n  if (podRate.isGreaterThanOrEqualTo(POD_RATE_UPPER_BOUND)) caseId = 24\n  else if (podRate.isGreaterThanOrEqualTo(OPTIMAL_POD_RATE)) caseId = 16\n  else if (podRate.isGreaterThanOrEqualTo(POD_RATE_LOWER_BOUND)) caseId = 8\n\n  if (price.isGreaterThan(1) || (price.isEqualTo(1) && podRate.isLessThanOrEqualTo(OPTIMAL_POD_RATE))) {\n    caseId += 4\n  }\n\n  if (deltaDemand.isGreaterThanOrEqualTo(DELTA_POD_DEMAND_UPPER_BOUND)) {\n      caseId += 2\n  } else if (deltaDemand.isGreaterThanOrEqualTo(DELTA_POD_DEMAND_LOWER_BOUND)) {\n      if (props.lastSowTime.isEqualTo(MAX_UINT32) || !props.didSowBelowMin) caseId += 1\n      else if (props.didSowFaster) caseId += 2\n  }\n\n  let deltaWeather = new BigNumber(PEG_WEATHER_CASES[caseId])\n  if (props.weather.plus(deltaWeather).isLessThanOrEqualTo(0)) deltaWeather = props.weather.minus(1)\n\n  const currentBeans = (props.beanReserve.multipliedBy(props.ethReserve).dividedBy(props.beanTWAPPrice)).sqrt()\n  const targetBeans = (props.beanReserve.multipliedBy(props.ethReserve).dividedBy(props.usdcTWAPPrice)).sqrt()\n\n  let newBeans = new BigNumber(0)\n  let newSoil = new BigNumber(0)\n  if (currentBeans.isLessThan(targetBeans)) newBeans = targetBeans.minus(currentBeans)\n  else if (targetBeans.isLessThan(currentBeans)) newSoil = currentBeans.minus(targetBeans)\n\n  const minTotalSoil = props.totalBeans.multipliedBy(SOIL_MIN_RATIO_CAP)\n  if (props.soil.isLessThan(minTotalSoil))\n    newSoil = MaxBN(minTotalSoil.minus(props.soil), newSoil)\n  const maxTotalSoil = props.totalBeans.multipliedBy(SOIL_MAX_RATIO_CAP)\n  if (props.soil.isGreaterThan(maxTotalSoil))\n    newSoil = props.soil.minus(maxTotalSoil)\n\n  const rainingSeasons = props.season.minus(props.rainStart)\n  const rainNextSeason = caseId > 3 && caseId < 8\n  let rainForecast\n  if (props.raining && rainNextSeason) rainForecast = 'More Showers'\n  else if (rainNextSeason) rainForecast = 'Start'\n  else if (props.raining) rainForecast = 'Stop'\n  else rainForecast = 'Sun'\n  newBeans = TrimBN(newBeans, BEAN.decimals)\n  newSoil = TrimBN(newSoil, BEAN.decimals)\n\n  const nextSeasonStats = {\n    title: 'Next Season',\n    one: {\n      title: 'New Beans',\n      balance: displayBN(newBeans),\n      description: 'Expected New Beans Minted at the Beginning of Next Season',\n      balanceDescription: (\n        newBeans > 0\n          ? `${displayFullBN(newBeans)} Beans`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    two: {\n      title: 'New Soil',\n      balance: displayBN(newSoil),\n      description: 'Expected New Soil Minted at the Beginning of Next Season',\n      balanceDescription: (\n        newSoil > 0\n          ? `${displayFullBN(newSoil)} Soil`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    three: {\n      title: 'Weather Forecast',\n      balance: `${props.weather.plus(deltaWeather)}%`,\n      description: 'Expected Weather Next Season',\n      balanceDescription: (\n        deltaWeather !== 0\n          ? `${props.weather.plus(deltaWeather).toString()}% Weather`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    four: {\n      title: 'Rain Forecast',\n        balance: rainForecast,\n      description: 'Expected Rain Status Next Season'\n    }\n  }\n\n  const currentSeasonStats = {\n    title: 'Current Season',\n    one: {\n      title: 'Price',\n      balance: `$${displayBN(price)}`,\n      description: 'Time Weighted Average Bean Price',\n      balanceDescription: `$${displayFullBN(price)} Price`,\n      placement: 'bottom'\n    },\n    two: {\n      title: 'Pod Rate',\n      balance: `${displayBN(podRate)}%`,\n      description: 'Pod Rate as a Percent of Total Bean Supply',\n      balanceDescription: (\n        podRate.isGreaterThan(0)\n          ? `${displayFullBN(podRate)}% Pod Rate`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    three: {\n      title: 'Delta Demand',\n      balance: (\n        props.lastDSoil.isEqualTo(0) && deltaSoil.isGreaterThan(0)\n          ? <span><span style={{fontSize: '19px'}}>&#8734;</span>%</span>\n          : `${deltaDemand.multipliedBy(100).toFixed(2)}%`\n      ),\n      description: 'Rate of Change in Demand For Pods',\n      balanceDescription: (\n        props.lastDSoil.isEqualTo(0) || deltaSoil.isGreaterThan(0)\n          ? undefined\n          :  `${displayBN(deltaDemand)}% Change in Demand`\n      ),\n      placement: 'bottom'\n    },\n  }\n  if (props.raining) {\n    currentSeasonStats['four'] = {\n      title: 'Seasons of Rain',\n      balance: displayBN(rainingSeasons),\n      description: 'Number of Consecutive Seasons it has been Raining For'\n    }\n  }\n\n  return (\n    <Grid container item xs={12} spacing={3} alignItems='center' justifyContent='center' style={{maxWidth: '1200px'}}>\n      <Grid item md={8} sm={12} xs={12}>\n        <div className='AppBar-shadow' style={pegMaintenanceStyle}>\n          <span style={pegMaintenanceSpanStyle}>\n            Peg Maintenance\n            <QuestionModule description='Peg Maintenance Section' margin='-6px 0 0 2px' />\n          </span>\n          <hr style={lineStyle}\n          />\n          <Stats {...nextSeasonStats} />\n          <Stats {...currentSeasonStats} />\n        </div>\n      </Grid>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { Box, CircularProgress, Typography } from '@material-ui/core'\nimport { FormatTooltip } from '../Common'\n\nexport default function CircularProgressWithLabel(props) {\n  const showBlip = props.value - props.lowvalue < 3 && props.value - props.lowvalue > 0\n  const displayLowNumber = showBlip ? 3 : props.value - props.lowvalue\n  const rotation = (\n    !showBlip\n      ? `rotate(${-90 + 360 * props.lowvalue / 100}deg)`\n      : `rotate(${-90 + 360 * (props.lowvalue - displayLowNumber / 2) / 100}deg)`\n  )\n  const color = props.voting ? 'green' : 'red'\n\n  const arrow = '\\u2192'\n\n  const votingTitle = (\n    props.voting\n      ? (`${props.lowvalue}% ${arrow} ${props.value}%`)\n      : (`${props.value}% ${arrow} ${props.lowvalue}%`)\n  )\n  // const title = (\n  //   props.lowvalue === undefined\n  //     ? `${props.value}%`\n  //     : props.lowvalue !== props.value\n  //       ? votingTitle\n  //       : `${props.value}%`\n  // )\n\n  const title = (\n    props.lowvalue !== undefined && props.lowvalue !== props.value\n      ? votingTitle\n      : `${props.value}%`\n  )\n\n  const circles = []\n  if (props.lowvalue !== undefined) {\n    circles.push(\n      <CircularProgress\n        key='blackground'\n        size={38}\n        style={{position: 'absolute', left: '1.2px', top: '1.2px'}}\n        thickness={0.5}\n        variant='determinate'\n        value={100}\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='change'\n        style={{position: 'absolute', color: color, transform:rotation}}\n        value={displayLowNumber}\n        variant='determinate'\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='majoriry'\n        style={{position: 'absolute', transform: `rotate(87deg)`}}\n        thickness={7}\n        value={7 * 100 / 360}\n        variant='determinate'\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='superMajority'\n        style={{position: 'absolute', transform: `rotate(147deg)`}}\n        thickness={7}\n        value={7 * 100 / 360}\n        variant='determinate'\n      />\n    )\n  }\n\n  return (\n    <FormatTooltip margin='0' title={title}>\n      <Box display='inline-flex' position='relative'>\n          <CircularProgress\n            value={props.lowvalue!==undefined ? props.lowvalue : props.value}\n            variant='determinate'\n          />\n          {circles}\n        <Box\n          alignItems='center'\n          bottom={0}\n          display='flex'\n          justifyContent='center'\n          left={0}\n          position='absolute'\n          right={0}\n          top={0}\n        >\n          <Typography\n            color='textSecondary'\n            component='div'\n            style={{position: 'absolute'}}\n            variant='caption'\n          >\n            {props.lowvalue === undefined ? `${Math.round(props.value)}%` : ''}\n          </Typography>\n        </Box>\n      </Box>\n    </FormatTooltip>\n  )\n}\n\nCircularProgressWithLabel.defaultProps = {\n  voting: false,\n}\n","import React, { Fragment, useState } from 'react'\nimport {\n  AppBar,\n  Collapse,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableHead,\n  TableRow\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\nimport {\n  bipsList,\n  GOVERNANCE_EMERGENCY_PERIOD,\n  GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR,\n  GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR,\n  GOVERNANCE_EXPIRATION\n} from '../../constants'\nimport { percentForStalk } from '../../util'\nimport { QuestionModule } from '../Common'\nimport CircularProgressWithLabel from './CircularProgressWithLabel'\n\nexport default function GovernanceTable(props) {\n  return (\n    <div className='Governance Table' style={props.style}>\n      <BipTable style={{maxWidth: '1000px'}} {...props} />\n    </div>\n  )\n}\n\nconst useStyles = makeStyles({\n  table: {\n    margin: '9px',\n    width: 'auto'\n  },\n  pagination: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  title: {\n    display: 'inline-block',\n    fontFamily: 'Futura-Pt-Book',\n    fontSize: '20px',\n    marginTop: '10px',\n    textAlign: 'center',\n    width: '100%'\n  },\n  cell: {\n    fontFamily: 'Futura-PT'\n  },\n  cellTitle: {\n    fontFamily: 'Futura-PT-Book'\n  },\n  inputModule: {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '25px',\n    color: 'black',\n    marginTop: '18px',\n    maxWidth: '800px',\n    padding: '10px 10px 20px 10px'\n  }\n})\n\nconst BipTable = (props) => {\n  const classes = useStyles()\n\n  const [page, setPage] = useState(0)\n  const rowsPerPage = 5\n  const handleChangePage = (event, newPage) => { setPage(newPage) }\n\n  let titles = ['BIP', 'Title', 'Status', '% Voted']\n  const tableBips = props.bips.reduce((tableBips,bip) => {\n    let voteProportion = bip.roots.dividedBy(props.totalStalk)\n    const bipID = bip.id\n    const tb = {BIP: bipID.toString(), title: bipsList.length > bipID ? bipsList[bipID].title : `BIP-${bipID}`}\n    if (bip.executed) {\n      tb.status = 'Commited'\n    } else if (bip.start.plus(bip.period).plus(GOVERNANCE_EXPIRATION).isLessThanOrEqualTo(props.season)) {\n      tb.status = 'Failed'\n    } else if (bip.start.plus(bip.period).isLessThanOrEqualTo(props.season)) {\n      tb.status = voteProportion.isGreaterThan(0.5) ? 'Commitable' : 'Failed'\n    } else if (bip.timestamp.plus(GOVERNANCE_EMERGENCY_PERIOD).isLessThanOrEqualTo(new Date().getTime() / 1000)\n               && voteProportion.isGreaterThanOrEqualTo(GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR / GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR)) {\n      tb.status = 'Emergency Committable'\n    } else {\n      tb.status = `${bip.period.minus(props.season.minus(bip.start))} Seasons Remaining`\n    }\n    tb.voted = percentForStalk(bip.roots, bip.endTotalRoots.isGreaterThan(0) ? bip.endTotalRoots : props.totalStalk)\n    tableBips.push([tb.BIP, tb.title, tb.status, tb.voted])\n    return tableBips\n  }, []).reverse()\n\n  if (tableBips !== undefined) {\n    return (\n      <AppBar className={classes.inputModule} position='static'>\n        <span className={classes.title}>\n          BIPs\n          <QuestionModule\n            description='Beanstalk Improvement Proposals'\n            margin='-6px 0 0 2px'\n          />\n        </span>\n        <hr style={{\n              backgroundColor: 'primary',\n              color: 'primary',\n              margin: '10px 8px',\n          }}\n        />\n          <TableContainer className={classes.table}>\n            <Table aria-label='simple table'>\n              <TableHead>\n                <TableRow>\n                <TableCell size='small' style={{width: '10px'}} />\n                {titles.map(t => {\n                  return (\n                    <TableCell\n                      key={t}\n                      align='center'\n                      size='small'\n                      style={{fontFamily: 'Futura-PT-Book', fontSize: '16px'}}\n                    >\n                      {t}\n                    </TableCell>\n                  )\n                })}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {tableBips\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map((bip, index) => (\n                    <Row key={index} bip={bip} />\n                  ))\n                }\n              </TableBody>\n            </Table>\n          </TableContainer>\n          {Object.keys(tableBips).length > rowsPerPage\n            ? <TablePagination\n                component='div'\n                count={Object.keys(tableBips).length}\n                className={classes.pagination}\n                onPageChange={handleChangePage}\n                page={page}\n                rowsPerPage={rowsPerPage}\n                rowsPerPageOptions={[]}\n              />\n            : null\n          }\n      </AppBar>\n    )\n  } else return (\n    <></>\n  )\n}\n\n/**\n * The description will be manually added by the bip proposer via merge request when a bip is submitted.\n *\n * To Submit a New BIP:\n * (1) Fill out template HTML from '/public/BIPs/BIP-template.html'\n * (2) Add a new bip path to the bipsList object in '/src/constants/bips.js'\n * (3) Submit a merge request on github: https://github.com/BeanstalkFarms/Beanstalk\n */\n\nfunction summaryBips(open, bip) {\n  if (open) {\n    const bipID = parseInt(bip[0])\n    if (bipsList.length > bipID) {\n      if (Object.keys(bipsList).length > parseInt(bip[0])) {\n        return (\n          <iframe src={bipsList[bipID].path} style={{border:'none'}} title={`BIP-${bipID}`} width='100%' height='420px' />\n        )\n      } else {\n        return (\n          <iframe src={`/BIPs/BIP-default.html`} style={{border:'none'}} title={`BIP-default`} width='100%' height='30px' />\n        )\n      }\n    }\n  }\n}\n\nfunction Row(props: { row: ReturnType<typeof createData> }) {\n  const { bip } = props\n  const [open, setOpen] = React.useState(false)\n\n  return (\n    <Fragment>\n      <TableRow id={`bip-${bip[0]}`}>\n      <TableCell>\n        <IconButton id={`open-bip-${bip[0]}`} aria-label='expand row' onClick={() => setOpen(!open)} size='small'>\n          {open ? <KeyboardArrowUpIcon id={`bip-${bip[0]}-open`} /> : <KeyboardArrowDownIcon />}\n        </IconButton>\n      </TableCell>\n      {Object.values(bip).map((bipValue, bipIndex) => (\n        <TableCell\n          key={bipIndex}\n          align='center'\n          component='th'\n          scope='bip'\n          style={{fontFamily: 'Futura-PT-Book', fontSize: '18px'}}\n        >\n          {bipIndex === 3\n            ? <CircularProgressWithLabel value={bipValue} />\n            : bipValue\n          }\n        </TableCell>\n      ))}\n      </TableRow>\n      <TableRow>\n       <TableCell colSpan={6} style={{fontFamily: 'Futura-Pt-Book',  padding: '0px'}}>\n          <Collapse in={open} timeout='auto' unmountOnExit>\n            {summaryBips(open, bip)}\n          </Collapse>\n       </TableCell>\n      </TableRow>\n    </Fragment>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  AppBar,\n  Button,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { Link } from 'react-scroll'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CheckIcon from '@material-ui/icons/Check'\nimport { percentForStalk, vote, unvote } from '../../util'\nimport { QuestionModule } from '../Common'\nimport CircularProgressWithLabel from './CircularProgressWithLabel'\n\nexport default function Vote(props) {\n  const classes = makeStyles(theme => ({\n    inputModule: {\n      backgroundColor: '#F5FAFF',\n      borderRadius: '25px',\n      color: 'black',\n      marginTop: '18px',\n      maxWidth: '550px',\n      padding: '10px'\n    },\n    formButton: {\n      borderRadius: '15px',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '20px 0 10px',\n      width: '200px'\n    },\n    title: {\n      display: 'inline-block',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: '18px',\n      marginTop: '10px',\n      textAlign: 'center',\n      width: '100%'\n    },\n    cell: {\n      fontFamily: 'Futura-PT'\n    },\n    cellTitle: {\n      fontFamily: 'Futura-PT-Book'\n    },\n    table: {\n      backgroundColor: '#F5FAFF',\n      margin: '8px',\n      width: 'auto'\n    },\n    futuraPT: {\n      fontFamily: 'Futura-Pt'\n    },\n    rowSelected: {\n      backgroundColor: '#DAF2FF'\n    }\n  }))()\n\n  const [selected, setSelected] = useState(0)\n\n  let buttonHandler = () => {\n    let bip = props.bips[selected]\n    if (props.votedBips[bip]) {\n      unvote(bip.toString(), () => {})\n    } else {\n      vote(bip.toString(), () => {})\n    }\n  }\n\n  const displayBips = props.bips.reduce((dp, bip) => {\n    const row = []\n    row.push(bip)\n    row.push(`${props.seasonBips[bip]}`)\n    const newStalk = (\n      props.votedBips[bip]\n        ? props.stalkBips[bip].minus(props.userStalk)\n        : props.stalkBips[bip].plus(props.userStalk)\n      )\n    const percentForNewStalk = percentForStalk(newStalk,props.totalStalk)\n    const percentForPrevStalk = percentForStalk(props.stalkBips[bip],props.totalStalk)\n    row.push(props.votedBips[bip])\n    row.push(\n      <div>\n        <CircularProgressWithLabel\n          lowvalue={Math.min(percentForNewStalk, percentForPrevStalk)}\n          value={Math.max(percentForNewStalk, percentForPrevStalk)}\n          voting={!props.votedBips[bip]}\n        />\n      </div>\n    )\n    dp.push(row)\n    return dp\n  }, [])\n\n  return (\n    <AppBar className={classes.inputModule} position='static'>\n      <form autoComplete='off' noValidate>\n        <span className={classes.title}>\n          Active BIPs\n          <QuestionModule\n            description='Active Beanstalk Improvement Proposals Currently Being Voted On'\n            margin='-6px 0 0 2px'\n          />\n        </span>\n        <hr style={{\n              backgroundColor: 'primary',\n              color: 'primary',\n              margin: '10px 8px',\n          }}\n        />\n      <TableContainer className={classes.table}>\n        <Table aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n            <TableCell className={classes.cellTitle} size='small' align='center'></TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>BIP</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Seasons Remaining</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Voted</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Vote %</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {displayBips.map((bip, index) => (\n              <TableRow key={index} className={selected === index ? classes.rowSelected : null} onClick={() => setSelected(index)} style={{cursor: 'pointer'}}>\n                <TableCell className={classes.cell} align='center' size='small'>\n                  <Link duration={450} isDynamic={true} offset={-210} smooth={true} spy={true} to={`bip-${bip[0]}`}>\n                    <IconButton onClick={() => { if (!document.getElementById(`bip-${bip[0]}-open`)) document.getElementById(`open-bip-${bip[0]}`).click() }} style={{padding: '7px', width: '30px', height: '30px', color: 'rgba(0 0 0 / 25%)'}} >\n                      <InfoIcon fontSize='small' />\n                    </IconButton>\n                  </Link>\n                </TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[0]}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[1]}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[2] ? <CheckIcon/> : 'No'}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[3]}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Button\n        className={classes.formButton}\n        color='primary'\n        disabled={props.userStalk.isLessThanOrEqualTo(0)}\n        onClick={buttonHandler}\n        variant='contained'\n      >\n        {props.userStalk.isGreaterThan(0)\n          ? `${props.votedBips[props.bips[selected]] ? 'Unvote' : 'Vote'}: BIP ${props.bips[selected]}`\n          : 'No Stalk'\n        }\n      </Button>\n    </form>\n  </AppBar>\n  )\n}\n","import { ContentSection, Grid } from '../Common'\nimport GovernanceTable from './GovernanceTable'\nimport Vote from './Vote'\n\nexport default function Governance(props) {\n  if (props.bips === undefined || props.bips.length === 0)\n    return null\n\n  const activeBipStyle = {\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '16px',\n    marginTop: '10px',\n    width: '100%',\n  }\n\n  const activeBips = props.bips.reduce((aBips,bip) => {\n    if (bip.active) aBips.push(bip.id.toString())\n    return aBips\n  }, [])\n  const votedBips = activeBips.reduce((vBips, bip) => {\n    vBips[bip] = props.votedBips.has(bip)\n    return vBips\n  }, {})\n  const stalkBips = activeBips.reduce((sBips, bip) => {\n    sBips[bip] = props.bips[bip].roots\n    return sBips\n  }, {})\n  const seasonBips = activeBips.reduce((sBips, bip) => {\n    sBips[bip] = props.bips[bip].period.minus(props.season.minus(props.bips[bip].start))\n    return sBips\n  }, {})\n\n  const voteField = (\n    activeBips.length > 0\n      ? <Grid item md={6} xs={12} style={{maxWidth: '550px', margin: 'auto'}}>\n          <Vote\n            bips={activeBips}\n            seasonBips={seasonBips}\n            stalkBips={stalkBips}\n            totalStalk={props.totalStalk}\n            userStalk={props.userStalk}\n            votedBips={votedBips}\n          />\n        </Grid>\n      : <div style={activeBipStyle}>No Active BIPs</div>\n  )\n\n  return (\n    <ContentSection id='governance' title='Governance'>\n      <Grid container item sm={12} xs={12} spacing={6} alignItems='flex-start' justifyContent='center' style={{minHeight:'600px'}}>\n        <Grid item xs={12}>\n          {voteField}\n        </Grid>\n        <Grid item xs={12} style={{maxWidth: '800px'}}>\n          <GovernanceTable {...props} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import { HeaderLabelWithTimer } from '../Common'\n\nexport default function SeasonReward(props) {\n  function display(time) {\n    const title = 'Season Reward'\n    const description = 'Beans Rewarded for Calling the Sunrise Function Right Now'\n    const beans = (100 * (1.01 ** (Math.min(-time, 300)))).toFixed()\n    return [title, beans, description]\n  }\n\n  return (\n    <HeaderLabelWithTimer display={display} time={props.time} />\n  )\n}\n","import { HeaderLabelWithTimer } from '../Common'\n\nexport default function SeasonTimer(props) {\n  function display(time) {\n    let timeDifference\n    let title\n    let description\n    if (time <= 0) {\n      timeDifference = -time\n      title = 'Sunrise Overdue By'\n      description = 'Time Sunrise Call is Overdue'\n    }\n    else {\n      timeDifference = time\n      title = 'Next Sunrise'\n      description = 'Time Until the Next Sunrise Can Be Called'\n    }\n\n    const timeInHours = Math.floor(timeDifference / 3600)\n    const timeInMinutes = Math.floor((timeDifference - (timeInHours * 3600)) / 60)\n    const timeInSeconds = timeDifference - (timeInHours * 3600) - (timeInMinutes * 60)\n    const timeDisplay = (timeInHours > 0 ? String(timeInHours) + ' hr ' : '') +\n                        (timeInMinutes > 0 && timeInHours === 0 ? String(timeInMinutes) + ' min ' : '') +\n                        (timeInSeconds > 0 && (timeInMinutes === 0 && timeInHours === 0) ? timeInSeconds.toFixed(0) + ' sec' : '')\n    return [title, timeDisplay, description]\n  }\n\n  return (\n    <HeaderLabelWithTimer display={display} time={props.time} />\n  )\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport sunriseIcon from '../../img/black-sun.svg'\nimport { sunrise } from '../../util'\nimport {\n  ContentSection,\n  Grid,\n  HeaderLabel,\n  SingleButton\n} from '../Common'\nimport PegMaintenance from './PegMaintenance'\nimport Governance from '../Governance'\nimport SeasonReward from './SeasonReward'\nimport SeasonTimer from './SeasonTimer'\n\nexport default function Seasons(props) {\n  const nextSeasonTime = props.start.plus(props.season.plus(1).multipliedBy(props.period))\n  const timeUntilSunrise = (deadline) => {\n    return parseInt(deadline) - (Date.now() / 1e3)\n  }\n\n  const timer = useRef()\n  const [time, setTime] = useState(timeUntilSunrise(nextSeasonTime))\n\n  useEffect(() => {\n    timer.current = window.setInterval(() => {\n      setTime(timeUntilSunrise(nextSeasonTime))\n    }, 1000)\n    return () => {\n      window.clearInterval(timer.current)\n    }\n  }, [time, nextSeasonTime])\n\n  const advanceButton = (\n    time <= 0\n      ? <SingleButton\n          description='Advance the Season by calling the Sunrise function'\n          handleClick={() => {sunrise()}}\n          icon={sunriseIcon}\n          margin='-13px 7px 0 0'\n          size='small'\n          title='Sunrise'\n        />\n      : null\n  )\n\n  const sunriseStats = (\n    time <= 0\n      ? <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <SeasonReward time={time} />\n        </Grid>\n      : null\n  )\n\n  const governanceSection = (\n    <Governance\n      key='governance'\n      bips={props.bips}\n      season={props.season}\n      totalStalk={props.totalRoots}\n      userStalk={props.userStalk}\n      votedBips={props.votedBips}\n    />\n  )\n\n  return (\n    <>\n    <ContentSection id='seasons' title='Seasons'>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <HeaderLabel\n            description='Current Season'\n            title='Current Season'\n            value={props.season.isNegative() ? '---' : String(props.season)}\n          />\n        </Grid>\n        <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <SeasonTimer time={time} />\n        </Grid>\n        {sunriseStats}\n      </Grid>\n\n      <Grid container item xs={12} justifyContent='center'>\n        <Grid item>{advanceButton}</Grid>\n      </Grid>\n\n      <Grid container item sm={12} xs={12} spacing={6} justifyContent='center'>\n        <PegMaintenance {...props} />\n      </Grid>\n\n      {props.hasActiveBIP ? null : governanceSection}\n    </ContentSection>\n    {props.hasActiveBIP ? governanceSection : null}\n    </>\n  )\n}\n","import React, { forwardRef, useImperativeHandle } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { BEAN } from '../../constants'\nimport { TrimBN, claimBeans } from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport const BeanClaimSubModule = forwardRef((props, ref) => {\n  props.setIsFormDisabled(props.maxFromBeansVal.isLessThanOrEqualTo(0))\n\n  /* Input Fields */\n\n  const fromBeansField = (\n    <TokenInputField\n      balance={props.maxFromBeansVal}\n      token={ClaimableAsset.Bean}\n      value={TrimBN(props.maxFromBeansVal, BEAN.decimals)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBeanField = (\n    <TokenOutputField\n      mint\n      token={CryptoAsset.Bean}\n      value={TrimBN(props.maxFromBeansVal, BEAN.decimals)}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  function transactionDetails() {\n    if (props.maxFromBeansVal.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-block', width: '100%'}}>{toBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (props.maxFromBeansVal.isLessThanOrEqualTo(0)) return\n\n      claimBeans(Object.keys(props.crates),() => { })\n    }\n  }))\n\n  return (\n    <>\n    {fromBeansField}\n    {transactionDetails()}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  ETH,\n  SEEDS,\n  SLIPPAGE_THRESHOLD,\n  STALK\n} from '../../constants'\nimport {\n  buyAndDepositBeans,\n  depositBeans,\n  getToAmount,\n  MaxBN,\n  SwapMode,\n  toBaseUnitBN,\n  toStringBaseUnitBN,\n  TrimBN\n} from '../../util'\nimport {\n  CryptoAsset,\n  EthInputField,\n  FrontrunText,\n  InputFieldPlus,\n  SettingsFormModule,\n  SiloAsset,\n  TokenOutputField\n} from '../Common'\n\nexport const BeanDepositSubModule = forwardRef((props, ref) => {\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(-1))\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(-1))\n  const [buyBeanValue, setBuyBeanValue] = useState(new BigNumber(0))\n  const [toStalkValue, setToStalkValue] = useState(new BigNumber(0))\n  const [toSeedsValue, setToSeedsValue] = useState(new BigNumber(0))\n\n  function fromValueUpdated(newFromNumber, newFromEthNumber) {\n    const buyBeans = getToAmount(newFromEthNumber, props.ethReserve, props.beanReserve)\n    setBuyBeanValue(TrimBN(buyBeans, BEAN.decimals))\n    setFromEthValue(TrimBN(newFromEthNumber, ETH.decimals))\n    setFromBeanValue(TrimBN(newFromNumber, BEAN.decimals))\n    const depositedBeans = MaxBN(buyBeans, new BigNumber(0)).plus(MaxBN(newFromNumber, new BigNumber(0)))\n    const newToStalkValue = TrimBN(depositedBeans.multipliedBy(props.beanToStalk), STALK.decimals)\n    setToStalkValue(newToStalkValue)\n    setToSeedsValue(TrimBN(depositedBeans.multipliedBy(BEAN_TO_SEEDS), SEEDS.decimals))\n    props.setIsFormDisabled(newToStalkValue.isLessThanOrEqualTo(0))\n  }\n\n  /* Input Fields */\n\n  const beanField = (\n    <InputFieldPlus\n      key={0}\n      balance={props.beanBalance}\n      claim={props.settings.claim}\n      claimableBalance={props.beanClaimableBalance}\n      handleChange={(v) => { fromValueUpdated(v, fromEthValue) }}\n      token={CryptoAsset.Bean}\n      value={fromBeanValue}\n      visible={props.settings.mode !== SwapMode.Ethereum}\n    />\n  )\n  const ethField = (\n    <EthInputField\n      key={1}\n      balance={props.ethBalance}\n      buyBeans={buyBeanValue}\n      claim={props.settings.claim}\n      claimableBalance={props.claimableEthBalance}\n      handleChange={(v) => fromValueUpdated(fromBeanValue, v)}\n      mode={props.settings.mode}\n      sellEth={fromEthValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromEthValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toStalkField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Stalk}\n      value={toStalkValue}\n    />\n  )\n  const toSeedsField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Seed}\n      value={toSeedsValue}\n    />\n  )\n  const toSiloBeanField = (\n    <TokenOutputField\n      mint\n      token={SiloAsset.Bean}\n      value={MaxBN(buyBeanValue, new BigNumber(0)).plus(MaxBN(fromBeanValue, new BigNumber(0)))}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const frontrunTextField = (\n    props.settings.mode !== SwapMode.Bean && props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      setSettings={props.setSettings}\n      settings={props.settings}\n      handleMode={() => fromValueUpdated(new BigNumber(-1), new BigNumber(-1))}\n      hasClaimable={props.hasClaimable}\n      hasSlippage={true}\n    />\n  )\n  function transactionDetails() {\n    if (toStalkValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toSiloBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (toStalkValue.isZero() || toStalkValue.isNegative()) return\n\n      const claimable = props.settings.claim ? props.claimable : null\n      if (fromEthValue.isGreaterThan(0)) {\n        const beans = MaxBN(toBaseUnitBN(fromBeanValue,BEAN.decimals), new BigNumber(0)).toString()\n        const eth = toStringBaseUnitBN(fromEthValue,ETH.decimals)\n        const buyBeans = toStringBaseUnitBN(buyBeanValue.multipliedBy(props.settings.slippage),BEAN.decimals)\n        buyAndDepositBeans(beans, buyBeans, eth, claimable, () => {\n          fromValueUpdated(new BigNumber(-1), new BigNumber(-1))\n        })\n      } else {\n        depositBeans(toStringBaseUnitBN(fromBeanValue, BEAN.decimals), claimable, () => {\n          fromValueUpdated(new BigNumber(-1), new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {beanField}\n    {ethField}\n    {transactionDetails()}\n    {frontrunTextField}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  SEEDS,\n  STALK\n} from '../../constants'\nimport {\n  claimAndWithdrawBeans,\n  MinBN,\n  MinBNs,\n  toStringBaseUnitBN,\n  TrimBN,\n  withdrawBeans\n} from '../../util'\nimport {\n  SettingsFormModule,\n  SiloAsset,\n  TokenInputField,\n  TokenOutputField,\n  TransitAsset\n} from '../Common'\n\nexport const BeanWithdrawSubModule = forwardRef((props, ref) => {\n  const [fromStalkValue, setFromStalkValue] = useState(new BigNumber(0))\n  const [fromSeedsValue, setFromSeedsValue] = useState(new BigNumber(0))\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(-1))\n  const [withdrawParams, setWithdrawParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  /*function maxBeans(stalk: BugNumber) {\n    var stalkRemoved = new BigNumber(0)\n    var beans = new BigNumber(0)\n    Object.keys(props.crates).sort((a,b) => parseInt(a) - parseInt(b)).forEach(key => {\n      let stalkPerBean = (new BigNumber(10000)).plus(props.season.minus(key)).multipliedBy(5)\n      const stalkLeft = stalk.minus(stalkRemoved)\n      if (stalkPerBean.multipliedBy(props.crates[key]).isGreaterThanOrEqualTo(stalkLeft)) {\n        stalkRemoved = stalkRemoved.plus(stalkPerBean.multipliedBy(props.crates[key]))\n        beans = beans.plus(props.crates[key])\n        if (stalkRemoved.isEqualTo(stalk)) return\n      } else {\n        beans = beans.plus(TrimBN(stalkLeft.dividedBy(stalkPerBean),BEAN.decimals))\n        return\n      }\n    })\n    return beans\n  }\n  */\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromBeanVal)\n    const newFromBeanValue = TrimBN(fromNumber, BEAN.decimals)\n    setFromBeanValue(newFromBeanValue)\n    setFromStalkValue(TrimBN(getStalkRemoved(fromNumber), STALK.decimals))\n    setFromSeedsValue(TrimBN(fromNumber.multipliedBy(BEAN_TO_SEEDS), SEEDS.decimals))\n    props.setIsFormDisabled(newFromBeanValue.isLessThanOrEqualTo(0))\n  }\n\n   const getStalkRemoved = (beans) => {\n     var beansRemoved = new BigNumber(0)\n     var stalkRemoved = new BigNumber(0)\n     var crates = []\n     var amounts = []\n     Object.keys(props.crates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n       const crateBeansRemoved = (\n         beansRemoved.plus(props.crates[key]).isLessThanOrEqualTo(beans)\n          ? props.crates[key]\n          : beans.minus(beansRemoved)\n        )\n       beansRemoved = beansRemoved.plus(crateBeansRemoved)\n       stalkRemoved = stalkRemoved.plus(crateBeansRemoved)\n       stalkRemoved = stalkRemoved.plus(crateBeansRemoved.multipliedBy(props.season.minus(key)).multipliedBy(0.0002))\n       crates.push(key)\n       amounts.push(toStringBaseUnitBN(crateBeansRemoved, BEAN.decimals))\n       return beansRemoved.isEqualTo(beans)\n     })\n     setWithdrawParams({crates,amounts})\n     return stalkRemoved\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n  const maxHandler = () => {\n    const minMaxFromVal = MinBNs([\n      props.maxFromStalkVal.multipliedBy(props.stalkToBean),\n      props.maxFromSeedsVal.multipliedBy(props.seedsToBean),\n      props.maxFromBeanVal\n    ])\n    fromValueUpdated(minMaxFromVal)\n  }\n\n  /* Input Fields */\n\n  const fromBeanField = (\n    <TokenInputField\n      balance={props.maxFromBeanVal}\n      claim={props.settings.claim}\n      claimableBalance={props.beanClaimableBalance}\n      handleChange={handleFromChange}\n      maxHandler={maxHandler}\n      setValue={setFromBeanValue}\n      token={SiloAsset.Bean}\n      value={fromBeanValue}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBurnStalkField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Stalk}\n      value={fromStalkValue}\n    />\n  )\n  const toBurnSeedsField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Seed}\n      value={fromSeedsValue}\n    />\n  )\n  const toTransitBeanField = (\n    <TokenOutputField\n      mint\n      token={TransitAsset.Bean}\n      value={fromBeanValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const unvoteTextField = (\n    props.locked\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{'Unvote Active BIPs to Withdraw'}</div>\n      : null\n  )\n  const showSettings = (\n    props.hasClaimable\n      ? <SettingsFormModule\n          hasClaimable={props.hasClaimable}\n          showUnitModule={false}\n          setSettings={props.setSettings}\n          settings={props.settings}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (fromBeanValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toBurnStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toBurnSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toTransitBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromBeanValue.isLessThanOrEqualTo(0)\n          || withdrawParams.crates.length === 0\n          || withdrawParams.amounts.length === 0) return\n\n      if (props.settings.claim) {\n        claimAndWithdrawBeans(withdrawParams.crates, withdrawParams.amounts, props.claimable, () => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      } else {\n        withdrawBeans(withdrawParams.crates, withdrawParams.amounts,() => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromBeanField}\n    {unvoteTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { useState, useRef } from 'react'\nimport { BASE_SLIPPAGE, BEAN_TO_STALK } from '../../constants'\nimport { approveBeanstalkBean, SwapMode } from '../../util'\nimport {\n  BaseModule,\n  ListTable,\n  SiloAsset,\n  TransitAsset\n} from '../Common'\nimport { BeanClaimSubModule } from './BeanClaimSubModule'\nimport { BeanDepositSubModule } from './BeanDepositSubModule'\nimport { BeanWithdrawSubModule } from './BeanWithdrawSubModule'\n\nexport default function SiloBeanModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [settings, setSettings] = useState({\n    claim: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE)\n  })\n  const [page, setPage] = React.useState(0)\n\n  let sectionTitles = ['Deposit', 'Withdraw']\n\n  const handleTabChange = (event, newSection) => {\n    if (newSection !== section) {\n      setSection(newSection)\n      setIsFormDisabled(true)\n    }\n  }\n\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => {\n    setSectionInfo(newSectionInfo)\n    setPage(newPageZero)\n  }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  if (settings.mode === null) {\n    if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n  }\n\n  const depositRef = useRef<any>()\n  const withdrawRef = useRef<any>()\n  const claimRef = useRef<any>()\n  function handleForm() {\n    switch (section) {\n      case 0: depositRef.current.handleForm(); break\n      case 1: withdrawRef.current.handleForm(); break\n      case 2: claimRef.current.handleForm(); break\n      default: break\n    }\n  }\n  const [isFormDisabled, setIsFormDisabled] = useState(true)\n  let sections = [\n    <BeanDepositSubModule\n      key={0}\n      beanBalance={props.beanBalance}\n      beanClaimableBalance={props.beanClaimableBalance}\n      beanReserve={props.beanReserve}\n      beanToStalk={BEAN_TO_STALK}\n      claimable={props.claimable}\n      claimableEthBalance={props.claimableEthBalance}\n      ethBalance={props.ethBalance}\n      ethReserve={props.ethReserve}\n      hasClaimable={props.hasClaimable}\n      ref={depositRef}\n      setIsFormDisabled={setIsFormDisabled}\n      setSection={setSection}\n      setSettings={setSettings}\n      settings={settings}\n      updateExpectedPrice={props.updateExpectedPrice}\n    />,\n    <BeanWithdrawSubModule\n      key={1}\n      claimable={props.claimable}\n      crates={props.beanDeposits}\n      hasClaimable={props.hasClaimable}\n      locked={section === 1 && props.locked}\n      maxFromBeanVal={props.beanSiloBalance}\n      maxFromSeedsVal={props.seedBalance}\n      maxFromStalkVal={props.stalkBalance}\n      ref={withdrawRef}\n      season={props.season}\n      setIsFormDisabled={setIsFormDisabled}\n      setSection={setSection}\n      setSettings={setSettings}\n      settings={settings}\n    />\n  ]\n  if (props.beanReceivableBalance.isGreaterThan(0)) {\n    sections.push(\n      <BeanClaimSubModule\n        key={2}\n        crates={props.beanReceivableCrates}\n        maxFromBeansVal={props.beanReceivableBalance}\n        ref={claimRef}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n      />\n    )\n    sectionTitles.push('Claim')\n  }\n  if (section > sectionTitles.length - 1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.beanDeposits !== undefined && Object.keys(props.beanDeposits).length > 0) {\n    sectionsInfo.push(\n      <ListTable\n        asset={SiloAsset.Bean}\n        description='Bean Deposits Will Appear Here'\n        claimableBalance={props.farmableBeanBalance}\n        claimableStalk={props.farmableStalkBalance.plus(props.farmableBeanBalance)}\n        crates={props.rawBeanDeposits}\n        handleChange={handlePageChange}\n        indexTitle='Season'\n        page={page}\n        season={props.season}\n        title='Deposits'\n      />\n    )\n    sectionTitlesInfo.push('Deposits')\n  }\n  if ((props.beanWithdrawals !== undefined\n      && Object.keys(props.beanWithdrawals).length > 0)\n      ||  props.beanReceivableBalance.isGreaterThan(0)) {\n    sectionsInfo.push(\n      <ListTable\n        asset={TransitAsset.Bean}\n        crates={props.beanWithdrawals}\n        claimableBalance={props.beanReceivableBalance}\n        claimableCrates={props.beanReceivableCrates}\n        description='Bean Withdrwals Will Appear Here'\n        handleChange={handlePageChange}\n        index={props.season}\n        indexTitle='Seasons to Arrival'\n        page={page}\n        title='Withdrawals'\n      />\n    )\n    sectionTitlesInfo.push('Withdrawals')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : <></>\n  )\n\n  const allowance = (\n    settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum\n      ? props.beanstalkBeanAllowance\n      : new BigNumber(1)\n  )\n\n  return (\n    <>\n    <BaseModule\n      allowance={allowance}\n      handleApprove={approveBeanstalkBean}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={isFormDisabled}\n      locked={section === 1 && props.locked}\n      lockedSeasons={props.lockedSeasons}\n      mode={settings.mode}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={props.setBeanstalkBeanAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { BEAN, UNI_V2_ETH_BEAN_LP } from '../../constants'\nimport {\n  claimLP,\n  removeAndClaimLP,\n  TrimBN\n} from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  SettingsFormModule,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport const LPClaimSubModule = forwardRef((props, ref) => {\n  const [settings, setSettings] = useState({removeLP: false})\n  props.setIsFormDisabled(props.maxFromLPVal.isLessThanOrEqualTo(0))\n\n  /* Input Fields */\n\n  const fromLPField = (\n    <TokenInputField\n      balance={props.maxFromLPVal}\n      isLP={true}\n      poolForLPRatio={props.poolForLPRatio}\n      token={ClaimableAsset.LP}\n      value={TrimBN(props.maxFromLPVal, UNI_V2_ETH_BEAN_LP.decimals)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toLPField = (\n    <TokenOutputField\n      mint\n      token={CryptoAsset.LP}\n      value={props.maxFromLPVal}\n    />\n  )\n  const toLPBeanField = (\n    <TokenOutputField\n      decimals={BEAN.decimals}\n      mint\n      token={CryptoAsset.Bean}\n      value={props.poolForLPRatio(props.maxFromLPVal)[0]}\n    />\n  )\n  const toLPEthField = (\n    <TokenOutputField\n      decimals={9}\n      mint\n      token={CryptoAsset.Ethereum}\n      value={props.poolForLPRatio(props.maxFromLPVal)[1]}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const showSettings = (\n    <SettingsFormModule\n      hasRemoveLP={true}\n      margin='12px 4px -56px 0'\n      setSettings={setSettings}\n      settings={settings}\n      showUnitModule={false}\n    />\n  )\n  function transactionDetails() {\n    if (settings.removeLP) {\n      return (\n        <>\n        <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n        <div style={{display: 'inline-flex'}}>\n          <div style={{marginRight: '5px'}}>{toLPBeanField}</div>\n          <div style={{marginLeft: '5px'}}>{toLPEthField}</div>\n        </div>\n        </>\n      )\n    }\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-block', width: '100%'}}>{toLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (props.maxFromLPVal.isLessThanOrEqualTo(0)) return\n\n      if (settings.removeLP) {\n        removeAndClaimLP(Object.keys(props.crates),'0','0',() => {})\n      } else {\n        claimLP(Object.keys(props.crates), () => {})\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport { unstable_batchedUpdates } from 'react-dom'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  BEAN_TO_STALK,\n  ETH,\n  LPBEANS_TO_SEEDS,\n  MIN_BALANCE,\n  SEEDS,\n  SLIPPAGE_THRESHOLD,\n  STALK,\n  UNI_V2_ETH_BEAN_LP\n} from '../../constants'\nimport {\n  addAndDepositLP,\n  convertAddAndDepositLP,\n  depositLP,\n  getBuyAndAddLPAmount,\n  getFromAmount,\n  lpForPool,\n  MaxBN,\n  MinBN,\n  SwapMode,\n  tokenForLP,\n  toStringBaseUnitBN,\n  toTokenUnitsBN,\n  TrimBN\n} from '../../util'\nimport {\n  CryptoAsset,\n  EthInputField,\n  FrontrunText,\n  InputFieldPlus,\n  SettingsFormModule,\n  SiloAsset,\n  TokenOutputField\n} from '../Common'\n\nexport const LPDepositSubModule = forwardRef((props, ref) => {\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(0))\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(0))\n  const [fromLPValue, setFromLPValue] = useState(new BigNumber(0))\n  const [toSellBeansValue, setToSellBeansValue] = useState(new BigNumber(0))\n  const [toBuyBeansValue, setToBuyBeansValue] = useState(new BigNumber(0))\n  const [toSellEthValue, setToSellEthValue] = useState(new BigNumber(0))\n  const [toBuyEthValue, setToBuyEthValue] = useState(new BigNumber(0))\n  const [toSiloLPValue, setToSiloLPValue] = useState(new BigNumber(0))\n  const [toStalkValue, setToStalkValue] = useState(new BigNumber(0))\n  const [toSeedsValue, setToSeedsValue] = useState(new BigNumber(0))\n  const [beanConvertParams, setBeanConvertParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  function fromValueUpdated(newFromNumber, newFromEthNumber, newFromLPNumber) {\n    if (newFromNumber.isLessThanOrEqualTo(0) && newFromEthNumber.isLessThanOrEqualTo(0) && newFromLPNumber.isLessThan(0)) {\n      unstable_batchedUpdates(() => {\n        setToBuyBeansValue(new BigNumber(0))\n        setToSellEthValue(new BigNumber(0))\n        setFromEthValue(new BigNumber(-1))\n        setFromBeanValue(new BigNumber(-1))\n        setFromLPValue(new BigNumber(-1))\n        setToBuyEthValue(new BigNumber(0))\n        setToSellBeansValue(new BigNumber(0))\n        setToSiloLPValue(new BigNumber(0))\n        setToStalkValue(new BigNumber(0))\n        setToSeedsValue(new BigNumber(0))\n      })\n      props.setIsFormDisabled(true)\n      return\n    }\n    let fromNumber = new BigNumber(0)\n    let fromEtherNumber = new BigNumber(0)\n    let fromLPNumber = MaxBN(newFromLPNumber, new BigNumber(0))\n    let buyNumber = new BigNumber(0)\n    let stalkRemoved = new BigNumber(0)\n    let sellNumber = new BigNumber(0)\n    let fromConvertBeans = new BigNumber(0)\n    let newBeanReserve = props.beanReserve\n    let newEthReserve = props.ethReserve\n    if (props.settings.mode === SwapMode.BeanEthereum || props.settings.mode === SwapMode.BeanEthereumSwap) {\n      const newBeanFromEthNumber = (\n        newFromEthNumber.isGreaterThan(0)\n          ? newFromEthNumber.multipliedBy(props.ethToBean).plus(0.000001)\n          : new BigNumber(0)\n      )\n      fromNumber = MinBN(newFromNumber, newBeanFromEthNumber)\n      if (props.settings.convert) {\n          [stalkRemoved, fromConvertBeans] = handleConvertCrates(fromNumber)\n      }\n      fromEtherNumber = fromNumber.multipliedBy(props.beanToEth)\n      newFromEthNumber = newFromEthNumber.minus(fromEtherNumber)\n      if (props.settings.mode === SwapMode.BeanEthereum) {\n        setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n        setFromEthValue(TrimBN(fromEtherNumber, ETH.decimals))\n      }\n    } if (props.settings.mode === SwapMode.Ethereum || (props.settings.mode === SwapMode.BeanEthereumSwap && fromNumber.isEqualTo(newFromNumber))) {\n        buyNumber = getBuyAndAddLPAmount(newFromEthNumber.minus(fromEtherNumber), props.ethReserve, props.beanReserve)\n        sellNumber = getFromAmount(buyNumber, props.ethReserve, props.beanReserve, ETH.decimals)\n        fromEtherNumber = newFromEthNumber\n        setToBuyBeansValue(buyNumber)\n        setToSellEthValue(sellNumber)\n        setFromEthValue(TrimBN(fromEtherNumber, ETH.decimals))\n        setFromBeanValue(fromNumber)\n        fromEtherNumber = newFromEthNumber.minus(sellNumber)\n        fromNumber = fromNumber.plus(buyNumber)\n        newEthReserve = newEthReserve.plus(sellNumber)\n        newBeanReserve = newBeanReserve.minus(buyNumber)\n    } else if (props.settings.mode === SwapMode.Bean || (props.settings.mode === SwapMode.BeanEthereumSwap && fromNumber.isLessThan(newFromNumber))) {\n        buyNumber = getBuyAndAddLPAmount(newFromNumber.minus(fromNumber), props.beanReserve, props.ethReserve)\n        sellNumber = getFromAmount(buyNumber, props.beanReserve, props.ethReserve)\n        fromNumber = newFromNumber\n        setToBuyEthValue(buyNumber)\n        setToSellBeansValue(sellNumber)\n        setFromEthValue(fromEtherNumber)\n        setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n        fromNumber = fromNumber.minus(sellNumber)\n        fromEtherNumber = fromEtherNumber.plus(buyNumber)\n        newBeanReserve = newBeanReserve.plus(sellNumber)\n        newEthReserve = newEthReserve.minus(buyNumber)\n    }\n    setFromLPValue(fromLPNumber)\n    const lpToDeposit = fromLPNumber.plus(lpForPool(fromNumber, newBeanReserve, fromEtherNumber, newEthReserve, props.totalLP))\n    fromNumber = fromNumber.plus(tokenForLP(fromLPNumber, newBeanReserve, props.totalLP))\n    setToSiloLPValue(lpToDeposit,UNI_V2_ETH_BEAN_LP.decimals)\n    setToStalkValue(TrimBN(fromNumber.multipliedBy(props.beanToStalk).minus(fromConvertBeans.multipliedBy(BEAN_TO_STALK)), STALK.decimals))\n    setToSeedsValue(TrimBN(fromNumber.multipliedBy(2*LPBEANS_TO_SEEDS).minus(fromConvertBeans.multipliedBy(BEAN_TO_SEEDS)), SEEDS.decimals))\n    props.setIsFormDisabled(fromNumber.isLessThanOrEqualTo(0) && fromEtherNumber.isLessThanOrEqualTo(0) && fromLPNumber.isLessThanOrEqualTo(0))\n  }\n\n  const handleConvertCrates = (beans) => {\n    var beansRemoved = new BigNumber(0)\n    var stalkRemoved = new BigNumber(0)\n    var crates = []\n    var amounts = []\n    Object.keys(props.beanCrates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n      const crateBeansRemoved = beansRemoved.plus(props.beanCrates[key]).isLessThanOrEqualTo(beans) ? props.beanCrates[key] : beans.minus(beansRemoved)\n      beansRemoved = beansRemoved.plus(crateBeansRemoved)\n      stalkRemoved = stalkRemoved.plus(crateBeansRemoved.multipliedBy(props.season.minus(key)).multipliedBy(BEAN_TO_SEEDS))\n      crates.push(key)\n      amounts.push(toStringBaseUnitBN(crateBeansRemoved, BEAN.decimals))\n      return beansRemoved.isEqualTo(beans)\n    })\n    setBeanConvertParams({crates,amounts})\n    return [toTokenUnitsBN(stalkRemoved,4), beansRemoved]\n  }\n\n  const convertibleBeans = props.settings.convert && props.settings.mode === SwapMode.BeanEthereum ? props.maxFromBeanSiloVal : 0\n  const claimableBeans = props.settings.claim ? props.maxFromClaimableVal : 0\n  const maxBeans = props.beanBalance.plus(convertibleBeans).plus(claimableBeans)\n\n  /* Input Fields */\n\n  const fromBeanField = (\n    <InputFieldPlus\n      balance={props.beanBalance.plus(convertibleBeans)}\n      buyEth={toBuyEthValue}\n      claim={props.settings.claim}\n      claimableBalance={props.maxFromClaimableVal}\n      handleChange={(v) => fromValueUpdated(v, (props.ethBalance.isGreaterThan(MIN_BALANCE) ? props.ethBalance.minus(MIN_BALANCE) : new BigNumber(0)), fromLPValue)}\n      sellToken={toSellBeansValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromBeanValue, BEAN.decimals)}\n      visible={props.settings.mode < 2}\n    />\n  )\n  const fromLPField = (\n    <InputFieldPlus\n      balance={props.lpBalance}\n      claim={props.settings.claim}\n      claimableBalance={new BigNumber(0)}\n      handleChange={(v) => fromValueUpdated(fromBeanValue, fromEthValue, v)}\n      isLP={true}\n      poolForLPRatio={props.poolForLPRatio}\n      token={CryptoAsset.LP}\n      value={TrimBN(fromLPValue, UNI_V2_ETH_BEAN_LP.decimals)}\n      visible={props.settings.useLP || props.settings.mode === SwapMode.LP}\n    />\n  )\n  const fromEthField = (\n    <EthInputField\n      balance={props.ethBalance}\n      buyBeans={toBuyBeansValue}\n      claim={props.settings.claim}\n      claimableBalance={props.claimableEthBalance}\n      handleChange={(v) => fromValueUpdated(maxBeans, v, fromLPValue)}\n      mode={props.settings.mode}\n      sellEth={toSellEthValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromEthValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toStalkField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Stalk}\n      value={toStalkValue}\n    />\n  )\n  const toSeedsField = <TokenOutputField\n    decimals={4}\n    mint\n    token={SiloAsset.Seed}\n    value={toSeedsValue}\n  />\n  const toSiloLPField = (\n    <TokenOutputField\n      mint\n      token={SiloAsset.LP}\n      value={toSiloLPValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const resetFields = () => {\n    fromValueUpdated(new BigNumber(-1), new BigNumber(-1), new BigNumber(-1))\n  }\n  const frontrunTextField = (\n    props.settings.mode !== SwapMode.Bean && props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      handleMode={resetFields}\n      hasClaimable={props.hasClaimable}\n      hasConvertible={props.maxFromBeanSiloVal.isGreaterThan(0)}\n      hasSlippage={true}\n      setSettings={props.setSettings}\n      settings={props.settings}\n      showLP={props.lpBalance.isGreaterThan(0)}\n    />\n  )\n  function transactionDetails() {\n    if (toStalkValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toSiloLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromBeanValue.isGreaterThan(0) || fromEthValue.isGreaterThan(0) || fromLPValue.isGreaterThan(0)) {\n        const claimable = props.settings.claim ? props.claimable : null\n        const lp = MaxBN(fromLPValue, new BigNumber(0))\n        if (props.settings.mode === SwapMode.LP && lp.isGreaterThan(0)) {\n          depositLP(toStringBaseUnitBN(lp,ETH.decimals),claimable, () => resetFields())\n        }\n        else if (props.settings.convert) {\n          convertAddAndDepositLP(\n            toStringBaseUnitBN(lp,ETH.decimals),\n            toStringBaseUnitBN(fromEthValue,ETH.decimals),\n            [toStringBaseUnitBN(fromBeanValue,BEAN.decimals),\n              toStringBaseUnitBN(fromBeanValue.multipliedBy(props.settings.slippage),BEAN.decimals),\n              toStringBaseUnitBN(fromEthValue.multipliedBy(props.settings.slippage),ETH.decimals)\n            ],\n            beanConvertParams.crates,\n            beanConvertParams.amounts,\n            claimable,\n            () => resetFields())\n        } else {\n          const beans = fromBeanValue.plus(toBuyBeansValue).minus(toSellBeansValue)\n          const buyEth = MaxBN(toBuyEthValue, new BigNumber(0))\n          const eth = fromEthValue.plus(buyEth).minus(toSellEthValue)\n          addAndDepositLP(\n            toStringBaseUnitBN(lp,ETH.decimals),\n            toStringBaseUnitBN(toBuyBeansValue,BEAN.decimals),\n            toStringBaseUnitBN(buyEth,ETH.decimals),\n            toStringBaseUnitBN(fromEthValue,ETH.decimals),\n            [toStringBaseUnitBN(beans,BEAN.decimals),\n              toStringBaseUnitBN(beans.multipliedBy(props.settings.slippage),BEAN.decimals),\n              toStringBaseUnitBN(eth.multipliedBy(props.settings.slippage),ETH.decimals)\n            ],\n            claimable,\n            () => resetFields())\n        }\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {fromBeanField}\n    {fromEthField}\n    {transactionDetails()}\n    {frontrunTextField}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  SEEDS,\n  STALK,\n  LPBEANS_TO_SEEDS,\n  UNI_V2_ETH_BEAN_LP\n} from '../../constants'\nimport {\n  claimAndWithdrawLP,\n  MinBN,\n  MinBNs,\n  toStringBaseUnitBN,\n  TrimBN,\n  withdrawLP\n} from '../../util'\nimport {\n  SettingsFormModule,\n  SiloAsset,\n  TokenInputField,\n  TokenOutputField,\n  TransitAsset\n} from '../Common'\n\nexport const LPWithdrawSubModule = forwardRef((props, ref) => {\n  const [fromStalkValue, setFromStalkValue] = useState(new BigNumber(-1))\n  const [fromSeedsValue, setFromSeedsValue] = useState(new BigNumber(-1))\n  const [fromLPValue, setFromLPValue] = useState(new BigNumber(-1))\n  const [withdrawParams, setWithdrawParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  /*function maxLPs(stalk: BugNumber) {\n    var stalkRemoved = new BigNumber(0)\n    var beans = new BigNumber(0)\n    Object.keys(props.crates).sort((a,b) => parseInt(a) - parseInt(b)).forEach(key => {\n      let stalkPerLP = (new BigNumber(10000)).plus(props.season.minus(key)).multipliedBy(5)\n      const stalkLeft = stalk.minus(stalkRemoved)\n      if (stalkPerLP.multipliedBy(props.crates[key]).isGreaterThanOrEqualTo(stalkLeft)) {\n        stalkRemoved = stalkRemoved.plus(stalkPerLP.multipliedBy(props.crates[key]))\n        beans = beans.plus(props.crates[key])\n        if (stalkRemoved.isEqualTo(stalk)) return\n      } else {\n        beans = beans.plus(TrimBN(stalkLeft.dividedBy(stalkPerLP),18))\n        return\n      }\n    })\n    return beans\n  }\n  */\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromLPVal)\n    const newFromLPValue = TrimBN(fromNumber, UNI_V2_ETH_BEAN_LP.decimals)\n    setFromLPValue(newFromLPValue)\n    const [stalkRemoved, seedsRemoved] = getStalkAndSeedsRemoved(fromNumber)\n    setFromStalkValue(TrimBN(stalkRemoved, STALK.decimals))\n    setFromSeedsValue(TrimBN(seedsRemoved, SEEDS.decimals))\n    props.setIsFormDisabled(newFromLPValue.isLessThanOrEqualTo(0))\n  }\n\n   const getStalkAndSeedsRemoved = (beans) => {\n     var lpRemoved = new BigNumber(0)\n     var stalkRemoved = new BigNumber(0)\n     var seedsRemoved = new BigNumber(0)\n     var crates = []\n     var amounts = []\n     BigNumber.set({ DECIMAL_PLACES: 6 })\n     Object.keys(props.crates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n       const crateLPsRemoved = (\n         lpRemoved.plus(props.crates[key]).isLessThanOrEqualTo(beans)\n          ? props.crates[key]\n          : beans.minus(lpRemoved)\n        )\n       const crateSeedsRemoved = props.seedCrates[key].multipliedBy(crateLPsRemoved).dividedBy(props.crates[key])\n       lpRemoved = lpRemoved.plus(crateLPsRemoved)\n       seedsRemoved = seedsRemoved.plus(crateSeedsRemoved)\n       BigNumber.set({ DECIMAL_PLACES: 10 })\n       stalkRemoved = stalkRemoved.plus(crateSeedsRemoved.dividedBy(LPBEANS_TO_SEEDS))\n       stalkRemoved = stalkRemoved.plus(crateSeedsRemoved.multipliedBy(props.season.minus(key)).multipliedBy(0.00001))\n       BigNumber.set({ DECIMAL_PLACES: 6 })\n       crates.push(key)\n       amounts.push(toStringBaseUnitBN(crateLPsRemoved, UNI_V2_ETH_BEAN_LP.decimals))\n       return lpRemoved.isEqualTo(beans)\n     })\n     BigNumber.set({ DECIMAL_PLACES: 18 })\n     setWithdrawParams({crates,amounts})\n     return [stalkRemoved, seedsRemoved]\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n  const maxHandler = () => {\n    const minMaxFromVal = MinBNs([\n      props.maxFromStalkVal.multipliedBy(props.stalkToLP),\n      props.maxFromSeedsVal.multipliedBy(props.seedsToLP),\n      props.maxFromLPVal\n    ])\n    fromValueUpdated(minMaxFromVal)\n  }\n\n  /* Input Fields */\n\n  const fromLPField = (\n    <TokenInputField\n      balance={props.maxFromLPVal}\n      handleChange={handleFromChange}\n      isLP={true}\n      maxHandler={maxHandler}\n      poolForLPRatio={props.poolForLPRatio}\n      setValue={setFromLPValue}\n      token={SiloAsset.LP}\n      value={TrimBN(fromLPValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBurnStalkField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Stalk}\n      value={fromStalkValue}\n    />\n  )\n  const toBurnSeedsField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Seed}\n      value={fromSeedsValue}\n    />\n  )\n  const toTransitLPField = (\n    <TokenOutputField\n      mint\n      token={TransitAsset.LP}\n      value={fromLPValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const unvoteTextField = (\n    props.locked\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{'Unvote Active BIPs to Withdraw'}</div>\n      : null\n  )\n  const showSettings = (\n    props.hasClaimable\n      ? <SettingsFormModule\n          hasClaimable={props.hasClaimable}\n          showUnitModule={false}\n          setSettings={props.setSettings}\n          settings={props.settings}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (fromLPValue.isNegative() || fromLPValue.isZero()) {\n      return <></>\n    }\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toBurnStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toBurnSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toTransitLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromLPValue.isLessThanOrEqualTo(0)\n          || withdrawParams.crates.length === 0\n          || withdrawParams.amounts.length === 0) return\n\n      if (props.settings.claim) {\n        claimAndWithdrawLP(withdrawParams.crates, withdrawParams.amounts, props.claimable, () => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      } else {\n        withdrawLP(withdrawParams.crates, withdrawParams.amounts,() => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {unvoteTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { useRef, useState } from 'react'\nimport { BASE_SLIPPAGE, LPBEAN_TO_STALK } from '../../constants'\nimport { approveBeanstalkBean, approveBeanstalkLP, SwapMode } from '../../util'\nimport {\n  ListTable,\n  BaseModule,\n  SiloAsset,\n  TransitAsset\n} from '../Common'\nimport { LPClaimSubModule } from './LPClaimSubModule'\nimport { LPDepositSubModule } from './LPDepositSubModule'\nimport { LPWithdrawSubModule } from './LPWithdrawSubModule'\n\nexport default function SiloLPModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [settings, setSettings] = useState({\n    claim: false,\n    convert: false,\n    useLP: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE)\n  })\n  const [page, setPage] = React.useState(0)\n\n  const sectionTitles = ['Deposit', 'Withdraw']\n\n  const handleTabChange = (event, newSection) => {\n    if (newSection !== section) {\n      setSection(newSection)\n      setIsFormDisabled(true)\n    }\n  }\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => { setSectionInfo(newSectionInfo); setPage(newPageZero) }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  if (settings.mode === null) {\n    if (props.lpBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.LP}})\n    else if (props.beanBalance.isGreaterThan(0) && props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.BeanEthereum}})\n    else if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.BeanEthereum}})\n  }\n\n  const depositRef = useRef<any>()\n  const withdrawRef = useRef<any>()\n  const claimRef = useRef<any>()\n  function handleForm() {\n    switch (section) {\n      case 0: depositRef.current.handleForm(); break\n      case 1: withdrawRef.current.handleForm(); break\n      case 2: claimRef.current.handleForm(); break\n      default: break\n    }\n  }\n  const [isFormDisabled, setIsFormDisabled] = useState(true)\n  let sections = [\n      <LPDepositSubModule\n        beanBalance={props.beanBalance}\n        beanCrates={props.beanDeposits}\n        beanReserve={props.beanReserve}\n        beanToEth={props.ethReserve.dividedBy(props.beanReserve)}\n        beanToStalk={LPBEAN_TO_STALK}\n        claimable={props.claimable}\n        claimableEthBalance={props.claimableEthBalance}\n        ethBalance={props.ethBalance}\n        ethReserve={props.ethReserve}\n        ethToBean={props.beanReserve.dividedBy(props.ethReserve)}\n        hasClaimable={props.hasClaimable}\n        lpBalance={props.lpBalance}\n        updateExpectedPrice={props.updateExpectedPrice}\n        maxFromBeanSiloVal={props.beanSiloBalance}\n        maxFromClaimableVal={props.beanClaimableBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={depositRef}\n        season={props.season}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n        setSettings={setSettings}\n        settings={settings}\n        totalLP={props.totalLP}\n      />,\n      <LPWithdrawSubModule\n        claimable={props.claimable}\n        crates={props.lpDeposits}\n        hasClaimable={props.hasClaimable}\n        locked={section === 1 && props.locked}\n        maxFromClaimableVal={props.beanClaimableBalance}\n        maxFromLPVal={props.lpSiloBalance}\n        maxFromSeedsVal={props.seedBalance}\n        maxFromStalkVal={props.stalkBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={withdrawRef}\n        season={props.season}\n        seedCrates={props.lpSeedDeposits}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n        setSettings={setSettings}\n        settings={settings}\n      />\n    ]\n  if (props.lpReceivableBalance.isGreaterThan(0)) {\n    sections.push(\n      <LPClaimSubModule\n        crates={props.lpReceivableCrates}\n        maxFromLPVal={props.lpReceivableBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={claimRef}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n      />\n    )\n    sectionTitles.push('Claim')\n  }\n  if (section > sectionTitles.length - 1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.lpDeposits !== undefined && Object.keys(props.lpDeposits).length > 0) {\n    sectionsInfo.push(\n      <ListTable\n        asset={SiloAsset.LP}\n        crates={props.lpDeposits}\n        description='LP Deposits Will Appear Here'\n        handleChange={handlePageChange}\n        indexTitle='Season'\n        isLP={true}\n        page={page}\n        poolForLPRatio={props.poolForLPRatio}\n        season={props.season}\n        seedCrates={props.lpSeedDeposits}\n        title='Deposits'\n      />\n    )\n    sectionTitlesInfo.push('Deposits')\n  }\n  if ((props.lpWithdrawals !== undefined && Object.keys(props.lpWithdrawals).length > 0) || props.lpReceivableBalance.isGreaterThan(0)) {\n    sectionsInfo.push(\n      <ListTable\n        asset={TransitAsset.LP}\n        crates={props.lpWithdrawals}\n        claimableBalance={props.lpReceivableBalance}\n        claimableCrates={props.lpReceivableCrates}\n        description='Bean Withdrawals Will Appear Here'\n        handleChange={handlePageChange}\n        index={props.season}\n        indexTitle='Seasons to Arrival'\n        isLP={true}\n        page={page}\n        poolForLPRatio={props.poolForLPRatio}\n        title='Withdrawals'\n      />\n    )\n    sectionTitlesInfo.push('Withdrawals')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : <></>\n  )\n\n  let allowance = new BigNumber(1)\n  let setAllowance = props.setBeanstalkBeanAllowance\n  let handleApprove = approveBeanstalkBean\n  if (settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum) {\n    allowance = props.beanstalkBeanAllowance\n    if (allowance.isGreaterThan(0) && settings.useLP) {\n      allowance = props.beanstalkLPAllowance\n      setAllowance = props.setBeanstalkLPAllowance\n      handleApprove = approveBeanstalkLP\n    }\n  }\n  else if (settings.mode === SwapMode.LP) {\n    allowance = props.beanstalkLPAllowance\n    setAllowance = props.setBeanstalkLPAllowance\n    handleApprove = approveBeanstalkLP\n  }\n\n  return (\n    <>\n    <BaseModule\n      allowance={allowance}\n      handleApprove={handleApprove}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={isFormDisabled}\n      locked={section === 1 && props.locked}\n      lockedSeasons={props.lockedSeasons}\n      mode={settings.mode}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={setAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import { ContentSection, Grid, TitleLabel } from '../Common'\nimport SiloBeanModule from './SiloBeanModule'\nimport SiloLPModule from './SiloLPModule'\n\nexport default function Silo(props) {\n  const { innerWidth: width } = window\n\n  return (\n    <ContentSection id='silo' title='Silo'>\n      <Grid container item xs={12} spacing={8} className='SiloSection' alignItems='flex-start' justifyContent='center' style={{height: '100%', margin: '0px'}}>\n        <Grid item md={6} sm={12} style={width > 400 ? {maxWidth: '500px'} : {maxWidth: '400px'}}>\n          <TitleLabel margin={props.margin}>Beans</TitleLabel>\n          <SiloBeanModule {...props} />\n        </Grid>\n        <Grid item md={6} sm={12} style={width > 400 ? {maxWidth: '500px'} : {maxWidth: '400px'}}>\n          <TitleLabel margin={props.margin}>LP</TitleLabel>\n          <SiloLPModule {...props} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n\nSilo.defaultProps = {\n  margin: '-10px 0 -20px 0'\n}\n","import { createTheme } from '@material-ui/core/styles'\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#3B3B3B'\n    },\n    secondary: {\n      main: '#DCBA6A'\n    },\n    background: {\n      main: '#EFF7FF'\n    }\n  }\n})\nexport default theme\n","import { claim, updateSilo } from '../../util'\nimport {\n  ClaimableAsset,\n  Grid,\n  SingleButton,\n  TokenBalanceModule\n} from '../Common'\n\nexport default function ClaimableBalance(props) {\n  const showButton = (\n    <>\n    <Grid container item xs={12}>\n      <Grid container item direction='column' alignItems='center' style={{margin: props.margin}}>\n        <SingleButton\n          backgroundColor='#3B3B3B'\n          color='white'\n          description={props.buttonDescription}\n          handleClick={\n            props.asset === ClaimableAsset.Ethereum\n              ? () => { claim(props.claimable) }\n              : () => { updateSilo(props.claimable) }\n          }\n          margin='-13px 7px 0 0'\n          marginTooltip='0 0 -5px 20px'\n          size='small'\n          title={props.claimTitle}\n          width='150px'\n          widthTooltip='200px'\n        />\n      </Grid>\n    </Grid>\n    </>\n  )\n\n  if (props.userClaimable && props.balance.isGreaterThan(0)) {\n    return (\n      <Grid container item justifyContent='center'>\n        <Grid container item xs={12} justifyContent='center'>\n          <Grid item sm={9} xs={10}>\n            <TokenBalanceModule\n              balance={props.balance}\n              claimPadding={true}\n              description={props.description}\n              token={props.asset}\n            />\n          </Grid>\n        </Grid>\n        {showButton}\n      </Grid>\n    )\n  } else {\n    return (\n      <Grid container item justifyContent='center'>\n        {showButton}\n      </Grid>\n    )\n  }\n}\n\nClaimableBalance.defaultProps = {\n  margin: 'inherit',\n  userClaimable: 0,\n  claimTitle: 'Claim All',\n  buttonDescription: 'Claim all Withdrawals, Harvestable Pods and ETH from Seasons of Plenty',\n}\n","import BigNumber from 'bignumber.js'\nimport { useState } from 'react'\nimport { UNISWAP_BASE_LP } from '../../constants'\nimport {\n  BaseModule,\n  ContentSection,\n  ClaimableAsset,\n  Grid,\n  totalDescriptions,\n  totalStrings,\n  walletDescriptions,\n  walletStrings\n} from '../Common'\nimport ClaimableBalance from './ClaimableBalance'\nimport BalanceSection from './BalanceSection'\n\nexport default function BalanceSectionModule(props) {\n  const balanceStyle = {\n    borderRadius: '25px',\n    color: 'primary',\n    backgroundColor: '#F5FAFF',\n    padding: '10px',\n  }\n  const divStyle = {\n    fontSize: '18px',\n    fontFamily: 'Futura-Pt-Book',\n    marginTop: '13px',\n    textTransform: 'uppercase',\n  }\n  const lineStyle = {\n    color: 'primary',\n    backgroundColor: 'primary',\n    margin: '14px 4px 8px 4px',\n  }\n\n  const sectionTitles = ['My Balances', 'Beanstalk Totals']\n  const [section, setSection] = useState(0)\n  const handleTabChange = (event, newSection) => { setSection(newSection) }\n\n  const userLP = (\n    props.lpBalance\n      .plus(props.lpSiloBalance)\n      .plus(props.lpTransitBalance)\n      .plus(props.lpReceivableBalance)\n  )\n  const userBeans = (\n    props.beanBalance\n      .plus(props.beanSiloBalance)\n      .plus(props.beanTransitBalance)\n      .plus(props.beanReceivableBalance)\n      .plus(props.harvestablePodBalance)\n  )\n  const userBalanceInDollars = userBeans.multipliedBy(props.beanPrice)\n\n  const userBeansAndEth = props.poolForLPRatio(userLP)\n  const poolBeansAndEth = props.poolForLPRatio(props.totalLP)\n\n  const marketCap = (\n    props.totalBeans.isGreaterThan(0)\n      ? props.totalBeans.multipliedBy(props.beanPrice)\n      : new BigNumber(0)\n  )\n  const poolMarketCap = (\n    props.beanReserve.isGreaterThan(0)\n      ? props.beanReserve.multipliedBy(props.beanPrice).multipliedBy(2)\n      : new BigNumber(0)\n  )\n\n  const userTotalClaimable = (\n    props.beanReceivableBalance\n      .plus(props.harvestablePodBalance)\n      .plus(props.lpReceivableBalance)\n      .plus(props.claimableEthBalance)\n  )\n\n  const claimable = (\n    userTotalClaimable.isGreaterThan(0)\n      ? <Grid item xs={6}>\n          <ClaimableBalance\n            asset={ClaimableAsset.Ethereum}\n            balance={props.claimableEthBalance}\n            userClaimable={userTotalClaimable.isGreaterThan(0)}\n            description={walletDescriptions.claimableEthBalance}\n            claimable={props.claimable}\n            {...props}\n          />\n        </Grid>\n      : null\n  )\n\n  const farmable = (\n    props.grownStalkBalance.isGreaterThan(0) || props.farmableBeanBalance.isGreaterThan(0) ||\n    (props.stalkBalance.isGreaterThan(0) && props.rootsBalance.isEqualTo(0))\n      ? <Grid item xs={6}>\n          <ClaimableBalance\n            asset={ClaimableAsset.Stalk}\n            balance={props.rootsBalance.isEqualTo(0) ? new BigNumber(0) : props.grownStalkBalance}\n            buttonDescription={'Farm Claimable Stalk to Update the Silo and compound rewards with updated totals'}\n            claimTitle='FARM'\n            description={'Stalk that is Rewarded but not accruing additional Stalk until it is Claimed'}\n            claimable={props.grownStalkBalance}\n            userClaimable={props.grownStalkBalance.isGreaterThan(0)}\n            {...props}\n          />\n          {props.rootsBalance.isEqualTo(0) ? <div style={{width:'130%', marginLeft:'-15%'}}> You have not updated your Silo account since the last BIP has passed. Please hit 'Farm' to update your Silo.\n\n</div>: null}\n        </Grid>\n      : null\n  )\n\n  const myBalancesSection = (\n    <>\n    <BalanceSection\n      description={walletDescriptions}\n      strings={walletStrings}\n      topLeft={userBalanceInDollars}\n      topRight={props.rootsBalance.dividedBy(props.totalRoots).multipliedBy(100)}\n      beanReserveTotal={new BigNumber(0)}\n      beanLPTotal={userBeansAndEth}\n      {...props}\n    />\n\n    <Grid container item justifyContent='center'>\n      {claimable}\n      {farmable}\n    </Grid>\n    </>\n  )\n  const totalBalancesSection = (\n    <>\n    <BalanceSection\n      description={totalDescriptions}\n      strings={totalStrings}\n      beanBalance={\n        props.totalBeans.isGreaterThan(0)\n          ? props.totalBeans\n              .minus(props.totalSiloBeans)\n              .minus(props.totalTransitBeans)\n              .minus(props.beanReserve)\n          : new BigNumber(0)\n      }\n      lpBalance={\n        props.totalLP.isGreaterThan(0)\n          ? props.totalLP\n              .minus(props.totalSiloLP)\n              .minus(props.totalTransitLP)\n              .minus(new BigNumber(UNISWAP_BASE_LP))\n          : new BigNumber(0)\n      }\n      beanSiloBalance={props.totalSiloBeans}\n      lpSiloBalance={props.totalSiloLP}\n      beanTransitBalance={props.totalTransitBeans}\n      lpTransitBalance={props.totalTransitLP}\n      beanClaimableBalance={undefined}\n      beanReceivableBalance={new BigNumber(0)}\n      harvestablePodBalance={new BigNumber(0)}\n      lpReceivableBalance={new BigNumber(0)}\n      claimableEthBalance={new BigNumber(0)}\n      beanReserveTotal={props.beanReserve}\n      ethBalance={props.ethReserve}\n      stalkBalance={props.totalStalk}\n      seedBalance={props.totalSeeds}\n      podBalance={props.totalPods}\n      topLeft={marketCap}\n      topRight={poolMarketCap}\n      beanLPTotal={poolBeansAndEth}\n      poolForLPRatio={props.poolForLPRatio}\n    />\n    </>\n  )\n\n  const sections = [myBalancesSection, totalBalancesSection]\n\n  return (\n    <ContentSection id='balances' title='Balances'>\n      <div className='BalanceSection-mobile'>\n        <BaseModule\n          handleForm={() => {}}\n          handleTabChange={handleTabChange}\n          section={section}\n          sectionTitles={sectionTitles}\n          showButton={false}\n        >\n          {sections[section]}\n        </BaseModule>\n      </div>\n\n      <Grid className='BalanceSection' container item spacing={8} justifyContent='center' alignItems='flex-start' style={{marginTop: '8px'}}>\n        <Grid item sm={12} md={6} style={{maxWidth: '500px'}}>\n          <div className='AppBar-shadow' style={balanceStyle}>\n            <div style={divStyle}>My Balances </div>\n            <hr style={lineStyle} />\n            {myBalancesSection}\n          </div>\n        </Grid>\n\n        <Grid item sm={12} md={6} style={{maxWidth: '500px'}}>\n          <div className='AppBar-shadow' style={balanceStyle}>\n            <div style={divStyle}>Beanstalk Totals </div>\n            <hr style={lineStyle} />\n            {totalBalancesSection}\n          </div>\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { BEAN } from '../../constants'\nimport { isAddress, MinBN, TrimBN  } from '../../util'\nimport { AddressInputField, CryptoAsset, TokenInputField } from '../Common'\n\nexport default function SendSubModule(props) {\n  var [snappedToAddress, setSnappedToAddress] = useState(false)\n  const [isValidAddress, setIsValidAddress] = useState(false)\n  const [walletText, setWalletText] = useState('')\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromBeanVal)\n    props.setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n  }\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  async function toAddressUpdated(newToAddress) {\n    if (snappedToAddress) {\n      props.setToAddress('')\n      setWalletText('')\n      setSnappedToAddress(false)\n      return\n    }\n\n    if (newToAddress.length === 42) {\n      setWalletText(`${newToAddress.substring(0, 6)}...${newToAddress.substring(newToAddress.length - 4)}`)\n      setSnappedToAddress(true)\n      setIsValidAddress(await isAddress(newToAddress))\n    } else {\n      setWalletText('')\n    }\n    props.setToAddress(newToAddress)\n  }\n\n  const handleChange = (event) => {\n    if (event.target.value) {\n      toAddressUpdated(event.target.value)\n    } else {\n      toAddressUpdated('')\n    }\n  }\n\n  const maxHandler = () => { fromValueUpdated(props.maxFromBeanVal) }\n  const clearHandler = () => { toAddressUpdated(walletText) }\n\n  /* Input Fields */\n\n  const toAddressField = (\n    <AddressInputField\n      address={walletText}\n      setAddress={props.setWalletText}\n      fromAddress={props.address}\n      handleChange={handleChange}\n      snapped={snappedToAddress}\n      handleClear={clearHandler}\n      isValidAddress={isValidAddress}\n    />\n  )\n  const fromBeanField = (\n    <TokenInputField\n      hidden={props.toAddress.length !== 42}\n      token={CryptoAsset.Bean}\n      value={props.fromBeanValue}\n      setValue={fromValueUpdated}\n      handleChange={handleFromChange}\n      balance={props.maxFromBeanVal}\n      maxHandler={maxHandler}\n    />\n  )\n\n  return (\n    <>\n    {toAddressField}\n    {fromBeanField}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport { IconButton } from '@material-ui/core'\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore'\nimport {\n  BEAN,\n  ETH,\n  LP_FEE,\n  SLIPPAGE_THRESHOLD\n} from '../../constants'\nimport {\n  getFromAmount,\n  getToAmount,\n  MinBN,\n  MinBNs,\n  TokenLabel,\n  TrimBN\n} from '../../util'\nimport {\n  FrontrunText,\n  SettingsFormModule,\n  TokenInputField,\n  TransactionDetailsModule\n} from '../Common'\n\nexport default function SwapSubModule(props) {\n\n  function fromValueUpdated(newFromNumber) {\n    if (newFromNumber.isLessThan(0)) {\n      props.setFromValue(new BigNumber(-1))\n      props.setToValue(new BigNumber(-1))\n    }\n    const fromReserve = props.orderIndex ? props.ethReserve : props.beanReserve\n    const fromNumber = MinBNs([newFromNumber, props.balance, fromReserve])\n    const toReserve = !props.orderIndex ? props.ethReserve : props.beanReserve\n    const newToValue = getToAmount(fromNumber, fromReserve, toReserve)\n\n    props.setFromValue(TrimBN(fromNumber, props.orderIndex ? ETH.decimals : BEAN.decimals))\n    props.setToValue(TrimBN(newToValue, props.orderIndex ? BEAN.decimals : ETH.decimals))\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  function getExpectedBeanPrice(fromValue, toValue) {\n    const [estbeanReserve, estethReserve] = (\n      props.orderIndex\n        ? [props.beanReserve.minus(toValue), props.ethReserve.plus(fromValue)]\n        : [props.beanReserve.plus(fromValue), props.ethReserve.minus(toValue)]\n    )\n    const endPrice = estethReserve.dividedBy(estbeanReserve).dividedBy(props.usdcPrice)\n    return (props.beanPrice.plus(endPrice)).dividedBy(2)\n  }\n\n  function toValueUpdated(newToNumber) {\n    const fromReserve = props.orderIndex ? props.ethReserve : props.beanReserve\n    const toReserve = props.orderIndex ? props.beanReserve : props.ethReserve\n    const toNumber = MinBN(newToNumber, toReserve)\n    const proposedNewFromValue = getFromAmount(toNumber, fromReserve, toReserve, props.orderIndex ? ETH.decimals : BEAN.decimals)\n    if (proposedNewFromValue.isGreaterThan(props.maxFromVal)) {\n      fromValueUpdated(props.maxFromVal)\n    } else {\n      props.setFromValue(TrimBN(proposedNewFromValue, props.orderIndex ? ETH.decimals : BEAN.decimals))\n      props.setToValue(TrimBN(toNumber, props.orderIndex ? BEAN.decimals : ETH.decimals))\n    }\n  }\n\n  const handleToChange = (event) => {\n    if (event.target.value) {\n      toValueUpdated(new BigNumber(event.target.value))\n    } else {\n      toValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  const maxHandler = () => { fromValueUpdated(props.maxFromVal) }\n\n  /* Input Fields */\n\n  const fromField = (\n    <TokenInputField\n      value={TrimBN(props.fromValue, props.orderIndex ? 9 : BEAN.decimals)}\n      setValue={fromValueUpdated}\n      handleChange={handleFromChange}\n      token={props.fromToken}\n      balance={props.balance}\n      maxHandler={maxHandler}\n    />\n  )\n  const toField = (\n    <TokenInputField\n      value={TrimBN(props.toValue, props.orderIndex ? BEAN.decimals : 9)}\n      setValue={toValueUpdated}\n      handleChange={handleToChange}\n      token={props.toToken}\n      balance={props.toBalance}\n    />\n  )\n\n  /* Switch Fields */\n\n  const switchField = (\n    <IconButton\n        onClick={() => {\n          props.setFromValue(new BigNumber(-1))\n          props.setToValue(new BigNumber(-1))\n          props.setOrderIndex(!props.orderIndex)\n        }}\n        style={{marginTop: '-6px', marginBottom: '-24px'}}\n        color='primary'\n      >\n      <UnfoldMoreIcon />\n    </IconButton>\n  )\n\n  /* Transaction Details, settings and text */\n\n  const frontrunTextField = (\n    props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      settings={props.settings}\n      setSettings={props.setSettings}\n      showUnitModule={false}\n      hasSlippage={true}\n    />\n  )\n\n  const expectedBeanPrice = getExpectedBeanPrice(props.fromValue, props.toValue)\n  const fee = (\n    props.orderIndex\n      ? props.fromValue.dividedBy(props.usdcPrice).multipliedBy(LP_FEE)\n      : props.fromValue.multipliedBy(props.beanPrice).multipliedBy(LP_FEE)\n  )\n\n  function transactionDetails() {\n    if (props.toValue.isGreaterThan(0)) {\n      return (\n        <TransactionDetailsModule\n            fields={{\n              'Minimum Received':`${props.toValue.multipliedBy(props.settings.slippage).toFixed(4)} ${TokenLabel(props.toToken)}`,\n              'Expected Price': `$ ${expectedBeanPrice.toFixed(3)}`,\n              'LP Fee': `0.3% ($${fee.toFixed(2)})`\n            }}\n          />\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n    {fromField}\n    {switchField}\n    {toField}\n    {frontrunTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport {\n  BASE_SLIPPAGE,\n  BEAN,\n  ETH,\n  MIN_BALANCE\n} from '../../constants'\nimport {\n  approveUniswapBean,\n  buyBeans,\n  sellBeans,\n  toStringBaseUnitBN,\n  transferBeans\n} from '../../util'\nimport { BaseModule, CryptoAsset } from '../Common'\nimport SendSubModule from './SendSubModule'\nimport SwapSubModule from './SwapSubModule'\n\nexport default function TradeModule(props) {\n  const [section, setSection] = useState(0)\n  const sectionTitles = ['Swap', 'Send']\n  const handleTabChange = (event, newSection) => {\n    handleSwapCallback()\n    setToAddress('')\n    setSection(newSection)\n  }\n\n  /* Swap Sub-Module state */\n\n  const [orderIndex, setOrderIndex] = useState(true)\n  const [settings, setSettings] = useState({ slippage: new BigNumber(BASE_SLIPPAGE) })\n  const [fromValue, setFromValue] = useState(new BigNumber(-1))\n  const [toValue, setToValue] = useState(new BigNumber(-1))\n  const fromToken = orderIndex ? CryptoAsset.Ethereum : CryptoAsset.Bean\n  const toToken = !orderIndex ? CryptoAsset.Ethereum : CryptoAsset.Bean\n  const ethToBean = new BigNumber(props.beanReserve.dividedBy(props.ethReserve))\n  const beanToEth = new BigNumber(1).dividedBy(ethToBean)\n  const conversionFactor = orderIndex ? ethToBean : beanToEth\n\n  /* Send Sub-Module state */\n\n  const [toAddress, setToAddress] = useState('')\n\n  function handleSwapCallback() {\n    setFromValue(new BigNumber(-1))\n    setToValue(new BigNumber(-1))\n  }\n\n  function handleForm() {\n    if (section === 0) {\n      var minimumToAmount = toValue.multipliedBy(settings.slippage)\n\n      if (toValue.isGreaterThan(0)) {\n        if (fromToken === CryptoAsset.Ethereum)\n          buyBeans(toStringBaseUnitBN(fromValue, ETH.decimals), toStringBaseUnitBN(minimumToAmount,BEAN.decimals), handleSwapCallback)\n        else\n          sellBeans(toStringBaseUnitBN(fromValue, BEAN.decimals), toStringBaseUnitBN(minimumToAmount, ETH.decimals), handleSwapCallback)\n      }\n    } else if (section === 1) {\n        if (fromValue.isGreaterThan(0)) {\n          transferBeans(toAddress, toStringBaseUnitBN(fromValue, BEAN.decimals), handleSwapCallback)\n        }\n    }\n  }\n\n  const disabled = (\n    section === 0\n      ? toValue.isLessThanOrEqualTo(0)\n      : (fromValue.isLessThanOrEqualTo(0) || toAddress.length !== 42)\n  )\n\n  const sections = [\n    <SwapSubModule\n      orderIndex={orderIndex}\n      setOrderIndex={setOrderIndex}\n      fromValue={fromValue}\n      setFromValue={setFromValue}\n      toValue={toValue}\n      setToValue={setToValue}\n      balance={fromToken === CryptoAsset.Ethereum ? props.ethBalance : props.beanBalance}\n      toBalance={fromToken === CryptoAsset.Ethereum ? props.beanBalance : props.ethBalance}\n      maxFromVal={fromToken === CryptoAsset.Ethereum\n        ? props.ethBalance.isGreaterThan(MIN_BALANCE)\n          ? props.ethBalance.minus(MIN_BALANCE)\n          : new BigNumber(-1)\n        : props.beanBalance\n      }\n      beanReserve={props.beanReserve}\n      ethReserve={props.ethReserve}\n      usdcPrice={props.usdcPrice}\n      beanPrice={props.beanPrice}\n      fromToken={fromToken}\n      toToken={toToken}\n      conversionFactor={conversionFactor}\n      settings={settings}\n      setSettings={setSettings}\n    />,\n    <SendSubModule\n      toAddress={toAddress}\n      setToAddress={setToAddress}\n      fromAddress={props.address}\n      fromBeanValue={fromValue}\n      setFromBeanValue={setFromValue}\n      maxFromBeanVal={props.beanBalance}\n      fromToken={CryptoAsset.Bean}\n    />\n  ]\n\n  return (\n    <BaseModule\n      allowance={orderIndex ? new BigNumber(1) : props.uniswapBeanAllowance}\n      isDisabled={disabled}\n      sectionTitles={sectionTitles}\n      section={section}\n      handleTabChange={handleTabChange}\n      handleApprove={approveUniswapBean}\n      handleForm={handleForm}\n      setAllowance={props.setUniswapBeanAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n  )\n}\n","import React from 'react'\nimport { ContentSection, Grid, HeaderLabel } from '../Common'\nimport BalanceSectionModule from './BalanceSectionModule'\nimport TradeModule from './TradeModule'\n\nexport default function Trade(props) {\n  return (\n    <ContentSection id='trade'>\n      <Grid container item xs={12} sm={12} spacing={3} justifyContent='center'>\n        <Grid item xs={12} sm={6} style={{maxWidth: '300px'}}>\n          <HeaderLabel\n            title='Current Bean Price'\n            value={`$${props.beanPrice.toFixed(4)}`}\n            description='Current Bean Price on Uniswap'\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} style={{maxWidth: '300px'}}>\n          <HeaderLabel\n            title='Seasons Since $1 Crossed'\n            value={props.lastCross}\n            description='Number of Seasons Since TWAP Crossed $1'\n          />\n        </Grid>\n      </Grid>\n\n      <Grid item xs={10} sm={8} style={{maxWidth: '500px', minHeight: '545px'}}>\n        <TradeModule {...props} />\n      </Grid>\n\n      <BalanceSectionModule {...props} />\n    </ContentSection>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useRef, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { CssBaseline } from '@material-ui/core'\nimport { ThemeProvider } from '@material-ui/styles'\nimport BeanLogo from '../../img/bean-logo.svg'\nimport {\n  BASE_SLIPPAGE,\n  BEAN,\n  ETH,\n  UNI_V2_ETH_BEAN_LP,\n  WETH\n} from '../../constants'\nimport {\n  addRewardedCrates,\n  createLedgerBatch,\n  getAccountBalances,\n  getBips,\n  getEtherBalance,\n  getPrices,\n  getTotalBalances,\n  initialize,\n  initializeCallback,\n  initializeEventListener,\n  parseWithdrawals,\n  parsePlots,\n  poolForLP,\n  toBaseUnitBN,\n  toTokenUnitsBN\n} from '../../util'\nimport About from '../About'\nimport Footer from '../About/Footer'\nimport Field from '../Field'\nimport MetamasklessModule from './MetamasklessModule'\nimport { NavigationBar } from '../Navigation'\nimport Seasons from '../Seasons'\nimport Silo from '../Silo'\nimport theme from './theme'\nimport Trade from '../Trade'\n\nimport './App.css'\n\nexport default function App() {\n  const defaultNavMapping = [\n    {\n      path: 'trade',\n      title: 'Trade',\n      component: () => (\n        <Trade\n          key='trade'\n          lastCross={Math.max(parseInt(season.season) - lastCross, 0)}\n          poolForLPRatio={poolForLPRatio}\n          {...allowances} {...allowanceHandlers} {...prices} {...totalBalance} {...userBalance}\n        />\n      )\n    },\n    {\n      path: 'silo',\n      title: 'Silo',\n      component: () => (\n        <Silo\n          key='silo'\n          beanReserve={prices.beanReserve}\n          ethReserve={prices.ethReserve}\n          poolForLPRatio={poolForLPRatio}\n          season={season.season}\n          totalLP={totalBalance.totalLP}\n          updateExpectedPrice={updateExpectedPrice}\n          {...allowances} {...allowanceHandlers} {...userBalance}\n        />\n      )\n    },\n    {\n      path: 'field',\n      title: 'Field',\n      component: () => (\n        <Field\n          key='field'\n          beanReserve={prices.beanReserve}\n          ethReserve={prices.ethReserve}\n          unripenedPods={totalBalance.totalPods}\n          updateExpectedPrice={updateExpectedPrice}\n          {...allowances} {...allowanceHandlers} {...userBalance} {...weather}\n        />\n      )\n    },\n    {\n      path: 'seasons',\n      title: 'Seasons',\n      component: () => (\n        <Seasons\n          key='seasons'\n          bips={bips}\n          hasActiveBIP={hasActiveBIP}\n          votedBips={userBalance.votedBips}\n          userStalk={userBalance.stalkBalance}\n          {...prices} {...season} {...totalBalance} {...weather}\n        />\n      )\n    },\n    {\n      path: 'about',\n      title: 'About',\n      component: () => (\n        <About key='about' />\n      )\n    },\n  ]\n\n  BigNumber.set({ EXPONENTIAL_AT: [-12,20]})\n  const initBN = new BigNumber(-1)\n  const zeroBN = new BigNumber(0)\n\n  const [initialized, setInitialized] = useState(false)\n  const [metamaskFailure, setMetamaskFailure] = useState(-1)\n\n  const updateExpectedPrice = (sellEth: BigNumber, buyBeans: BigNumber) => {\n    const endPrice = prices.ethReserve.plus(sellEth)\n      .dividedBy(prices.beanReserve.minus(buyBeans))\n      .dividedBy(prices.usdcPrice)\n    return prices.beanPrice.plus(endPrice).dividedBy(2)\n  }\n\n  const poolForLPRatio = (amount: BigNumber) => {\n    if (amount.isLessThanOrEqualTo(0))\n      return [zeroBN, zeroBN]\n    return poolForLP(amount, prices.beanReserve, prices.ethReserve, totalBalance.totalLP)\n  }\n\n  const allowanceHandlers = {\n    setUniswapBeanAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, uniswapBeanAllowance: allowance}))\n    },\n    setBeanstalkBeanAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, beanstalkBeanAllowance: allowance}))\n    },\n    setBeanstalkLPAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, beanstalkLPAllowance: allowance}))\n    },\n  }\n\n  const [allowances, setAllowances] = useState({\n    uniswapBeanAllowance: zeroBN,\n    beanstalkBeanAllowance: zeroBN,\n    beanstalkLPAllowance: zeroBN,\n  })\n  const [userBalance, setUserBalance] = useState({\n    ethBalance: initBN,\n    claimableEthBalance: initBN,\n    beanBalance: initBN,\n    beanSiloBalance: initBN,\n    beanReceivableBalance: initBN,\n    beanTransitBalance: initBN,\n    lpBalance: initBN,\n    lpSiloBalance: initBN,\n    lpTransitBalance: initBN,\n    lpReceivableBalance: initBN,\n    stalkBalance: initBN,\n    seedBalance: initBN,\n    podBalance: initBN,\n    harvestablePodBalance: initBN,\n    harvestableBalance: initBN,\n    beanDeposits: {},\n    rawBeanDeposits: {},\n    beanWithdrawals: {},\n    beanReceivableCrates: {},\n    lpDeposits: {},\n    lpSeedDeposits: {},\n    lpWithdrawals: {},\n    lpReceivableCrates: {},\n    plots: {},\n    harvestablePlots: {},\n    votedBips: new Set(),\n    locked: false,\n    lockedSeasons: initBN,\n    beanClaimableBalance: initBN,\n    claimable: [[], [], [], false, false, '0', '0'],\n    hasClaimable: false,\n    farmableStalkBalance: initBN,\n    farmableBeanBalance: initBN,\n    grownStalkBalance: initBN,\n    rootsBalance: initBN,\n  })\n\n  const [totalBalance, setTotalBalance] = useState({\n    totalBeans: initBN,\n    totalSiloBeans: initBN,\n    totalTransitBeans: initBN,\n    totalLP: initBN,\n    totalSiloLP: initBN,\n    totalTransitLP: initBN,\n    totalStalk: initBN,\n    totalSeeds: initBN,\n    totalPods: initBN,\n    totalRoots: initBN,\n  })\n  const [season, setSeason] = useState({\n    season: initBN,\n    timestamp: initBN,\n    start: initBN,\n    period: initBN,\n  })\n  const [weather, setWeather] = useState({\n    didSowBelowMin: false,\n    didSowFaster: false,\n    lastDSoil: initBN,\n    lastSoilPercent: initBN,\n    lastSowTime: initBN,\n    nextSowTime: initBN,\n    startSoil: initBN,\n    soil: initBN,\n    harvestableIndex: initBN,\n    weather: initBN,\n    raining: false,\n    rainStart: initBN,\n  })\n\n  const [prices, setPrices] = useState({\n    beanPrice: initBN,\n    usdcPrice: initBN,\n    ethReserve: initBN,\n    beanReserve: initBN,\n    beanTWAPPrice: initBN,\n    usdcTWAPPrice: initBN,\n  })\n\n  const [lastCross, setLastCross] = useState(-1)\n  const [bips, setBips] = useState([])\n  const [hasActiveBIP, setHasActiveBIP] = useState(false)\n  const [contractEvents, setContractEvents] = useState([])\n\n  const eventParsingParametersRef = useRef([])\n  eventParsingParametersRef.current = [\n    season.season,\n    weather.harvestableIndex,\n    userBalance.farmableBeanBalance,\n    userBalance.farmableStalkBalance,\n    userBalance.grownStalkBalance,\n    userBalance.claimableEthBalance,\n  ]\n\n  const benchmarkStart = (operation) => {\n    console.log(`LOADING ${operation}`)\n    return Date.now()\n  }\n  const benchmarkEnd = (operation, startTime) => {\n    console.log(`LOADED ${operation} (${(Date.now() - startTime) / 1e3} seconds)`)\n  }\n\n  useEffect(() => {\n    const zeroBN = new BigNumber(0)\n\n    function processAccountBalances(accountBalances, ethBalance, currentSeason) {\n      const [\n        uniswapBeanAllowance, beanstalkBeanAllowance, beanstalkLPAllowance,\n        claimableEthBalance, beanBalance, lpBalance, seedBalance, stalkBalance,\n        lockedUntil, farmableBeanBalance, farmableStalkBalance, grownStalkBalance,\n        rootsBalance\n      ] = accountBalances\n      const locked = lockedUntil.isGreaterThanOrEqualTo(currentSeason)\n      const lockedSeasons = lockedUntil.minus(currentSeason)\n      const minReceives = [zeroBN, zeroBN]\n\n      setAllowances({\n        uniswapBeanAllowance, beanstalkBeanAllowance, beanstalkLPAllowance\n      })\n      setUserBalance(prev => ({\n        ...prev, claimableEthBalance, ethBalance, beanBalance, lpBalance,\n        seedBalance, stalkBalance, locked, lockedSeasons, farmableBeanBalance,\n        farmableStalkBalance, grownStalkBalance, rootsBalance, claimable: [\n          prev.claimable[0], prev.claimable[1], prev.claimable[2],\n          prev.claimable[3], prev.claimable[4],\n          toBaseUnitBN(minReceives[0], BEAN.decimals).multipliedBy(BASE_SLIPPAGE).toString(),\n          toBaseUnitBN(minReceives[1], ETH.decimals).multipliedBy(BASE_SLIPPAGE).toString()\n        ]\n      }))\n    }\n\n    function processTotalBalances(totalBalances, bipInfo) {\n      const [\n        totalBeans, totalLP, totalSeeds, totalStalk,\n        totalSiloBeans, totalSiloLP, totalTransitBeans, totalTransitLP,\n        soil, podIndex, harvestableIndex, totalRoots, weather, rain, season\n      ] = totalBalances\n      const [bips, hasActiveBIP] = bipInfo\n      const totalPods = podIndex.minus(harvestableIndex)\n      setTotalBalance(prev => ({\n        ...prev, totalBeans, totalLP, totalSiloBeans, totalSiloLP,\n        totalTransitBeans, totalTransitLP, totalSeeds, totalStalk, totalPods, totalRoots\n      }))\n      setWeather(prev => ({...prev, ...weather, ...rain, harvestableIndex, soil}))\n      setBips(bips)\n      setHasActiveBIP(hasActiveBIP)\n      setSeason(season)\n      return season.season\n    }\n\n    function processPrices(prices) {\n      const [\n        referenceTokenReserves, tokenReserves, token0, twapPrices\n      ] = prices\n      const usdcMultiple = (new BigNumber(10)).exponentiatedBy(12)\n      const rawBeanReserve = token0 === BEAN.addr ? tokenReserves[0] : tokenReserves[1]\n      const rawEthReserve = token0 !== BEAN.addr ? tokenReserves[0] : tokenReserves[1]\n      const beanEthPrice = rawEthReserve.dividedBy(rawBeanReserve).dividedBy(usdcMultiple)\n      const usdcEthPrice = referenceTokenReserves[1].dividedBy(referenceTokenReserves[0]).dividedBy(usdcMultiple)\n      const beanPrice = beanEthPrice.dividedBy(usdcEthPrice)\n      const usdcPrice = usdcEthPrice\n      const ethReserve = toTokenUnitsBN(rawEthReserve, WETH.decimals)\n      const beanReserve = toTokenUnitsBN(rawBeanReserve, BEAN.decimals)\n\n      setPrices(prev => ({\n        ...prev, beanPrice, usdcPrice, ethReserve, beanReserve,\n        beanTWAPPrice: twapPrices[0], usdcTWAPPrice: twapPrices[1]\n      }))\n    }\n\n    async function processEvents(events, eventParsingParameters) {\n      const startTime = benchmarkStart('EVENT PROCESSOR')\n\n      let userLPSeedDeposits = {}\n      let userLPDeposits = {}\n      let lpWithdrawals = {}\n      let userPlots = {}\n      let userBeanDeposits = {}\n      let beanWithdrawals = {}\n      let votedBips = new Set()\n\n      events.forEach(event => {\n        if (event.event === 'BeanDeposit') {\n          const s = parseInt(event.returnValues.season)\n          const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n          userBeanDeposits = {...userBeanDeposits, [s]: userBeanDeposits[s] !== undefined ? userBeanDeposits[s].plus(beans) : beans}\n          if (userBeanDeposits[s].isEqualTo(0)) delete userBeanDeposits[s]\n        } else if (event.event === 'BeanRemove') {\n          event.returnValues.crates.forEach((s, i) => {\n            const beans = toTokenUnitsBN(event.returnValues.crateBeans[i], BEAN.decimals)\n            userBeanDeposits = {...userBeanDeposits, [s]: userBeanDeposits[s] !== undefined ? userBeanDeposits[s].minus(beans) : beans}\n            if (userBeanDeposits[s].isEqualTo(0)) delete userBeanDeposits[s]\n          })\n        } else if (event.event === 'BeanWithdraw') {\n          const s = parseInt(event.returnValues.season)\n          const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n          beanWithdrawals = {...beanWithdrawals, [s]: beanWithdrawals[s] !== undefined ? beanWithdrawals[s].plus(beans) : beans}\n        } else if (event.event === 'Sow') {\n          const s = parseInt(event.returnValues.index)/1e6\n          userPlots[s] = toTokenUnitsBN(event.returnValues.pods, BEAN.decimals)\n        } else if (event.event === 'LPDeposit') {\n          const s = parseInt(event.returnValues.season)\n          const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n          const seeds = toTokenUnitsBN(new BigNumber(event.returnValues.seeds), BEAN.decimals)\n          userLPDeposits = {...userLPDeposits, [s]: userLPDeposits[s] !== undefined ? userLPDeposits[s].plus(lp) : lp}\n          userLPSeedDeposits = {...userLPSeedDeposits, [s]: userLPSeedDeposits[s] !== undefined ? userLPSeedDeposits[s].plus(seeds) : seeds}\n        } else if (event.event === 'LPRemove') {\n          event.returnValues.crates.forEach((s, i) => {\n            const lp = toTokenUnitsBN(event.returnValues.crateLP[i], UNI_V2_ETH_BEAN_LP.decimals)\n            const seeds = userLPSeedDeposits[s].multipliedBy(lp).dividedBy(userLPDeposits[s])\n            userLPDeposits = {...userLPDeposits, [s]: userLPDeposits[s].minus(lp)}\n            userLPSeedDeposits = {...userLPSeedDeposits, [s]: userLPSeedDeposits[s].minus(seeds)}\n            if (userLPDeposits[s].isEqualTo(0)) delete userLPDeposits[s]\n            if (userLPSeedDeposits[s].isEqualTo(0)) delete userLPSeedDeposits[s]\n          })\n        } else if (event.event === 'LPWithdraw') {\n          const s = parseInt(event.returnValues.season)\n          const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n          lpWithdrawals = {...lpWithdrawals, [s]: lpWithdrawals[s] !== undefined ? lpWithdrawals[s].plus(lp) : lp}\n        } else if (event.event === 'Harvest') {\n          let beansClaimed = toTokenUnitsBN(event.returnValues.beans, BEAN.decimals)\n          event.returnValues.plots.forEach(s => {\n            const index = parseInt(s)/1e6\n            if (beansClaimed.isLessThan(userPlots[index])) {\n              const partialIndex = beansClaimed.plus(index)\n              userPlots = {...userPlots, [partialIndex] : userPlots[index].minus(beansClaimed)}\n            } else {\n              beansClaimed = beansClaimed.minus(userPlots[index])\n            }\n            delete userPlots[index]\n          })\n        } else if (event.event === 'BeanClaim') {\n          event.returnValues.withdrawals.forEach(s => delete beanWithdrawals[s])\n        } else if (event.event === 'LPClaim') {\n          event.returnValues.withdrawals.forEach(s => delete lpWithdrawals[s])\n        } else if (event.event === 'Proposal' || event.event === 'Vote') {\n          votedBips.add(event.returnValues.bip)\n        } else if (event.event === 'Unvote') {\n          votedBips.delete(event.returnValues.bip)\n        }\n      })\n      setContractEvents(events)\n\n      const [s, hi, fb, fs, gs, ce] = (\n        eventParsingParameters !== undefined\n          ? eventParsingParameters\n          : eventParsingParametersRef.current\n      )\n\n      const rawBeanDeposits = {...userBeanDeposits}\n      userBeanDeposits = addRewardedCrates(userBeanDeposits, s, fb, fs)\n      const beanDepositsBalance = Object.values(userBeanDeposits).reduce((a, c) => a.plus(c), zeroBN)\n      const lpDepositsBalance = Object.values(userLPDeposits).reduce((a, c) => a.plus(c), zeroBN)\n      const [podBalance, harvestablePodBalance, plots, harvestablePlots] = parsePlots(userPlots, hi)\n      const [beanTransitBalance, beanReceivableBalance, userBeanWithdrawals, userBeanreceivableCrates] = parseWithdrawals(beanWithdrawals, s)\n      const [lpTransitBalance, lpReceivableBalance, userLPWithdrawals, userLPreceivableCrates] = parseWithdrawals(lpWithdrawals, s)\n      const minReceives = [zeroBN, zeroBN]\n      const claimable = [\n        Object.keys(userBeanreceivableCrates).map(b => b.toString()),\n        Object.keys(userLPreceivableCrates).map(b => b.toString()),\n        Object.keys(harvestablePlots).map(b => toBaseUnitBN(b, BEAN.decimals).toString()),\n        ce.isGreaterThan(0),\n        true,\n        toBaseUnitBN(minReceives[0], BEAN.decimals).multipliedBy(BASE_SLIPPAGE).toString(),\n        toBaseUnitBN(minReceives[1], ETH.decimals).multipliedBy(BASE_SLIPPAGE).toString(),\n      ]\n      setUserBalance((prevUserBalance) => ({\n        ...prevUserBalance,\n        beanSiloBalance: beanDepositsBalance,\n        podBalance: podBalance,\n        harvestablePodBalance: harvestablePodBalance,\n        beanTransitBalance: beanTransitBalance,\n        beanReceivableBalance: beanReceivableBalance,\n        lpTransitBalance: lpTransitBalance,\n        lpReceivableBalance: lpReceivableBalance,\n        lpSiloBalance: lpDepositsBalance,\n        plots: plots,\n        harvestablePlots: harvestablePlots,\n        beanDeposits: userBeanDeposits,\n        lpDeposits: userLPDeposits,\n        lpSeedDeposits: userLPSeedDeposits,\n        beanWithdrawals: userBeanWithdrawals,\n        beanReceivableCrates: userBeanreceivableCrates,\n        lpWithdrawals: userLPWithdrawals,\n        lpReceivableCrates: userLPreceivableCrates,\n        votedBips: votedBips,\n        beanClaimableBalance: beanReceivableBalance.plus(harvestablePodBalance),\n        hasClaimable: beanReceivableBalance.plus(harvestablePodBalance).plus(lpReceivableBalance).plus(ce).isGreaterThan(0),\n        claimable: claimable,\n        rawBeanDeposits: rawBeanDeposits,\n        farmableBeanBalance: fb,\n        farmableStalkBalance: fs,\n        grownStalkBalance: gs\n      }))\n\n      benchmarkEnd('EVENT PROCESSOR', startTime)\n    }\n\n    async function updateAllBalances() {\n      const startTime = benchmarkStart('ALL BALANCES')\n      const batch = createLedgerBatch()\n      const accountBalancePromises = getAccountBalances(batch)\n      const totalBalancePromises = getTotalBalances(batch)\n      const pricePromises = getPrices(batch)\n      batch.execute()\n\n      const [\n        bipInfo,\n        ethBalance,\n        accountBalances,\n        totalBalances,\n        prices\n      ] = await Promise.all([\n        getBips(),\n        getEtherBalance(),\n        accountBalancePromises,\n        totalBalancePromises,\n        pricePromises\n      ])\n      benchmarkEnd('ALL BALANCES', startTime)\n\n      return [\n        () => {\n          const currentSeason = processTotalBalances(totalBalances, bipInfo)\n          processAccountBalances(accountBalances, ethBalance, currentSeason)\n          processPrices(prices)\n        },\n        [\n          totalBalances[14].season, /* season */\n          totalBalances[10],        /* harvestableIndex */\n          accountBalances[9],       /* farmableBeanBalance */\n          accountBalances[10],      /* farmableStalkBalance */\n          accountBalances[11],      /* grownStalkBalance */\n          accountBalances[3]        /* claimableEthBalance */\n        ]\n      ]\n    }\n\n    async function updateTotals() {\n      const startTime = benchmarkStart('TOTALS')\n      const batch = createLedgerBatch()\n      const totalBalancePromises = getTotalBalances(batch)\n      batch.execute()\n\n      const [\n        bipInfo,\n        totalBalances\n      ] = await Promise.all([\n        getBips(),\n        totalBalancePromises\n      ])\n      ReactDOM.unstable_batchedUpdates(() => {\n        processTotalBalances(totalBalances, bipInfo)\n      })\n      benchmarkEnd('TOTALS', startTime)\n    }\n\n    async function updatePrices() {\n      const startTime = benchmarkStart('PRICES')\n      const batch = createLedgerBatch()\n      const pricePromises = getPrices(batch)\n      batch.execute()\n\n      const prices = await pricePromises\n      ReactDOM.unstable_batchedUpdates(() => {\n        processPrices(prices)\n      })\n      benchmarkEnd('PRICES', startTime)\n    }\n\n    async function start() {\n      var startTime = benchmarkStart('*INIT*')\n      if (await initialize()) {\n        benchmarkEnd('*INIT*', startTime)\n        startTime = benchmarkStart('**WEBSITE**')\n\n        initializeCallback(async () => {\n          const [updateBalanceState] = await updateAllBalances()\n          ReactDOM.unstable_batchedUpdates(() => { updateBalanceState() })\n        })\n        const [\n          balanceInitializers,\n          eventInitializers\n        ] = await Promise.all([\n          updateAllBalances(),\n          initializeEventListener(processEvents, updatePrices, updateTotals, setContractEvents, setLastCross)\n        ])\n        ReactDOM.unstable_batchedUpdates(() => {\n          const [updateBalanceState, eventParsingParameters] = balanceInitializers\n          const [lastCross, allEvents] = eventInitializers\n          updateBalanceState()\n          setLastCross(lastCross)\n          processEvents(allEvents, eventParsingParameters)\n          setInitialized(true)\n        })\n        benchmarkEnd('**WEBSITE**', startTime)\n      } else {\n        setMetamaskFailure(true)\n      }\n    }\n\n    start()\n  }, [])\n\n  let app\n  if (metamaskFailure > -1) {\n    app = <MetamasklessModule />\n  } else if (!initialized) {\n    const { innerHeight: height } = window\n    app = (\n      <div style={{height: height, overflow: 'hidden'}}>\n        <div style={{marginTop: height/2-200}}>\n          <div className='Loading-logo'>\n            <img style={{verticalAlign: 'middle'}} height='400px' src={BeanLogo} alt='bean.money' />\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    const navMapping = [...defaultNavMapping]\n    if (hasActiveBIP) {\n      navMapping.splice(4, 0, {path: 'governance', title: 'BIPs', component: () => <></>})\n    }\n    app = <>\n      <NavigationBar\n        links={navMapping}\n        beanPrice={prices.beanPrice}\n        events={contractEvents}\n        poolForLPRatio={poolForLPRatio}\n        {...totalBalance} {...userBalance}\n      />\n      { navMapping.map((navItem, index) => (\n          <div key={index}>{navItem.component()}</div>\n        ))\n      }\n      <Footer />\n    </>\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className='App'>\n        {app}\n      </div>\n    </ThemeProvider>\n  )\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\nimport './index.css'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nreportWebVitals( )\n"],"sourceRoot":""}