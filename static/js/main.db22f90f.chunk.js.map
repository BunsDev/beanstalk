{"version":3,"sources":["img/bean-logo.svg","constants/bips.js","constants/links.js","constants/tokens.js","constants/values.js","util/EventUtilities.tsx","util/FieldUtilities.tsx","util/GovernanceUtilities.tsx","util/LedgerUtilities.tsx","util/TokenUtilities.tsx","util/txNotifier.js","util/SeasonUtilities.tsx","util/SiloUtilities.tsx","img/claimable-icon.svg","img/eth-logo.svg","img/lp-logo.svg","img/pod-logo.svg","img/seed-logo.svg","img/silo-icon.svg","img/stalk-logo.svg","img/transit-icon.svg","img/uniswap-icon.svg","util/UniswapUtilities.tsx","util/index.tsx","img/cloud-background.png","img/Barn.svg","img/Sun.svg","components/Common/AddressInputField.tsx","components/Common/BalanceModule.tsx","components/Common/BaseModule.tsx","components/Common/ContentSection.tsx","components/Common/EthInputField.tsx","components/Common/FrontrunText.tsx","components/Common/HeaderLabel.tsx","components/Common/HeaderLabelWithTimer.tsx","components/Common/InputFieldPlus.tsx","components/Common/ListTable.tsx","components/Common/QuestionModule.tsx","components/Common/SettingsFormModule.tsx","components/Common/SingleButton.tsx","components/Common/SlippageModule.tsx","components/Common/SwitchModule.tsx","components/Common/TitleLabel.tsx","components/Common/TokenBalanceModule.tsx","components/Common/TokenInputField.tsx","components/Common/TokenOutputField.tsx","components/Common/TokenTypeImageModule.tsx","components/Common/TransactionDetailsModule.tsx","img/bean-eth-logo.svg","img/bean-eth-swap-logo.svg","components/Common/UnitSelectionModule.tsx","components/Common/index.tsx","components/About/SvgCloudIcon.tsx","img/discord-icon.svg","img/etherscan-logo.svg","img/uniswap-logo-black.svg","components/About/Footer.tsx","img/ground.png","components/About/index.tsx","components/Field/SowHarvestModule.tsx","components/Field/index.tsx","components/App/MetamasklessModule.tsx","components/Trade/Chart.tsx","components/Trade/BalanceSection.tsx","components/Navigation/WalletModule.tsx","components/Navigation/NavigationBar.tsx","img/black-sun.svg","components/Seasons/PegMaintenance.tsx","components/Governance/CircularProgressWithLabel.tsx","components/Governance/GovernanceTable.tsx","components/Governance/Vote.tsx","components/Governance/index.tsx","components/Seasons/SeasonReward.tsx","components/Seasons/SeasonTimer.tsx","components/Seasons/index.tsx","components/Silo/BeanClaimSubModule.tsx","components/Silo/BeanDepositSubModule.tsx","components/Silo/BeanWithdrawSubModule.tsx","components/Silo/SiloBeanModule.tsx","components/Silo/LPClaimSubModule.tsx","components/Silo/LPDepositSubModule.tsx","components/Silo/LPWithdrawSubModule.tsx","components/Silo/SiloLPModule.tsx","components/Silo/index.tsx","components/App/theme.js","components/Trade/ClaimableBalance.tsx","components/Trade/BalanceSectionModule.tsx","components/Trade/SendSubModule.tsx","components/Trade/SwapSubModule.tsx","components/Trade/TradeModule.tsx","components/Trade/index.tsx","components/App/index.tsx","reportWebVitals.ts","index.tsx"],"names":["bipsList","path","title","HOW_TO_MM_PATH","BEAN","addr","decimals","symbol","BEANSTALK","UNI_V2_ETH_BEAN_LP","SEEDS","ETH","STALK","WETH","UNI_V2_USDC_ETH_LP","changeNetwork","chainId","PEG_WEATHER_CASES","BASE_SLIPPAGE","SLIPPAGE_THRESHOLD","MIN_BALANCE","UNISWAP_V2_ROUTER","IGNORED_EVENTS","Set","benchmarkStart","operation","console","log","Date","now","benchmarkEnd","startTime","listeningForEvents","lastPriceRefresh","getTime","lastTotalsRefresh","newEventHashes","initializeEventListener","callback","updatePrices","updateTotals","setContractEvents","setLastCross","a","beanstalk","beanstalkContract","bean","tokenContract","beanPair","pairContract","usdcPair","getPastEvents","fromBlock","toBlock","events","allEvents","filter","event","returnValues","account","si","sd","sp","sib","map","e","blockNumber","sdb","length","first","last","lastCrossEvent","firstBlockNumbers","lastBlockNumbers","lastSopSeason","season","i","lastSwitchSeason","undefined","lastCross","Math","max","Promise","all","then","contractEventLists","filteredEvents","Array","prototype","concat","apply","has","from","to","spender","eventInitializers","fromBlack","error","toLowerCase","Swap","newEventHash","transactionHash","String","logIndex","add","txCallback","parseWithdrawals","withdrawals","index","receivable","BigNumber","transit","transitWithdrawals","receivableWithdrawals","Object","keys","forEach","s","isLessThanOrEqualTo","plus","addRewardedCrates","crates","rewardedBeans","rewardedStalk","isEqualTo","rewardedSeasons","dividedBy","multipliedBy","integerValue","ROUND_DOWN","minus","set","ROUNDING_MODE","ROUND_HALF_UP","parseInt","parsePlots","plots","pods","harvestablePods","unharvestablePlots","harvestablePlots","p","isLessThan","sowBeans","amount","claimable","methods","claimAndSowBeans","send","on","hash","buyAndSowBeans","buyBeanAmount","ethAmount","claimBuyAndSowBeans","value","harvest","vote","bip","unvote","percentForStalk","stalk","totalStalk","decimalPlaces","toNumber","createLedgerBatch","web3","BatchRequest","makeBatchedPromises","batch","promisesAndResultHandlers","batchedPromises","methodAndHandler","resolve","reject","call","request","result","identityResult","bigNumberResult","tokenResult","token","toTokenUnitsBN","getEtherBalance","eth","getBalance","getBlockTimestamp","initializing","getBlock","timestamp","CryptoAsset","SiloAsset","TransitAsset","FarmAsset","ClaimableAsset","UniswapAsset","getAccountBalances","lp","allowance","balanceOfEth","balanceOf","balanceOfSeeds","balanceOfStalk","lockedUntil","balanceOfFarmableBeans","balanceOfFarmableStalk","balanceOfGrownStalk","balanceOfRoots","getTotalBalances","totalSupply","totalSeeds","totalDepositedBeans","totalDepositedLP","totalWithdrawnBeans","totalWithdrawnLP","totalSoil","podIndex","harvestableIndex","totalRoots","weather","stringWeather","didSowBelowMin","didSowFaster","lastDSoil","lastSoilPercent","lastSowTime","nextSowTime","startSoil","yield","rain","stringRain","raining","rainStart","start","time","current","period","getBips","numberOfBips","bips","toString","endTotalRoots","rootsFor","roots","bipRoots","bipDict","id","executed","increaseBase","pauseOrUnpause","proposer","propser","stalkBase","updated","active","push","hasActiveBIP","activeBips","getPrices","referenceLPContract","lpContract","getReserves","reserves","_reserve0","_reserve1","token0","getTWAPPrices","prices","notify","v","sunrise","depositBeans","claimAndDepositBeans","claimAndWithdrawBeans","amounts","withdrawBeans","claimBeans","depositLP","claimAndDepositLP","addAndDepositLP","buyEthAmount","addLP","claimAddAndDepositLP","convertAddAndDepositLP","claimConvertAddAndDepositLP","withdrawLP","claimAndWithdrawLP","removeAndClaimLP","minBeanAmount","minEthAmount","claimLP","claim","updateSilo","buyAndDepositBeans","claimBuyAndDepositBeans","MAX_UINT256","transferBeans","transfer","approveUniswapBean","approveToken","approveBeanstalkBean","approveBeanstalkLP","address","approve","TokenLabel","tokenType","Bean","Ethereum","LP","Stalk","Seed","Pods","TokenImage","BeanLogo","EthereumLogo","LPLogo","StalkLogo","SeedLogo","PodLogo","TrimBN","bn","numberString","decimalComponents","split","decimalsFound","decimalsToTrim","substr","displayBN","toFixed","isGreaterThanOrEqualTo","isGreaterThan","displayFullBN","maxDecimals","toLocaleString","maximumFractionDigits","MinBNs","array","reduce","prev","curr","MinBN","bn1","bn2","MaxBN","toBaseUnitBN","rawAmt","raw","base","decimalsBN","pow","toStringBaseUnitBN","tokenAmt","amt","digits","div","SwapMode","createDeadline","ceil","ethereum","accounts","buyBeans","amountIn","amountOutMin","uniswapRouterContract","swapExactETHForTokens","sellBeans","swapExactTokensForETH","tokenForLP","reserve","totalLP","lpForToken","getToAmount","reserveIn","reserveOut","amountInWithFee","numerator","denominator","getFromAmount","amountOut","getBuyAndAddLPAmount","ethReserve","beanReserve","zeroBN","fee","c","b","determinant","beans1","sqrt","beans2","estBeans","absoluteValue","metamaskFailure","beanAbi","require","beanstalkAbi","uniswapPairAbi","uniswapRouterAbi","Contract","pair","initialize","window","Boolean","isMetaMask","Web3","initializeMetaMaskListeners","method","utils","toChecksumAddress","changeHandler","location","reload","initializeCallback","isAddress","GetWalletAddress","AddressInputField","props","endAdornment","startAdornment","classes","makeStyles","theme","inputText","fontFamily","fontSize","fontWeight","snapped","InputAdornment","position","Button","onClick","handleClear","isValidAddress","style","color","margin","display","marginLeft","textAlign","textTransform","width","TextField","className","placeholder","variant","size","type","disabled","handleChange","onChange","onKeyDown","fullWidth","InputProps","inputProps","maxLength","input","BalanceModule","spanContent","content","balance","balanceSection","balanceDescription","FormatTooltip","placement","swerve","QuestionModule","description","questionMargin","widthTooltip","defaultProps","action","maxval","BaseModule","inputModule","backgroundColor","borderRadius","marginTop","padding","sectionTab","minWidth","formButton","height","maxWidth","indicator","justifyContent","noIndicator","buttonLabel","buttonHandler","showButton","allowanceCallback","transactionState","setAllowance","handleApprove","locked","lockedSeasons","sectionTitles","section","handleForm","isDisabled","AppBar","Tabs","indicatorColor","handleTabChange","TabIndicatorProps","children","textColor","sectionTitle","Tab","label","key","a11yProps","autoComplete","noValidate","zIndex","opacity","top","left","Link","href","preventDefault","resetForm","ContentSection","appSection","Grid","container","spacing","TitleLabel","renderTitle","EthInputField","mode","BeanEthereum","maxBalance","textTransaction","sellEth","updateExpectedPrice","TokenInputField","target","maxHandler","FrontrunText","HeaderLabel","boxShadow","marginTooltip","HeaderLabelWithTimer","InputFieldPlus","claimableBalance","isClaimEnabled","parentChangeHandler","useEffect","visible","tokenInputField","isLP","poolForLPRatio","sellToken","buyEth","ListTable","useStyles","table","alignItems","pagination","lucidaStyle","claimableStyle","displayLP","BasicTable","stalkCrates","reverse","asset","titles","indexTitle","seedCrates","k","claimableRow","claimWord","claimDescription","TableRow","TableCell","align","component","scope","claimableStalk","TableContainer","Table","TableHead","t","TableBody","sort","slice","page","TablePagination","count","onPageChange","rowsPerPage","rowsPerPageOptions","claimableCrates","resetPage","questionStyle","useState","show","setShow","disableHoverListener","open","onMouseEnter","onMouseLeave","SettingsFormModule","settingsStyle","setSettingsStyle","hasSlippage","showUnitModule","settings","showSlippage","setShowSlippage","rightDrawerItems","showLP","SwitchModule","setValue","setSettings","useLP","hasClaimable","hasConvertible","disableConvertible","handleMode","convert","hasRemoveLP","removeLP","SlippageModule","setSlippage","slippage","rightDrawer","hasVisible","item","assign","bottom","clipPath","paddingBottom","right","unitModule","UnitSelectionModule","beanEthereumSwap","showBeanEthereumSwap","bottomDrawer","settingsIcon","IconButton","shouldExpand","SingleButton","button","transition","getIcon","icon","alt","src","handleClick","isFieldEmpty","setIsFieldEmpty","defaultSlippage","setSlippagePercentage","newPercentage","newValue","decimalIndex","indexOf","onWheel","blur","min","step","siloBeanBalance","GreenSwitch","withStyles","switchBase","checked","track","Switch","GreenFormControlLabel","marginBottom","FormControlLabel","control","flexDirection","TokenBalanceModule","balanceColor","lineHeight","balanceStyle","claimPadding","paddingRight","tokenLabel","endText","TokenTypeImageModule","balanceContent","displayValue","setDisplayValue","maxStyle","maxButton","hidden","float","marginRight","isNegative","replaceAll","lastIndexOf","TokenOutputField","burn","mint","tokenTypeModifierStyle","SiloIcon","TransitIcon","ClaimableIcon","UniswapIcon","TransactionDetailsModule","leftTransactionStyle","rightTransactionStyle","rows","fields","r","border","startText","imageStyle","ToggleButtonGroup","aria-label","exclusive","ToggleButton","beanEthereum","BeanEthIcon","BeanEthereumSwap","BeanEthSwapIcon","tooltip","palette","common","white","shadows","Tooltip","walletDescriptions","beanBalance","lpBalance","beanSiloBalance","lpSiloBalance","beanTransitBalance","lpTransitBalance","claimableBeanBalance","claimablelpBalance","claimableEthBalance","stalkBalance","seedBalance","podBalance","ethBalance","topLeft","topLeftTitle","topRight","topRightTitle","totalDescriptions","beanReserveTotal","walletStrings","totalStrings","SvgCloudIcon","text","xmlns","viewBox","fill","d","stroke","strokeWidth","x","y","textAnchor","Footer","fixedGround","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","logoStyle","linkStyle","discord","etherscan","uniswap","About","navCloudStyle","background","cloudStyle","showLandingPage","defaultSection","minHeight","lg","md","sm","xs","howToPath","innerWidth","SunIcon","maxHeight","BarnIcon","SowHarvestModule","setSection","sectionInfo","setSectionInfo","React","setPage","beanValue","setBeanValue","podValue","setPodValue","fromValue","setFromValue","fromEthValue","setFromEthValue","buyBeanValue","setBuyBeanValue","toValue","setToValue","harvestPlots","setHarvestPlots","fromToken","toToken","harvestablePodBalance","claimableFromVal","beanClaimableBalance","maxFromVal","maxToVal","soil","fromValueUpdated","newFromNumber","newEthFromNumber","newFromValue","newFromEthValue","DECIMAL_PLACES","sowedBeans","harvestedPods","some","beanInputField","ethInputField","toPodsField","sectionTitlesInfo","sectionsInfo","newPage","parseFloat","showListTables","newSectionInfo","newPageZero","beanstalkBeanAllowance","sowText","sowTextField","noSoilTextField","frontrunTextField","showSettings","beans","newSection","setBeanstalkBeanAllowance","isZero","Field","headerLabelStyle","unripenedPods","MetamasklessModule","metamaskModule","Chart","colors","circulating","silo","pool","data","ChartDonut","standalone","constrainToVisibleArea","labels","datum","titleComponent","ChartLabel","total","subTitle","innerRadius","padAngle","parent","eventHandlers","onMouseOver","mutation","setActive","onMouseOut","BalanceSection","beanActive","setBeanActive","lpActive","setLPActive","containerGridStyle","containerGridHorizontalStyle","spanStyle","smallGridStyle","beanTotals","beanReceivableBalance","lpTotals","lpReceivableBalance","claimableBeansSection","showTokenName","claimableLPSection","beanReserveSection","beanTransitSection","lpTransitSection","switchBeanSizeBalances","Hidden","smUp","xsDown","chartMargin","switchLPSizeBalances","beanLPTotal","strings","WalletModule","walletButton","textDecoration","greenStyle","redStyle","tokenImageStyle","eventTitleStyle","timestampStyle","fontStyle","eventAmountStyle","menuItemStyle","whiteSpace","borderBottom","overflow","walletListStyle","setWalletListStyle","walletText","setWalletText","anchorRefWallet","useRef","openWallet","setOpenWallet","handleCloseWallet","walletEvents","setWalletEvents","displayEvent","eventAmount","inOutDisplay","inBN","inToken","outBN","outToken","outDisplay","eventTitle","amount0In","swapFrom","swapTo","amount1Out","amount1In","amount0Out","date","dateString","toLocaleDateString","timeString","toLocaleTimeString","paddingLeft","accountHex","accountDisplay","timestampPromisesByBlockNumber","_","blockNumbers","blockTimePromises","values","blockTimestamps","timestampsByBlockNumber","blockDiff","batchedEvents","currentBlock","pendingAmountsPerType","pendingSeasonsPerType","flushPendingAmounts","batchedEvent","seasonsDisplay","lastElement","updateSeasons","pendingSeasons","number","pendingBeans","pendingLP","pending","handleWallet","buildWalletEvents","walletSubtitles","transactionPage","setTransactionPage","walletEventsDisplay","document","getElementById","scrollTop","cursor","includes","etherscanURL","MenuItem","userLP","userBeans","userBeansAndEth","userLPBeans","userBalanceInDollars","beanPrice","myBalancesSection","walletPage","setWalletPage","walletTitles","walletPages","prevOpen","ref","aria-controls","aria-haspopup","Popper","anchorEl","role","disablePortal","TransitionProps","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","paddingTop","NavigationBar","fixedNav","navDisplayFlex","linkText","linkPadding","activeLinkText","activeAboutLinkText","anchorRef","setOpen","handleClose","isScrolledToBottom","setIsScrolledToBottom","handleScroll","windowHeight","innerHeight","documentElement","offsetHeight","body","html","docHeight","scrollHeight","clientHeight","windowBottom","pageYOffset","localStorage","setItem","scrollY","getItem","scrollTo","addEventListener","removeEventListener","linkItemStyle","mobileNavigation","List","aria-labelledby","ListItem","links","duration","activeClass","spy","smooth","desktopNavigation","beanLogoFilter","beanLogo","edge","Toolbar","Container","gridStyle","lineStyle","pegMaintenanceStyle","pegMaintenanceSpanStyle","StatBalance","gridWidth","Stats","four","one","two","three","isNaN","PegMaintenance","price","beanTWAPPrice","usdcTWAPPrice","podRate","totalPods","totalBeans","deltaSoil","deltaDemand","caseId","deltaWeather","currentBeans","targetBeans","newBeans","newSoil","minTotalSoil","maxTotalSoil","rainForecast","rainingSeasons","rainNextSeason","nextSeasonStats","currentSeasonStats","CircularProgressWithLabel","showBlip","lowvalue","displayLowNumber","rotation","voting","votingTitle","circles","CircularProgress","thickness","transform","Box","Typography","round","GovernanceTable","cell","cellTitle","BipTable","tableBips","voteProportion","bipID","tb","BIP","status","voted","Row","summaryBips","bipValue","bipIndex","colSpan","Collapse","in","timeout","unmountOnExit","Vote","futuraPT","rowSelected","selected","setSelected","displayBips","dp","row","seasonBips","newStalk","votedBips","stalkBips","userStalk","percentForNewStalk","percentForPrevStalk","isDynamic","offset","click","Governance","aBips","vBips","sBips","voteField","SeasonReward","SeasonTimer","timeDifference","timeInHours","floor","timeInMinutes","timeInSeconds","Seasons","nextSeasonTime","timeUntilSunrise","deadline","timer","setTime","setInterval","clearInterval","advanceButton","sunriseIcon","sunriseStats","governanceSection","BeanClaimSubModule","forwardRef","setIsFormDisabled","maxFromBeansVal","fromBeansField","toBeanField","useImperativeHandle","BeanDepositSubModule","fromBeanValue","setFromBeanValue","toStalkValue","setToStalkValue","toSeedsValue","setToSeedsValue","newFromEthNumber","depositedBeans","newToStalkValue","beanToStalk","beanField","ethField","toStalkField","toSeedsField","toSiloBeanField","BeanWithdrawSubModule","fromStalkValue","setFromStalkValue","fromSeedsValue","setFromSeedsValue","withdrawParams","setWithdrawParams","fromNumber","maxFromBeanVal","newFromBeanValue","getStalkRemoved","beansRemoved","stalkRemoved","crateBeansRemoved","fromBeanField","maxFromStalkVal","stalkToBean","maxFromSeedsVal","seedsToBean","toBurnStalkField","toBurnSeedsField","toTransitBeanField","unvoteTextField","SiloBeanModule","handlePageChange","depositRef","withdrawRef","claimRef","isFormDisabled","sections","beanDeposits","beanReceivableCrates","farmableBeanBalance","farmableStalkBalance","rawBeanDeposits","beanWithdrawals","LPClaimSubModule","maxFromLPVal","fromLPField","toLPField","toLPBeanField","toLPEthField","LPDepositSubModule","fromLPValue","setFromLPValue","toSellBeansValue","setToSellBeansValue","toBuyBeansValue","setToBuyBeansValue","toSellEthValue","setToSellEthValue","toBuyEthValue","setToBuyEthValue","toSiloLPValue","setToSiloLPValue","beanConvertParams","setBeanConvertParams","newFromLPNumber","unstable_batchedUpdates","fromEtherNumber","fromLPNumber","buyNumber","sellNumber","fromConvertBeans","newBeanReserve","newEthReserve","ethToBean","handleConvertCrates","beanToEth","amount1","reserve1","amount2","reserve2","lpToDeposit","beanCrates","convertibleBeans","maxFromBeanSiloVal","claimableBeans","maxFromClaimableVal","maxBeans","fromEthField","toSiloLPField","resetFields","LPWithdrawSubModule","newFromLPValue","getStalkAndSeedsRemoved","seedsRemoved","lpRemoved","crateLPsRemoved","crateSeedsRemoved","stalkToLP","seedsToLP","toTransitLPField","SiloLPModule","lpDeposits","lpSeedDeposits","lpReceivableCrates","lpWithdrawals","beanstalkLPAllowance","setBeanstalkLPAllowance","Silo","createTheme","primary","main","secondary","ClaimableBalance","direction","buttonDescription","claimTitle","userClaimable","BalanceSectionModule","divStyle","poolBeansAndEth","marketCap","poolMarketCap","userTotalClaimable","farmable","grownStalkBalance","rootsBalance","totalBalancesSection","totalSiloBeans","totalTransitBeans","totalSiloLP","totalTransitLP","SendSubModule","snappedToAddress","setSnappedToAddress","setIsValidAddress","toAddressUpdated","newToAddress","setToAddress","substring","toAddressField","setAddress","fromAddress","toAddress","SwapSubModule","fromReserve","orderIndex","toReserve","newToValue","toValueUpdated","newToNumber","proposedNewFromValue","fromField","toField","toBalance","switchField","setOrderIndex","expectedBeanPrice","estbeanReserve","endPrice","usdcPrice","getExpectedBeanPrice","TradeModule","conversionFactor","handleSwapCallback","uniswapBeanAllowance","minimumToAmount","setUniswapBeanAllowance","Trade","App","defaultNavMapping","allowances","allowanceHandlers","totalBalance","userBalance","EXPONENTIAL_AT","initBN","initialized","setInitialized","setMetamaskFailure","poolForLP","setAllowances","prevAllowances","harvestableBalance","setUserBalance","setTotalBalance","setSeason","setWeather","setPrices","setBips","setHasActiveBIP","contractEvents","eventParsingParametersRef","app","processAccountBalances","accountBalances","lpReserves","currentSeason","minReceivables","processTotalBalances","totalBalances","bipInfo","lpReservesForTokenReserves","tokenReserves","rawBeanReserve","rawEthReserve","processPrices","referenceTokenReserves","twapPrices","usdcMultiple","exponentiatedBy","beanEthPrice","usdcEthPrice","processEvents","eventParsingParameters","userLPSeedDeposits","userLPDeposits","userPlots","userBeanDeposits","crateBeans","seeds","crateLP","beansClaimed","partialIndex","delete","hi","fb","fs","gs","ce","br","er","beanDepositsBalance","lpDepositsBalance","userBeanWithdrawals","userBeanReceivableCrates","userLPWithdrawals","userLPReceivableCrates","prevUserBalance","updateAllBalances","accountBalancePromises","totalBalancePromises","pricePromises","execute","ReactDOM","updateBalanceState","balanceInitializers","navMapping","splice","navItem","verticalAlign","ThemeProvider","CssBaseline","name","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode"],"mappings":"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","file":"static/js/main.db22f90f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bean-logo.50be834d.svg\";","export const bipsList = [\n  {path: '/Bips/bip-0.html', title: 'Silo Refactor'},\n]\n","  /* About Links */\nexport const BEAN_TOKEN_LINK = 'https://v2.info.uniswap.org/token/0xdc59ac4fefa32293a95889dc396682858d52e5db'\nexport const SILO_CONTRACT_LINK = 'https://etherscan.io/address/0xc1e088fc1323b20bcbee9bd1b9fc9546db5624c5'\nexport const UNISWAP_CONTRACT_LINK = 'https://v2.info.uniswap.org/pair/0x87898263b6c5babe34b4ec53f22d98430b91e371'\n\nexport const TELEGRAM_LINK = 'https://t.me/joinchat/buIZ-GQiQS8xMTIx'\nexport const DISCORD_LINK = 'https://discord.gg/y4cJNv5DTM'\nexport const GITHUB_LINK = 'https://github.com/BeanstalkFarms/Beanstalk'\n\n/* Path Links */\nexport const HOW_TO_PATH = '/About/How-To.html'\nexport const HOW_TO_MOBILE_PATH = '/About/How-To-Mobile.html'\nexport const INTRO_TO_PATH = '/About/Intro-to-Beanstalk.html'\nexport const WHITEPAPER = '/About/beanstalk.pdf'\n\n  /* Metamask Link */\nexport const METAMASK_LINK = 'https://metamask.io/download'\nexport const HOW_TO_MM_PATH = '/About/How-To.html#connect-your-metamask-wallet-to-beanstalk'\n\nexport const SLIPPAGE_LINK = 'https://coinmarketcap.com/alexandria/glossary/slippage'\n","export const BEAN = {\n  addr: '0xDC59ac4FeFa32293A95889Dc396682858d52e5Db', // Mainnet\n  decimals: 6,\n  symbol: 'Bean',\n}\n\nexport const BEANSTALK = {\n  addr: '0xC1E088fC1323b20BCBee9bd1B9fC9546db5624C5',\n  decimals: 6,\n}\n\nexport let UNI_V2_ETH_BEAN_LP = {\n  addr: '0x87898263B6C5BABe34b4ec53F22d98430b91e371', // Mainnet\n  // addr: '0x298c5f1f902c5bDc2936eb44b3E0E8675F40B8db', // Ropsten\n  decimals: 18,\n}\n\nexport const SEEDS = {\n  addr: '',\n  decimals: 6,\n}\n\nexport const UNI = {\n  addr: '0x88ff79eB2Bc5850F27315415da8685282C7610F9',\n  decimals: 18,\n  symbol: 'UNI',\n}\n\nexport const USDC = {\n  addr: '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48',\n  decimals: 6,\n  symbol: 'USDC',\n}\n\nexport const ETH = {\n  decimals: 18,\n  symbol: 'ETH',\n}\n\nexport const STALK = {\n  addr: '0x9d4454B023096f34B160D6B654540c56A1F81688',\n  decimals: 10,\n}\n\nexport let WETH = {\n  addr: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2', // Mainnet\n  // addr: '0xc778417E063141139Fce010982780140Aa0cD5Ab', // Ropsten\n  decimals: 18,\n}\n\nexport let UNI_V2_USDC_ETH_LP = {\n  addr: '0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc', // Mainnet\n  // addr: '0x681A4164703351d6AceBA9D7038b573b444d3353', // Ropsten\n  decimals: 18,\n}\n\n\nexport function changeNetwork(chainId) {\n  if (chainId === 1) {\n    UNI_V2_USDC_ETH_LP.addr = '0xB4e16d0168e52d35CaCD2c6185b44281Ec28C9Dc'\n    WETH.addr = '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2'\n    UNI_V2_ETH_BEAN_LP.addr = '0x87898263B6C5BABe34b4ec53F22d98430b91e371'\n  } else if (chainId === 3) {\n    UNI_V2_USDC_ETH_LP.addr = '0x681A4164703351d6AceBA9D7038b573b444d3353'\n    WETH.addr = '0xc778417E063141139Fce010982780140Aa0cD5Ab'\n    UNI_V2_ETH_BEAN_LP.addr = '0x298c5f1f902c5bDc2936eb44b3E0E8675F40B8db'\n  }\n}\n","    /* Governance */\nexport const GOVERNANCE_PERIOD = 168 /* 168 seasons */\nexport const GOVERNANCE_EMERGENCY_PERIOD = 86400 /* 86400 seconds = 1 day */\nexport const GOVERNANCE_PASS_THRESHOLD = 5e17 /* 1/2 */\nexport const GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR = 2\nexport const GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR = 3\nexport const GOVERNANCE_EXPIRATION = 25 /* 24 + 1 seasons */\nexport const GOVERNANCE_PROPOSAL_THRESHOLD = 1e16 /* 0.5% */\nexport const BASE_COMMIT_INCENTIVE = 1e8 /* 100 beans */\n\n    /* Silo */\nexport const BASE_ADVANCE_INCENTIVE = 1e8 /* 100 beans */\n\nexport const BEAN_TO_STALK = 1\nexport const BEAN_TO_SEEDS = 2\nexport const LPBEAN_TO_STALK = 2\nexport const LPBEANS_TO_SEEDS = 4\n\nexport const LP_TO_SEEDS = 8\nexport const UNISWAP_BASE_LP = 1e-15\n\nexport const WITHDRAWAL_FROZEN = 25 /* Frozen for 24 + 1 Seasons upon Withdrawal */\n\n    /* Field */\nexport const SOIL_MAX_RATIO_CAP = 0.25 /* 25% */\nexport const SOIL_MIN_RATIO_CAP = 0.001 /* 0.1% */\n\n    /* Sun */\nexport const HARVESET_PERCENTAGE = 50 /* 50% */\n\n    /* Weather */\nexport const POD_RATE_LOWER_BOUND = 5 /* 5% */\nexport const OPTIMAL_POD_RATE = 15 /* 15% */\nexport const POD_RATE_UPPER_BOUND = 25 /* 25% */\n\nexport const DELTA_POD_DEMAND_LOWER_BOUND = 0.98 /* 98% */\nexport const DELTA_POD_DEMAND_UPPER_BOUND = 1.02 /* 102% */\n\n    /* Season */\nexport const STEADY_SOW_TIME = 60 /* 60 seconds */\nexport const RAIN_TIME = 24 /* 24 Seasons */\nexport const PEG_WEATHER_CASES = [3,1,0,0,-1,-3,-3,0,3,1,0,0,-1,-3,-3,0,3,3,1,0,0,0,-1,0,3,3,1,0,1,0,-1,0] /* Peg Maintenance Weather Cases */\n\n    /* Website Settings */\nexport const BASE_SLIPPAGE = 0.995 /* 0.5% slippage */\nexport const SLIPPAGE_THRESHOLD = 0.97 /* 3% slippage threshold for frontrunning */\nexport const LP_FEE = 0.003 /* 0.3% LP fee */\nexport const MIN_BALANCE = 0.05 /* 0.05 minimum eth withtheld to transact */\n\nexport const MAX_UINT32 = 4294967295\n\nexport const UNISWAP_V2_ROUTER = '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D'\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  UNI_V2_ETH_BEAN_LP,\n  UNI_V2_USDC_ETH_LP\n} from '../constants'\nimport {\n  account,\n  beanstalkContract,\n  pairContract,\n  tokenContract,\n  txCallback\n} from './index'\n\nconst IGNORED_EVENTS = new Set(['SeasonSnapshot', 'WeatherChange', 'Swap', 'Transfer'])\n\nconst benchmarkStart = (operation) => {\n  console.log(`LOADING ${operation}`)\n  return Date.now()\n}\nconst benchmarkEnd = (operation, startTime) => {\n  console.log(`LOADED ${operation} (${(Date.now() - startTime) / 1e3} seconds)`)\n}\n\nlet listeningForEvents = false\nlet lastPriceRefresh = (new Date()).getTime()\nlet lastTotalsRefresh = (new Date()).getTime()\nlet newEventHashes = new Set()\n\nexport async function initializeEventListener(callback, updatePrices, updateTotals, setContractEvents, setLastCross) {\n  const startTime = benchmarkStart('EVENT LISTENER')\n\n  const beanstalk = beanstalkContract()\n  const bean = tokenContract(BEAN)\n  const beanPair = pairContract(UNI_V2_ETH_BEAN_LP)\n  const usdcPair = pairContract(UNI_V2_USDC_ETH_LP)\n\n  const events = await beanstalk.getPastEvents('allEvents', {\n    fromBlock: 0,\n    toBlock: 'latest'\n  })\n  benchmarkEnd('EVENT LISTENER (BEANSTALK)', startTime)\n  \n  let allEvents = events.filter((event) => (event.returnValues.account === account))\n  const si = events.filter((event) => (event.event === 'SupplyIncrease'))\n  const sd = events.filter((event) => (event.event === 'SupplyDecrease'))\n  const sp = events.filter((event) => (event.event === 'SeasonOfPlenty'))\n  const sib = si.map((e) => e.blockNumber)\n  const sdb = sd.map((e) => e.blockNumber)\n  const [first, last] = sdb[sdb.length - 1] >  sib[sib.length - 1] ? [si, sd] : [sd, si]\n  let lastCrossEvent = sdb[sdb.length - 1] >  sib[sib.length - 1] ? 'SupplyDecrease' : 'SupplyIncrease'\n  const firstBlockNumbers = first.map((e) => e.blockNumber)\n  const lastBlockNumbers = last.map((e) => e.blockNumber)\n\n  const lastSopSeason = sp.length !== 0 ? sp[sp.length - 1].returnValues.season : 0\n  let i = last.length - 1\n  while(lastBlockNumbers[i - 1] > firstBlockNumbers[firstBlockNumbers.length - 1]) i--\n  const lastSwitchSeason = last[i] !== undefined ? last[i].returnValues.season : 1\n  const lastCross = Math.max(lastSopSeason, lastSwitchSeason)\n\n  Promise.all([\n    beanPair.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest'\n    }),\n    bean.getPastEvents('allEvents', {\n      fromBlock: 0,\n      toBlock: 'latest'\n    }),\n  ]).then((contractEventLists) => {\n    benchmarkEnd('EVENT LISTENER (BEAN/PAIR)', startTime)\n    const filteredEvents = Array.prototype.concat.apply([], contractEventLists).filter((event) => (\n      !IGNORED_EVENTS.has(event.event)\n      && (event.returnValues.from === account\n          || event.returnValues.to === account\n          || event.returnValues.spender === account\n      )\n    ))\n    allEvents = allEvents.concat(filteredEvents)\n    setContractEvents(allEvents)\n  })\n\n  const eventInitializers = [lastCross, allEvents]\n  if (listeningForEvents) {\n    benchmarkEnd('EVENT LISTENER (already listening)', startTime)\n    return eventInitializers\n  }\n  listeningForEvents = true\n\n  /* Listen for new Contract events */\n  beanPair.events.allEvents({fromBlack: 'latest'}, function (error, event) {\n    if ((new Date()).getTime() - lastPriceRefresh > 5000\n        && (event.returnValues.to === undefined\n            || event.returnValues.to.toLowerCase() !== account.toLowerCase())) {\n      console.log('UPDATING PRICES!')\n      updatePrices()\n      lastPriceRefresh = (new Date()).getTime()\n    }\n\n    /* Temporarily Ignoring Bean Pair events\n    if (IGNORED_EVENTS.has(event.event)) {\n      return\n    }\n    const newEventHash = event.transactionHash + String(event.logIndex)\n    if (newEventHashes.has(newEventHash)) {\n      return\n    }\n    newEventHashes.add(newEventHash)\n\n    if (error === null\n        && (event.returnValues.from === account\n            || event.returnValues.to === account\n            || event.returnValues.spender === account)) {\n      allEvents = [...allEvents, event]\n      setContractEvents(allEvents)\n    }\n    else if (event.returnValues.to === UNISWAP_V2_ROUTER) {\n      web3.eth.getTransaction(event.transactionHash).then((t) => {\n        if (t.from === account) {\n          allEvents = [...allEvents, event]\n          setContractEvents(allEvents)\n        }\n      })\n    }\n    */\n  })\n  usdcPair.events.Swap({fromBlack: 'latest'}, function (error, event) {\n    if ((new Date()).getTime() - lastPriceRefresh > 5000) {\n      console.log('UPDATING PRICES!')\n      updatePrices()\n      lastPriceRefresh = (new Date()).getTime()\n    }\n  })\n  beanstalk.events.allEvents({fromBlock:'latest'}, function (error, event) {\n    if (IGNORED_EVENTS.has(event.event)) {\n      return\n    }\n    const newEventHash = event.transactionHash + String(event.logIndex)\n    if (newEventHashes.has(newEventHash)) {\n      return\n    }\n    newEventHashes.add(newEventHash)\n\n    if (event.returnValues.account !== undefined\n        && event.returnValues.account.toLowerCase() === account.toLowerCase()) {\n      allEvents = [...allEvents, event]\n      callback(allEvents)\n    } else if (event.event === 'Sunrise') {\n      callback(allEvents)\n      txCallback()\n      lastTotalsRefresh = (new Date()).getTime()\n      lastPriceRefresh = (new Date()).getTime()\n    } else if (event.event === 'SupplyIncrease' && lastCrossEvent === 'SupplyDecrease') {\n      setLastCross(event.returnValues.season)\n      lastCrossEvent = 'SupplyIncrease'\n    } else if (event.event === 'SupplyDecrease' && lastCrossEvent === 'SupplyIncrease') {\n      setLastCross(event.returnValues.season)\n      lastCrossEvent = 'SupplyDecrease'\n    } else if (event.event === 'SeasonOfPlenty' ) {\n      setLastCross(event.returnValues.season)\n    } else {\n      if ((new Date()).getTime() - lastTotalsRefresh > 5000) {\n        console.log('UPDATING TOTALS!')\n        updateTotals()\n        lastTotalsRefresh = (new Date()).getTime()\n      }\n    }\n  })\n\n  benchmarkEnd('EVENT LISTENER', startTime)\n  return eventInitializers\n}\n\nexport function parseWithdrawals(withdrawals, index: BigNumber) {\n   let receivable = new BigNumber(0)\n   let transit = new BigNumber(0)\n   let transitWithdrawals = {}\n   let receivableWithdrawals = {}\n   Object.keys(withdrawals).forEach(s => {\n     if ((new BigNumber(s)).isLessThanOrEqualTo(index)) {\n       receivable = receivable.plus(withdrawals[s])\n       receivableWithdrawals[s] = withdrawals[s]\n     }\n     else {\n       transit = transit.plus(withdrawals[s])\n       transitWithdrawals[s] = withdrawals[s]\n     }\n   })\n   return [transit, receivable, transitWithdrawals, receivableWithdrawals]\n}\n\nexport function addRewardedCrates(crates, season, rewardedBeans, rewardedStalk) {\n  if (rewardedBeans.isEqualTo(0)) return crates\n  let rewardedSeasons = (\n    rewardedStalk\n      .dividedBy(rewardedBeans.multipliedBy(0.0002))\n      .integerValue(BigNumber.ROUND_DOWN)\n  )\n  rewardedStalk = (\n    rewardedStalk\n      .minus(rewardedSeasons.multipliedBy(rewardedBeans).multipliedBy(0.0002))\n  )\n  // BigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_DOWN})\n  // const previousSeasonBeans = new BigNumber(rewardedStalk.dividedBy(0.0002).toFixed(6))\n  // const seasonBeans = new BigNumber(rewardedBeans.minus(previousSeasonBeans).toFixed(6))\n  BigNumber.set({ ROUNDING_MODE: BigNumber.ROUND_HALF_UP})\n  const ds = parseInt(season.minus(rewardedSeasons))\n  crates[ds] = rewardedBeans\n  // crates[ds] = (crates[ds] === undefined) ? seasonBeans : crates[ds].plus(seasonBeans)\n  // if (previousSeasonBeans.isGreaterThan(0)) {\n  //   const pds = parseInt(season.minus(rewardedSeasons).minus(1))\n  //   crates[pds] = (crates[pds] === undefined) ? previousSeasonBeans : crates[pds].plus(previousSeasonBeans)\n  // }\n  return crates\n}\n\nexport function parsePlots(plots, index: BigNumber) {\n   let pods = new BigNumber(0)\n   let harvestablePods = new BigNumber(0)\n   let unharvestablePlots = {}\n   let harvestablePlots = {}\n   Object.keys(plots).forEach(p => {\n     if ((plots[p].plus(p)).isLessThanOrEqualTo(index)) {\n       harvestablePods = harvestablePods.plus(plots[p])\n       harvestablePlots[p] = plots[p]\n     }\n     else if ((new BigNumber(p)).isLessThan(index)) {\n       harvestablePods = harvestablePods.plus(index.minus(p))\n       pods = pods.plus(plots[p].minus(index.minus(p)))\n       harvestablePlots[p] = index.minus(p)\n       unharvestablePlots[index.minus(p).plus(p)] = plots[p].minus(index.minus(p))\n     }\n     else {\n       pods = pods.plus(plots[p])\n       unharvestablePlots[p] = plots[p]\n     }\n   })\n\n   return [pods, harvestablePods, unharvestablePlots, harvestablePlots]\n}\n","import { account, beanstalkContract, txCallback } from './index'\n\nexport const sowBeans = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndSowBeans(amount, claimable)\n      : beanstalkContract().methods.sowBeans(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const buyAndSowBeans = async (amount, buyBeanAmount, ethAmount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimBuyAndSowBeans(amount, buyBeanAmount, claimable)\n      : beanstalkContract().methods.buyAndSowBeans(amount, buyBeanAmount)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const harvest = async (plots, callback) => {\n  await beanstalkContract().methods.harvest(plots).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","import { account, beanstalkContract, txCallback } from './index'\n\nexport const vote = async (bip, callback) => {\n  await beanstalkContract().methods.vote(bip).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const unvote = async (bip, callback) => {\n  await beanstalkContract().methods.unvote(bip).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const percentForStalk = (stalk, totalStalk) => {\n  return stalk.dividedBy(totalStalk).multipliedBy(100).decimalPlaces(2).toNumber()\n}\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  BEANSTALK,\n  ETH,\n  STALK,\n  UNI_V2_ETH_BEAN_LP,\n  UNI_V2_USDC_ETH_LP,\n  UNISWAP_V2_ROUTER,\n} from '../constants'\nimport {\n  account,\n  beanstalkContract,\n  initializing,\n  pairContract,\n  tokenContract,\n  toTokenUnitsBN,\n  web3\n} from './index'\n\n  /* Client is responsible for calling execute() */\nexport const createLedgerBatch = () => (\n  new web3.BatchRequest()\n)\n\nconst makeBatchedPromises = (batch, promisesAndResultHandlers) => {\n  const batchedPromises = promisesAndResultHandlers.map(methodAndHandler => (\n    new Promise((resolve, reject) => {\n      batch.add(methodAndHandler[0].call.request({}, 'latest', (error, result) => {\n        if (result !== undefined)\n          resolve(methodAndHandler[1](result))\n        else\n          reject(error)\n      }))\n    })\n  ))\n  return Promise.all(batchedPromises)\n}\n\nconst identityResult = (result) => ( result )\nconst bigNumberResult = (result) => ( new BigNumber(result) )\nconst tokenResult = (token) => (\n  result => toTokenUnitsBN(new BigNumber(result), token.decimals)\n)\n\nexport async function getEtherBalance() {\n  return tokenResult(ETH)(await web3.eth.getBalance(account))\n}\n\nexport async function getBlockTimestamp(blockNumber) {\n  await initializing\n  return (await web3.eth.getBlock(blockNumber)).timestamp\n}\n\n  /* Batched Getters */\nexport const getAccountBalances = async (batch) => {\n  const bean = tokenContract(BEAN)\n  const lp = tokenContract(UNI_V2_ETH_BEAN_LP)\n  const beanstalk = beanstalkContract()\n\n  return makeBatchedPromises(batch, [\n    [bean.methods.allowance(account, UNISWAP_V2_ROUTER), bigNumberResult],\n    [bean.methods.allowance(account, BEANSTALK.addr), bigNumberResult],\n    [lp.methods.allowance(account, BEANSTALK.addr), bigNumberResult],\n    [beanstalk.methods.balanceOfEth(account), tokenResult(ETH)],\n    [bean.methods.balanceOf(account), tokenResult(BEAN)],\n    [lp.methods.balanceOf(account), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.balanceOfSeeds(account), tokenResult(BEANSTALK)],\n    [beanstalk.methods.balanceOfStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.lockedUntil(account), bigNumberResult],\n    [beanstalk.methods.balanceOfFarmableBeans(account), tokenResult(BEANSTALK)],\n    [beanstalk.methods.balanceOfFarmableStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.balanceOfGrownStalk(account), tokenResult(STALK)],\n    [beanstalk.methods.balanceOfRoots(account), tokenResult(BEANSTALK)],\n  ])\n}\n/* last balanceOfIncreaseStalk is balanceOfGrownStalk once transitioned */\n\nexport const getTotalBalances = async (batch) => {\n  const bean = tokenContract(BEAN)\n  const lp = tokenContract(UNI_V2_ETH_BEAN_LP)\n  const beanstalk = beanstalkContract()\n\n  return makeBatchedPromises(batch, [\n    [bean.methods.totalSupply(), tokenResult(BEAN)],\n    [lp.methods.totalSupply(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalSeeds(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.totalStalk(), tokenResult(STALK)],\n    [beanstalk.methods.totalDepositedBeans(), tokenResult(BEAN)],\n    [beanstalk.methods.totalDepositedLP(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalWithdrawnBeans(), tokenResult(BEAN)],\n    [beanstalk.methods.totalWithdrawnLP(), tokenResult(UNI_V2_ETH_BEAN_LP)],\n    [beanstalk.methods.totalSoil(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.podIndex(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.harvestableIndex(), tokenResult(BEANSTALK)],\n    [beanstalk.methods.totalRoots(), tokenResult(BEANSTALK)],\n    [\n      beanstalk.methods.weather(),\n      stringWeather => ({\n        didSowBelowMin: stringWeather.didSowBelowMin,\n        didSowFaster: stringWeather.didSowFaster,\n        lastDSoil: tokenResult(BEAN)(stringWeather.lastDSoil),\n        lastSoilPercent: bigNumberResult(stringWeather.lastSoilPercent),\n        lastSowTime: bigNumberResult(stringWeather.lastSowTime),\n        nextSowTime: bigNumberResult(stringWeather.nextSowTime),\n        startSoil: tokenResult(BEAN)(stringWeather.startSoil),\n        weather: bigNumberResult(stringWeather.yield),\n      })\n    ],\n    [\n      beanstalk.methods.rain(),\n      stringRain => ({\n        raining: stringRain.raining,\n        rainStart: bigNumberResult(stringRain.start),\n      })\n    ],\n    [\n      beanstalk.methods.time(),\n      time => ({\n        season: bigNumberResult(time.current),\n        start: bigNumberResult(time.start),\n        period: bigNumberResult(time.period),\n        timestamp: bigNumberResult(time.timestamp),\n      })\n    ],\n  ])\n}\n\n  /* TODO: batch BIP detail ledger reads */\nexport const getBips = async () => {\n  const beanstalk = beanstalkContract()\n  const numberOfBips = bigNumberResult(await beanstalk.methods.numberOfBips().call())\n  var bips = []\n  for (var i = new BigNumber(0); i.isLessThan(numberOfBips); i = i.plus(1)) {\n    const bip = await beanstalk.methods.bip(i.toString()).call()\n    const bipRoots = (\n      bip.endTotalRoots.toString() === '0'\n        ? await beanstalk.methods.rootsFor(i.toString()).call()\n        : bip.roots\n    )\n    const bipDict = {\n      id: i,\n      executed: bip.executed,\n      increaseBase: bip.increaseBase,\n      pauseOrUnpause: bigNumberResult(bip.pauseOrUnpause),\n      start: bigNumberResult(bip.start),\n      period: bigNumberResult(bip.period),\n      proposer: bip.propser,\n      roots: tokenResult(STALK)(bipRoots),\n      endTotalRoots: tokenResult(STALK)(bip.endTotalRoots),\n      stalkBase: bigNumberResult(bip.stalkBase),\n      timestamp: bigNumberResult(bip.timestamp),\n      updated: bigNumberResult(bip.updated),\n      active: false\n    }\n    bips.push(bipDict)\n  }\n\n  let hasActiveBIP = false\n  const activeBips = await beanstalk.methods.activeBips().call()\n  activeBips.forEach(id => {\n    hasActiveBIP = true\n    bips[parseInt(id)].active = true\n  })\n  return [bips, hasActiveBIP]\n}\n\nexport const getPrices = async (batch) => {\n  const beanstalk = beanstalkContract()\n  const referenceLPContract = pairContract(UNI_V2_USDC_ETH_LP)\n  const lpContract = pairContract(UNI_V2_ETH_BEAN_LP)\n\n  return makeBatchedPromises(batch, [\n    [\n      referenceLPContract.methods.getReserves(),\n      reserves => [bigNumberResult(reserves._reserve0), bigNumberResult(reserves._reserve1)]\n    ],\n    [\n      lpContract.methods.getReserves(),\n      reserves => [bigNumberResult(reserves._reserve0), bigNumberResult(reserves._reserve1)]\n    ],\n    [lpContract.methods.token0(), identityResult],\n    [\n      beanstalk.methods.getTWAPPrices(),\n      prices => [toTokenUnitsBN(prices[0], 18), toTokenUnitsBN(prices[1], 18)]\n    ],\n  ])\n}\n","import BigNumber from 'bignumber.js'\nimport {\n  BEAN,\n  BEANSTALK,\n  UNI_V2_ETH_BEAN_LP,\n  UNISWAP_V2_ROUTER\n} from '../constants'\nimport BeanLogo from '../img/bean-logo.svg'\nimport ClaimableIcon from '../img/claimable-icon.svg'\nimport EthereumLogo from '../img/eth-logo.svg'\nimport LPLogo from '../img/lp-logo.svg'\nimport PodLogo from '../img/pod-logo.svg'\nimport SeedLogo from '../img/seed-logo.svg'\nimport SiloIcon from '../img/silo-icon.svg'\nimport StalkLogo from '../img/stalk-logo.svg'\nimport TransitIcon from '../img/transit-icon.svg'\nimport UniswapIcon from '../img/uniswap-icon.svg'\nimport { account, txCallback, tokenContract } from './index'\n\nconst MAX_UINT256 = '0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff'\n\nexport enum CryptoAsset     { Bean = 0, Ethereum, LP }\nexport enum SiloAsset       { Stalk = 3, Seed, Bean, LP }\nexport enum TransitAsset    { Bean = 7, LP }\nexport enum FarmAsset       { Pods = 9 }\nexport enum ClaimableAsset  { Bean = 10, LP, Ethereum, Stalk }\nexport enum UniswapAsset    { Bean = 14 }\nexport type Token = CryptoAsset | SiloAsset | FarmAsset | ClaimableAsset | TransitAsset | UniswapAsset\n\nexport const transferBeans = async (to: string, amount: BigNumber, callback)  => {\n  await tokenContract(BEAN).methods.transfer(to, amount).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const approveUniswapBean = async (callback) => {\n  approveToken(BEAN, account, UNISWAP_V2_ROUTER, MAX_UINT256, callback)\n}\n\nexport const approveBeanstalkBean = async (callback) => {\n  approveToken(BEAN, account, BEANSTALK.addr, MAX_UINT256, callback)\n}\n\nexport const approveBeanstalkLP = async (callback) => {\n  approveToken(UNI_V2_ETH_BEAN_LP, account, BEANSTALK.addr, MAX_UINT256, callback)\n}\n\nexport const approveToken = async (token, address: String, spender: String, amount: String, callback: (number) => void) => {\n  await tokenContract(token).methods.approve(spender, amount).send({from: address})\n    .on('transactionHash', (hash) => { callback(1) })\n    .on('receipt',         (hash) => { callback(2) })\n    .on('error',           (error) => { callback(0) })\n}\n\nexport function TokenLabel(tokenType: Token): string {\n  switch (tokenType) {\n    case CryptoAsset.Bean:\n      return 'Beans'\n    case CryptoAsset.Ethereum:\n      return 'ETH'\n    case CryptoAsset.LP:\n      return 'LP'\n    case SiloAsset.Stalk:\n      return 'Stalk'\n    case SiloAsset.Seed:\n      return 'Seeds'\n    case SiloAsset.Bean:\n      return 'Deposited Beans'\n    case SiloAsset.LP:\n      return 'Deposited LP'\n    case TransitAsset.Bean:\n      return 'Withdrawn Beans'\n    case TransitAsset.LP:\n      return 'Withdrawn LP'\n    case FarmAsset.Pods:\n      return 'Pods'\n    case ClaimableAsset.Bean:\n      return 'Claimable Beans'\n    case ClaimableAsset.LP:\n      return 'Claimable LP'\n    case ClaimableAsset.Ethereum:\n      return 'Claimable ETH'\n    case ClaimableAsset.Stalk:\n      return 'Farmable Stalk'\n    case UniswapAsset.Bean:\n      return 'Pooled Beans'\n  }\n}\n\nexport function TokenImage(tokenType: Token): string {\n  switch (tokenType) {\n    case ClaimableAsset.Bean:\n    case CryptoAsset.Bean:\n    case SiloAsset.Bean:\n    case TransitAsset.Bean:\n    case UniswapAsset.Bean:\n        return BeanLogo\n\n    case ClaimableAsset.Ethereum:\n    case CryptoAsset.Ethereum:\n      return EthereumLogo\n\n    case ClaimableAsset.LP:\n    case CryptoAsset.LP:\n    case SiloAsset.LP:\n    case TransitAsset.LP:\n      return LPLogo\n\n    case ClaimableAsset.Stalk:\n    case SiloAsset.Stalk:\n      return StalkLogo\n\n    case SiloAsset.Seed:\n      return SeedLogo\n\n    case FarmAsset.Pods:\n      return PodLogo\n  }\n}\n\nexport function TokenTypeImage(tokenType: Token): string {\n  if (tokenType < 5 || tokenType === 9) return null\n  if (tokenType < 7) return SiloIcon\n  if (tokenType < 9) return TransitIcon\n  if (tokenType < 14) return ClaimableIcon\n  if (tokenType < 15) return UniswapIcon\n}\n\nexport function TrimBN(bn: BigNumber, decimals: number): BigNumber {\n  if (typeof bn !== 'object')\n    return new BigNumber(bn)\n\n  const numberString = bn.toString()\n  const decimalComponents = numberString.split('.')\n  if (bn.isLessThan(0) || decimalComponents.length < 2)\n    return bn\n\n  const decimalsFound = decimalComponents[1].length\n  const decimalsToTrim = decimalsFound < decimals ? 0 : decimalsFound - decimals\n  return new BigNumber(numberString.substr(0, numberString.length - decimalsToTrim))\n}\n\nexport function displayBN(bn: BigNumber) {\n  if (bn === undefined || bn.isLessThan(new BigNumber(0)))\n    return '0'\n  if(bn.isEqualTo(0))\n    return '0'\n  if (bn.isLessThanOrEqualTo(1e-8))\n    return '<.00000001'\n  if (bn.isLessThanOrEqualTo(1e-3))\n    return TrimBN(bn, 8).toFixed()\n\n  if (bn.isGreaterThanOrEqualTo(1e12))\n    return TrimBN(bn.dividedBy(1e12), 4) + 'T' /* Trillions */\n  if (bn.isGreaterThanOrEqualTo(1e9))\n    return TrimBN(bn.dividedBy(1e9), 3) + 'B' /* Billions */\n  if (bn.isGreaterThanOrEqualTo(1e6))\n    return TrimBN(bn.dividedBy(1e6), 2) + 'M' /* Millions */\n  if (bn.isGreaterThanOrEqualTo(1e3))\n    return TrimBN(bn.dividedBy(1e3), 2) + 'K' /* Thousands */\n\n  const decimals = bn.isGreaterThan(10) ? 2 : bn.isGreaterThan(1) ? 3 : 4\n  return TrimBN(bn, decimals).toFixed()\n}\n\nexport function displayFullBN(bn: BigNumber, maxDecimals: number = 18) {\n  return bn.toNumber().toLocaleString('en-US', {maximumFractionDigits: maxDecimals})\n}\n\nexport function MinBNs(array) : BigNumber {\n  return array.reduce(function(prev, curr) {\n    return prev.isLessThanOrEqualTo(curr) ? prev : curr\n  })\n}\n\nexport function MaxBNs(array) : BigNumber {\n  return array.reduce(function(prev, curr) {\n    return prev.isGreaterThan(curr) ? prev : curr\n  })\n}\n\nexport function MinBN(bn1: BigNumber, bn2: BigNumber): BigNumber {\n  if (bn1.isLessThanOrEqualTo(bn2))\n    return bn1\n  else\n    return bn2\n}\n\nexport function MaxBN(bn1: BigNumber, bn2: BigNumber): BigNumber {\n  if (bn1.isGreaterThan(bn2))\n    return bn1\n  else\n    return bn2\n}\n\nexport function toBaseUnitBN(rawAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const raw = new BigNumber(rawAmt)\n  const base = new BigNumber(10)\n  const decimalsBN = new BigNumber(decimals)\n  return raw.multipliedBy(base.pow(decimalsBN)).integerValue()\n}\n\nexport function toStringBaseUnitBN(rawAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const raw = new BigNumber(rawAmt)\n  const base = new BigNumber(10)\n  const decimalsBN = new BigNumber(decimals)\n  return raw.multipliedBy(base.pow(decimalsBN)).integerValue().toString()\n}\n\nexport function toTokenUnitsBN(tokenAmt: string| number| BigNumber, decimals: number): BigNumber {\n  const amt = new BigNumber(tokenAmt)\n  const digits = new BigNumber(10).pow(new BigNumber(decimals))\n  return amt.div(digits)\n}\n","export const notify = {\n  hash: (v: String) => console.log(`tx hash: ${v}`)\n}\n","import { account, beanstalkContract, txCallback } from './index'\nimport { notify } from './txNotifier.js'\n\nexport const sunrise = async () => {\n  await beanstalkContract().methods.sunrise().send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","import BigNumber from 'bignumber.js'\nimport { account, beanstalkContract, txCallback } from './index'\nimport { notify } from './txNotifier.js'\n\nexport const depositBeans = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndDepositBeans(amount, claimable)\n      : beanstalkContract().methods.depositBeans(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimAndWithdrawBeans = async (crates, amounts, claimable, callback) => {\n  await beanstalkContract().methods.claimAndWithdrawBeans(crates, amounts, claimable).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const withdrawBeans = async (crates, amounts, callback) => {\n  await beanstalkContract().methods.withdrawBeans(crates, amounts).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimBeans = async (withdrawals, callback) => {\n  await beanstalkContract().methods.claimBeans(withdrawals).send({ from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const depositLP = async (amount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAndDepositLP(amount, claimable)\n      : beanstalkContract().methods.depositLP(amount)\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const addAndDepositLP = async (lp: BigNumber, buyBeanAmount: BigNumber, buyEthAmount: BigNumber, ethAmount: BigNumber, addLP, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimAddAndDepositLP(lp, buyBeanAmount, buyEthAmount, addLP, claimable)\n      : beanstalkContract().methods.addAndDepositLP(lp, buyBeanAmount, buyEthAmount, addLP)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const convertAddAndDepositLP = async(lp: BigNumber, ethAmount: BigNumber, addLP, crates, amounts, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimConvertAddAndDepositLP(lp, addLP, crates, amounts, claimable)\n      : beanstalkContract().methods.convertAddAndDepositLP(lp, addLP, crates, amounts)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const withdrawLP = async (crates, amounts, callback) => {\n  await beanstalkContract().methods.withdrawLP(crates, amounts).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimAndWithdrawLP = async (crates, amounts, claimable, callback) => {\n  await beanstalkContract().methods.claimAndWithdrawLP(crates, amounts, claimable).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const removeAndClaimLP = async (withdrawals, minBeanAmount, minEthAmount, callback) => {\n  await beanstalkContract().methods.removeAndClaimLP(withdrawals, minBeanAmount, minEthAmount).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claimLP = async (withdrawals, callback) => {\n  await beanstalkContract().methods.claimLP(withdrawals).send({from: account})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const claim = async (claimable) => {\n  await beanstalkContract().methods.claim(claimable).send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const updateSilo = async () => {\n  await beanstalkContract().methods.updateSilo(account).send({from: account})\n    .on('transactionHash', (hash) => { notify.hash(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const buyAndDepositBeans = async (amount, buyBeanAmount, ethAmount, claimable, callback) => {\n  await (\n    claimable\n      ? beanstalkContract().methods.claimBuyAndDepositBeans(amount, buyBeanAmount, claimable)\n      : beanstalkContract().methods.buyAndDepositBeans(amount, buyBeanAmount)\n  ).send({from: account, value: ethAmount})\n    .on('transactionHash', (hash) => { callback() })\n    .on('receipt',         (hash) => { txCallback() })\n}\n","export default __webpack_public_path__ + \"static/media/claimable-icon.c6127cf9.svg\";","export default __webpack_public_path__ + \"static/media/eth-logo.b1d3f1e9.svg\";","export default __webpack_public_path__ + \"static/media/lp-logo.a7d6c1ec.svg\";","export default __webpack_public_path__ + \"static/media/pod-logo.f3120cbd.svg\";","export default __webpack_public_path__ + \"static/media/seed-logo.fe1c2c85.svg\";","export default __webpack_public_path__ + \"static/media/silo-icon.9e5b4cff.svg\";","export default __webpack_public_path__ + \"static/media/stalk-logo.624c3b0b.svg\";","export default __webpack_public_path__ + \"static/media/transit-icon.b69f1fba.svg\";","export default __webpack_public_path__ + \"static/media/uniswap-icon.43af9019.svg\";","import BigNumber from 'bignumber.js'\nimport { BEAN, WETH } from '../constants'\nimport { account, MinBN, txCallback, uniswapRouterContract } from './index'\n\nconst DEADLINE_FROM_NOW = 60 * 15\nconst createDeadline = () => ( Math.ceil(Date.now() / 1000) + DEADLINE_FROM_NOW )\n\nexport enum SwapMode { Bean = 0, BeanEthereum, Ethereum, LP, BeanEthereumSwap }\n\nexport const buyBeans = async (amountIn, amountOutMin, callback) => {\n  await uniswapRouterContract().methods.swapExactETHForTokens(\n    amountOutMin,\n    [WETH.addr, BEAN.addr],\n    account,\n    createDeadline(),\n  ).send({from: account, value: amountIn})\n    .on('transactionHash', (hash) => { callback(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const sellBeans = async (amountIn, amountOutMin, callback) => {\n  await uniswapRouterContract().methods.swapExactTokensForETH(\n    amountIn,\n    amountOutMin,\n    [BEAN.addr, WETH.addr],\n    account,\n    createDeadline(),\n  ).send({from: account})\n    .on('transactionHash', (hash) => { callback(hash) })\n    .on('receipt',         (hash) => { txCallback() })\n}\n\nexport const tokenForLP = (amount, reserve, totalLP) => {\n  return amount.multipliedBy(reserve).dividedBy(totalLP)\n}\n\nexport const poolForLP = (amount, reserve1, reserve2, totalLP) => {\n  if (amount.isLessThanOrEqualTo(0)\n      || reserve1.isLessThanOrEqualTo(0)\n      || reserve2.isLessThanOrEqualTo(0)\n      || totalLP.isLessThanOrEqualTo(0))\n      return [new BigNumber(0), new BigNumber(0)]\n  return [tokenForLP(amount, reserve1, totalLP), tokenForLP(amount, reserve2, totalLP)]\n}\n\nexport const lpForToken = (amount, reserve, totalLP) => {\n  return amount.multipliedBy(totalLP).dividedBy(reserve)\n}\n\nexport const lpForPool = (amount1, reserve1, amount2, reserve2, totalLP) => {\n  return MinBN(lpForToken(amount1, reserve1, totalLP), lpForToken(amount2, reserve2, totalLP))\n}\n\nexport const getToAmount = (amountIn: BigNumber, reserveIn: BigNumber, reserveOut: BigNumber) => {\n  if (amountIn.isLessThanOrEqualTo(0) || reserveIn.isLessThanOrEqualTo(0) || reserveOut.isLessThanOrEqualTo(0))\n    return new BigNumber(0)\n  const amountInWithFee = amountIn.multipliedBy(997)\n  const numerator = amountInWithFee.multipliedBy(reserveOut)\n  const denominator = (reserveIn.multipliedBy(1000)).plus(amountInWithFee)\n  return numerator.dividedBy(denominator)\n}\n\nexport const getFromAmount = (amountOut: BigNumber, reserveIn: BigNumber, reserveOut: BigNumber, decimals=6) => {\n  if (amountOut.isLessThanOrEqualTo(0) || reserveIn.isLessThanOrEqualTo(0) || reserveOut.isLessThanOrEqualTo(0))\n    return new BigNumber(0)\n  const numerator = reserveIn.multipliedBy(amountOut).multipliedBy(1000)\n  const denominator = (reserveOut.minus(amountOut)).multipliedBy(997)\n  return numerator.dividedBy(denominator).plus(Math.pow(10, 0 - decimals))\n}\n\nexport const getBuyAndAddLPAmount = (eth: BigNumber, ethReserve: BigNumber, beanReserve: BigNumber) => {\n  const zeroBN = new BigNumber(0)\n  const fee = new BigNumber(0.997)\n  const c = eth.multipliedBy(fee).multipliedBy(beanReserve).multipliedBy(beanReserve)\n  const b = zeroBN\n    .minus(fee.multipliedBy(2).multipliedBy(eth).multipliedBy(beanReserve))\n    .minus(fee.multipliedBy(ethReserve).multipliedBy(beanReserve))\n    .minus(ethReserve.multipliedBy(beanReserve))\n  const a = fee.multipliedBy(eth).plus(fee.multipliedBy(ethReserve));\n  const determinant = b.multipliedBy(b).minus(a.multipliedBy(c).multipliedBy(4))\n\n  const beans1 = zeroBN.minus(b.minus(determinant.sqrt())).dividedBy(a.multipliedBy(2))\n  const beans2 = zeroBN.minus(b.plus(determinant.sqrt())).dividedBy(a.multipliedBy(2))\n  const estBeans = getToAmount(eth, ethReserve, beanReserve)\n  return (\n    estBeans.minus(beans1).absoluteValue().isLessThanOrEqualTo(estBeans.minus(beans2).absoluteValue())\n      ? beans1\n      : beans2\n  )\n}\n","import Web3 from 'web3'\nimport { BEANSTALK, UNISWAP_V2_ROUTER, changeNetwork } from '../constants'\n\nexport * from './EventUtilities'\nexport * from './FieldUtilities'\nexport * from './GovernanceUtilities'\nexport * from './LedgerUtilities'\nexport * from './SeasonUtilities'\nexport * from './SiloUtilities'\nexport * from './TokenUtilities'\nexport * from './UniswapUtilities'\n\nlet ethereum\nlet accounts: any\nexport let initializing\nexport let web3: Web3\nexport let account: String\nexport let txCallback = null\nexport let metamaskFailure = -1\nexport let chainId = 1\n\nconst beanAbi = require('../constants/abi/Bean.json')\nconst beanstalkAbi = require('../constants/abi/Beanstalk.json')\nconst uniswapPairAbi = require('../constants/abi/UniswapV2Pair.json')\nconst uniswapRouterAbi = require('../constants/abi/UniswapV2Router02.json')\n\nexport const tokenContract = (token) => ( new web3.eth.Contract(beanAbi, token.addr) )\nexport const beanstalkContract = () => ( new web3.eth.Contract(beanstalkAbi, BEANSTALK.addr) )\nexport const pairContract = (pair) => ( new web3.eth.Contract(uniswapPairAbi, pair.addr) )\nexport const uniswapRouterContract = () => ( new web3.eth.Contract(uniswapRouterAbi, UNISWAP_V2_ROUTER) )\n\nexport async function initialize(): Promise<void> {\n  if (!ethereum) {\n    try {\n      ethereum = (window as any).ethereum\n      if (!Boolean(ethereum)) {\n        metamaskFailure = 0\n        return false\n      } if (!ethereum.isMetaMask) {\n        metamaskFailure = 1\n        return false\n      }\n      if (ethereum && (web3 === undefined)) {\n        web3 = new Web3(ethereum)\n        initializeMetaMaskListeners()\n        accounts = await ethereum.request({method: 'eth_requestAccounts'})\n        account = Web3.utils.toChecksumAddress(accounts[0])\n        chainId = parseInt(await ethereum.request({ method: 'eth_chainId' }))\n        if (!(chainId === 1) && !(chainId === 3)) {\n          metamaskFailure = 3\n          return false\n        }\n        changeNetwork(chainId)\n        if (account === undefined) {\n          metamaskFailure = 2\n          return false\n        }\n      }\n    } catch {\n      metamaskFailure = 2\n      return false\n    }\n    return true\n  } else {\n    await initializing\n    return true\n  }\n}\n\nasync function initializeMetaMaskListeners() {\n  const changeHandler = (accounts) => { window.location.reload() }\n  ethereum.on('accountsChanged', changeHandler)\n  ethereum.on('chainChanged', changeHandler)\n}\n\nexport function initializeCallback(callback) {\n  txCallback = callback\n}\n\nexport async function isAddress(a) {\n  return web3.utils.isAddress(a)\n}\n\nexport async function GetWalletAddress(): Promise<string | undefined> {\n  await initializing\n  if (accounts !== undefined)\n    return account\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABdQAAAEWCAYAAABv3hVRAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABiGSURBVHgB7d37cRvnuQbwBSjFF/nC8eSfM5PjiBVYHVgd2KkgTgV2KohVQZwKElcQp4KjdCBXQPoyI08mtihFlpTIAM73glwZYnh5Aexid4HfbwYDkCLly3C/B/u8/HZHs8lkVgEAAAAAAJe5M64AAAAAAIArKdQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAAAACABIU6AAAAAAAkKNQBAAAAACBBoQ4AAAAAAAkKdQAAAAAASFCoAwAAAABAgkIdAAAAAAASFOoAAAAAAJCgUAcAAAAAgASFOgAAAAAAJCjUAQAAAAAgQaEOAAAAAAAJCnUAAAAAAEhQqAMAAAAAQIJCHQAAAAAAEhTqAAAAAACQoFAHAAAAAIAEhToAAAAAACQo1AEAAAAAIEGhDgAAAAAACQp1AAAAAABIUKgDAAAAAECCQh0AAAAAABIU6gAAAAAAkKBQBwAA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\"","export default __webpack_public_path__ + \"static/media/Barn.d81a776e.svg\";","export default __webpack_public_path__ + \"static/media/Sun.e02a1495.svg\";","import React from 'react'\nimport { Button, InputAdornment, TextField } from '@material-ui/core'\nimport CheckIcon from '@material-ui/icons/Check'\nimport ClearIcon from '@material-ui/icons/Clear'\nimport CancelIcon from '@material-ui/icons/Cancel'\nimport { makeStyles } from '@material-ui/styles'\n\nexport default function AddressInputField(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontFamily: 'Lucida Console',\n      fontSize: 'calc(15px + 1vmin)',\n      fontWeight: '400',\n    }\n  }))()\n\n  const smallLabels = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: 'calc(9px + 0.7vmin)',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n    width: 'calc(100% - 13px)',\n  }\n\n  let endAdornment\n  let startAdornment\n  if (props.snapped) {\n    endAdornment = (\n      <InputAdornment position='end'>\n        <Button onClick={props.handleClear} >\n          <ClearIcon />\n        </Button>\n      </InputAdornment>\n    )\n    startAdornment = (\n      props.isValidAddress === true\n        ? <InputAdornment position='start'>\n            <CheckIcon style={{color: 'green'}} />\n          </InputAdornment>\n        : <InputAdornment position='start'>\n            <CancelIcon style={{color: 'red'}} />\n          </InputAdornment>\n    )\n  }\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>{'Recipient Address'}</div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0x00000'\n        variant='outlined'\n        size='medium'\n        type='text'\n        disabled={props.handleChange === undefined}\n        value={props.address}\n        onChange={props.handleChange}\n        onKeyDown={(e) => (false && e.preventDefault())}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            maxLength: 42\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment,\n          startAdornment\n        }}\n      />\n    </div>\n  )\n}\n\nAddressInputField.defaultProps = {\n  action: 'Send',\n  token: 'Beans',\n  maxval: 0,\n}\n","import { FormatTooltip, QuestionModule } from './index'\n\nexport default function BalanceModule(props) {\n\n  const spanContent = (\n    <span>\n      {props.content !== undefined\n        ? props.content\n        : <div className='BalanceModule-balanceContent' style={props.style}>{props.balance}</div>\n      }\n    </span>\n  )\n\n  const balanceSection = (\n    props.balanceDescription !== undefined\n      ? <FormatTooltip\n          margin={props.margin}\n          placement={props.placement !== undefined ? props.placement : 'right'}\n          title={props.balanceDescription}\n        >\n          {spanContent}\n        </FormatTooltip>\n      : spanContent\n  )\n\n  return (\n    <div>\n      <div className={'BalanceModule-title' + (props.swerve !== undefined ? ' TokenBalanceModule-header' : '')} style={props.style}>\n        {props.title}\n        <QuestionModule description={props.description} margin={props.questionMargin} widthTooltip={props.widthTooltip}/>\n      </div>\n      <div className={'BalanceModule-balance' + (props.swerve !== undefined ? ' TokenBalanceModule-content' : '')} style={props.style}>\n        {balanceSection}\n      </div>\n    </div>\n  )\n}\n\nBalanceModule.defaultProps = {\n  questionMargin: '-8px 0 0 -1px'\n}\n","import BigNumber from 'bignumber.js'\nimport { Fragment } from 'react'\nimport { AppBar, Button, Link, Tab, Tabs } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport LockIcon from '@material-ui/icons/Lock'\nimport { FormatTooltip } from './index'\n\nexport default function BaseModule(props) {\n  const classes = makeStyles(theme => ({\n    inputModule: {\n      backgroundColor: '#F5FAFF',\n      borderRadius: '25px',\n      color: 'black',\n      marginTop: '44px',\n      padding: '10px'\n    },\n    sectionTab: {\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: '18px',\n      minWidth: '44px',\n      textTransform: 'uppercase'\n    },\n    formButton: {\n      borderRadius: '15px',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '12px 12px',\n      width: '64%',\n      maxWidth: '200px'\n    },\n    indicator: {\n      backgroundColor: 'transparent',\n      display: 'flex',\n      justifyContent: 'center',\n      '& > span': {\n        backgroundColor: '#627264',\n        borderRadius: '3.5px',\n        height: '7px',\n        marginTop: '-8px',\n        maxWidth: '7px',\n        width: '100%'\n      }\n    },\n    noIndicator: {\n      backgroundColor: 'transparent'\n    }\n  }))()\n\n  function a11yProps(index) {\n    return {\n      key: `${index}`,\n      id: `full-width-tab-${index}`,\n      'aria-controls': `full-width-tabpanel-${index}`\n    }\n  }\n\n  const allowanceCallback = (transactionState) => {\n    switch(transactionState) {\n      case 1:\n        props.setAllowance(new BigNumber(-1))\n        break\n      case 2:\n        props.setAllowance(new BigNumber(1))\n        break\n      case 3:\n        if (props.allowance.isEqualTo(-1)) {\n          props.setAllowance(0)\n        }\n        break\n    }\n  }\n\n  const approveHandler = () => {\n    props.handleApprove(allowanceCallback)\n  }\n\n  let buttonLabel\n  let buttonHandler\n  if (props.allowance.isEqualTo(0)) {\n    buttonLabel = 'APPROVE'\n    buttonHandler = approveHandler\n  } else if (props.locked) {\n    buttonLabel = (\n      <Fragment>\n        <LockIcon/>\n        <div style={{style: 'inline-block'}}>{`${props.lockedSeasons} seasons`}</div>\n      </Fragment>\n    )\n  } else if (props.allowance.isGreaterThan(0)) {\n    buttonLabel = props.sectionTitles[props.section]\n    buttonHandler = props.handleForm\n  } else {\n    buttonLabel = 'WAITING . . .'\n    buttonHandler = null\n  }\n\n  let showButton\n  if (props.showButton) {\n    showButton = (\n      <FormatTooltip\n        placement='top'\n        margin='0 0 0 7px'\n        title={props.locked ? 'Unvote Active BIPs to Withdraw' : ''}\n      >\n        <div>\n          <Button\n            className={classes.formButton}\n            color='primary'\n            disabled={buttonLabel !== 'APPROVE' && (buttonHandler === null || props.isDisabled || props.locked)}\n            onClick={buttonHandler}\n            variant='contained'\n          >\n            {buttonLabel}\n          </Button>\n        </div>\n      </FormatTooltip>\n    )\n  } else {\n    <></>\n  }\n\n  return (\n    <AppBar className={classes.inputModule} position='static'>\n      <Tabs\n        classes={props.sectionTitles.length > 1 ? {indicator: classes.indicator} : {indicator: classes.noIndicator}}\n        indicatorColor='primary'\n        onChange={props.handleTabChange}\n        style={{width: '100%'}}\n        TabIndicatorProps={{ children: <span /> }}\n        textColor='primary'\n        value={props.section}\n        variant='fullWidth'\n      >\n      {\n        props.sectionTitles.map((sectionTitle, index) => {\n          return (\n            <Tab\n              className={classes.sectionTab}\n              disabled={props.sectionTitles.length < 2}\n              label={sectionTitle}\n              style={{color: 'black'}}\n              {...a11yProps(index)}\n            />\n          )\n        })\n      }\n      </Tabs>\n      <hr style={{color: 'primary', backgroundColor: 'primary', margin: '4px 8px'}} />\n      <form autoComplete='off' noValidate style={{padding: '0 10px 0 10px'}}>\n        <div style={{position: 'relative', zIndex: '0'}}>\n          {props.children}\n          {props.allowance.isEqualTo(0)\n            ? <div style={{backgroundColor: '#F5FAFF', opacity: '50%', position: 'absolute', top: '0', left: '0', width: '100%', height: '100%', zIndex: '1'}}>\n              </div>\n            : null\n          }\n        </div>\n        {showButton}\n        {props.allowance.isEqualTo(0)\n          ? <span>\n              To use this module, send an Approval by clicking the Approve button above.\n              <br/>\n              <Link style={{color: 'green'}} href='' onClick={(event) => {\n                event.preventDefault()\n                props.resetForm()\n              }}>\n                Reset Defaults\n              </Link>\n            </span>\n          : null\n        }\n      </form>\n    </AppBar>\n  )\n}\n\nBaseModule.defaultProps = {\n  allowance: new BigNumber(1),\n  isDisabled: false,\n  locked: false,\n  showButton: true,\n}\n","import { Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { TitleLabel } from './index'\n\nexport default function ContentSection(props) {\n  const classes = makeStyles(({\n    appSection: {\n      padding: '60px 30px'\n    },\n    sectionTitle: {\n      marginTop: '-28px',\n      width: '100%'\n    }\n  }))()\n\n  function renderTitle() {\n    if (props.title !== undefined) {\n      return (<div className={classes.sectionTitle}><TitleLabel>{props.title}</TitleLabel></div>)\n    }\n  }\n\n  return (\n    <div id={props.id} className='AppContent' style={props.style}>\n      <Grid container spacing={3} className={classes.appSection} justifyContent='center'>\n        { renderTitle() }\n        {props.children}\n      </Grid>\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport { MIN_BALANCE } from '../../constants'\nimport {\n  displayBN,\n  CryptoAsset,\n  MinBN,\n  SwapMode\n} from '../../util'\nimport { TokenInputField } from './index'\n\nexport default function EthInputField(props) {\n  if (!(props.mode === SwapMode.Ethereum || props.mode === SwapMode.BeanEthereum)) {\n    if (props.value.isGreaterThan(0)) props.handleChange(new BigNumber(-1))\n    return null\n  }\n\n  const textStyle = {\n    fontSize: '12px',\n    fontFamily: 'Futura-PT',\n    marginTop: '-10px'\n  }\n\n  const balance = props.balance\n\n  const maxBalance = (\n    balance.isGreaterThan(MIN_BALANCE)\n      ? balance.minus(MIN_BALANCE)\n      : new BigNumber(0)\n  )\n\n  const handleChange = (event) => {\n    if (event.target.value === undefined || event.target.value === '') {\n      props.handleChange(new BigNumber(-1))\n    } else {\n      props.handleChange(MinBN(balance, new BigNumber(event.target.value)))\n    }\n  }\n\n  const maxHandler = () => props.handleChange(maxBalance)\n\n  const textTransaction = `Buying About ${displayBN(props.buyBeans)} Beans ${props.sellEth !== undefined ? `with ${props.sellEth.toFixed(3)} ETH `: null}for ${props.updateExpectedPrice(props.sellEth !== undefined ? props.sellEth : props.value, props.buyBeans).toFixed(2)} Each`\n\n  return (\n    <>\n    <TokenInputField\n      balance={balance}\n      handleChange={handleChange}\n      maxHandler={maxHandler}\n      token={CryptoAsset.Ethereum}\n      value={props.value}\n    />\n   {props.buyBeans.isGreaterThan(0)\n     ? <div style={textStyle}>{textTransaction}</div>\n     : null\n    }\n   </>\n  )\n}\n\nEthInputField.defaultProps = {\n  balance: new BigNumber(-1),\n  buyBeans: new BigNumber(0),\n  claim: false,\n  claimableBalance: new BigNumber(0),\n  handleChange: (value: BigNumber) => {},\n  updateExpectedPrice: (a,b) => {},\n  value: new BigNumber(-1),\n}\n","import { Link } from '@material-ui/core'\nimport { SLIPPAGE_LINK } from '../../constants'\n\nexport default function FrontrunText(props) {\n  const linkStyle = {\n    color: 'red',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '12px',\n    marginTop: '-9px',\n  }\n  const textStyle = {\n    color: 'red',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '12px',\n    marginTop: '-4px',\n  }\n\n  return (\n    <div style={textStyle}>\n      {'Your Transaction may be Frontrun. Consider Lowering Slippage Tolerance.'}\n      <br/>\n      <Link href={SLIPPAGE_LINK} target='blank' style={linkStyle} >\n        Click Here to Learn More\n      </Link>\n      {'.'}\n    </div>\n  )\n}\n","import { makeStyles } from '@material-ui/styles'\nimport { QuestionModule } from './index'\nimport { chainId } from '../../util'\n\nexport default function HeaderLabel(props) {\n  const backgroundColor = chainId === 1 ? '#627264' : '#7A2343'\n  const classes = makeStyles(theme => ({\n    container: {\n      backgroundColor: backgroundColor,\n      borderRadius: '15px',\n      boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%),0px 1px 10px 0px rgb(0 0 0 / 12%)',\n      color: 'white',\n      display: 'flex',\n      fontSize: '16px',\n      margin: '-8px',\n      padding: '4px 4px',\n      textTransform: 'none'\n    },\n    title: {\n      fontFamily: 'Futura-PT-Book',\n      padding: '10px',\n      textAlign: 'left',\n      width: '67%'\n    },\n    value: {\n      fontFamily: 'Lucida Console',\n      padding: '10px',\n      textAlign: 'right',\n      width: '33%'\n    }\n  }))()\n\n  return (\n    <div className={classes.container}>\n      <div className={classes.title}>\n        {props.title}\n        {props.description !== undefined\n          ? <QuestionModule\n              description={props.description}\n              margin={props.margin}\n              marginTooltip={props.marginTooltip}\n              placement={props.placement}\n            />\n          : undefined\n        }\n      </div>\n      <div className={classes.value}>\n         {props.value}\n      </div>\n    </div>\n  )\n}\n\nHeaderLabel.defaultProps = {\n  margin: '-8px 0 0 2px',\n  marginTooltip: '0 0 0 10px',\n}\n","import { HeaderLabel } from './index'\n\nexport default function HeaderLabelWithTimer(props) {\n  const [title, value, description] = props.display(props.time)\n\n  return (\n    <HeaderLabel\n      description={description}\n      marginTooltip='0 0 0 10px'\n      title={title}\n      value={value}\n    />\n  )\n}\n\nHeaderLabelWithTimer.defaultProps = {\n  display: (v) => { return ['', '', ''] }\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect } from 'react'\nimport { CryptoAsset, displayBN, MinBN } from '../../util'\nimport { TokenInputField } from './index'\n\nexport default function InputFieldPlus(props) {\n  const textStyle = {\n    fontSize: '12px',\n    fontFamily: 'Futura-PT',\n    marginTop: '-10px',\n  }\n\n  const balance = props.balance.plus(props.claim ? props.claimableBalance : 0)\n\n  const isClaimEnabled = props.claim\n  const parentChangeHandler = props.handleChange\n  const value = props.value\n\n  useEffect(() => {\n    if (value.isGreaterThan(balance)) {\n      parentChangeHandler(balance)\n    }\n  }, [balance, isClaimEnabled, value, parentChangeHandler])\n\n  if (!props.visible) {\n    if (props.value.isGreaterThan(0)) props.handleChange(new BigNumber(-1))\n    return null\n  }\n\n  const handleChange = (event) => {\n    if (event.target.value === undefined || event.target.value === '') {\n      props.handleChange(new BigNumber(-1))\n    } else {\n      props.handleChange(MinBN(balance, new BigNumber(event.target.value)))\n    }\n  }\n\n  const maxHandler = () => props.handleChange(balance)\n\n  const tokenInputField = (\n    <TokenInputField\n      balance={balance}\n      isLP={props.isLP}\n      handleChange={handleChange}\n      maxHandler={maxHandler}\n      poolForLPRatio={props.poolForLPRatio}\n      token={props.token}\n      value={props.value}\n    />\n  )\n\n  const textTransaction = (\n    props.sellToken !== undefined\n    ? `Buying About ${displayBN(props.buyEth)} ETH with ${props.sellToken.toFixed(3)} Beans for ${props.updateExpectedPrice(props.buyEth.multipliedBy(-1), props.sellToken.multipliedBy(-1)).toFixed(2)} Each`\n    : ''\n  )\n\n  return (\n    <>\n    {tokenInputField}\n    {props.buyEth.isGreaterThan(0)\n      ? <div style={textStyle}>{textTransaction}</div>\n      : null\n     }\n    </>\n  )\n}\n\nInputFieldPlus.defaultProps = {\n  balance: new BigNumber(-1),\n  claim: false,\n  claimableBalance: new BigNumber(0),\n  buyEth: new BigNumber(0),\n  handleChange: (value: BigNumber) => {},\n  isLP: false,\n  poolForLPRatio: undefined,\n  token: CryptoAsset.Bean,\n  updateExpectedPrice: (a,b) => {},\n  value: new BigNumber(-1),\n  visible: true,\n}\n","import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TablePagination,\n  TableRow\n} from '@material-ui/core/'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  CryptoAsset,\n  displayBN,\n  displayFullBN,\n  FarmAsset,\n  SiloAsset,\n  TokenLabel,\n  TransitAsset\n} from '../../util'\nimport { FormatTooltip, QuestionModule } from '../Common'\n\nexport default function ListTable(props) {\n  return (\n    <div style={props.style}>\n      <BasicTable {...props} />\n    </div>\n  )\n}\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 200,\n    '& .MuiTableCell-root': {\n    },\n    '& .MuiTableCell-head': {\n      alignItems: 'center',\n      fontWeight: 'bold'\n    }\n  },\n  pagination: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  lucidaStyle: {\n    fontFamily: 'Lucida Console',\n    fontSize: '12px'\n  }\n})\n\nconst claimableStyle = {\n  fontFamily: 'Futura-PT',\n  color: 'white',\n  fontWeight: 'bold',\n  width: '33%',\n}\n\nfunction displayLP(balance) {\n  return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n}\n\nconst BasicTable = (props) => {\n  const classes = useStyles()\n\n  const rowsPerPage = 3\n\n  const reverse = (\n    props.asset === FarmAsset.Pods ||\n    props.asset === TransitAsset.Bean ||\n    props.asset === TransitAsset.LP\n  )\n\n  let titles = [props.indexTitle, TokenLabel(props.asset)]\n  let stalkCrates\n  if (props.asset === SiloAsset.Bean || props.asset === SiloAsset.LP) {\n    titles.push('Stalk')\n    if (props.seedCrates === undefined) {\n      stalkCrates = Object.keys(props.crates).reduce((crates,k,index) => {\n        crates[k] = (\n          props.season\n            .minus(k)\n            .multipliedBy(props.crates[k])\n            .multipliedBy(0.0002)\n            .plus(props.crates[k])\n        )\n        return crates;\n      }, {})\n    } else {\n      stalkCrates = Object.keys(props.seedCrates).reduce((crates,k,index) => {\n        crates[k] = (\n          props.season\n            .minus(k)\n            .multipliedBy(props.seedCrates[k])\n            .multipliedBy(0.0001)\n            .plus(props.seedCrates[k].dividedBy(4))\n        )\n        return crates;\n      }, {})\n    }\n  }\n  if (props.seedCrates !== undefined) titles.push('Seeds')\n\n  let claimWord = 'Claimable'\n  let claimableRow\n  let claimDescription = `Claimable ${TokenLabel(props.asset)}`\n  if (props.claimableBalance !== undefined && props.claimableBalance.isGreaterThan(0)) {\n    if (props.asset === FarmAsset.Pods) {\n      claimWord = 'Harvestable'\n      claimDescription = 'Pods that Can be Harvested for 1 Bean Each'\n    }\n    if (props.asset === SiloAsset.Bean) {\n      claimWord = 'Farmable'\n      claimDescription = `Farmable ${TokenLabel(props.asset)} are Deposited in a Specific Season the Next Time You Interact with the Silo`\n    }\n    claimableRow =\n    <TableRow style={{backgroundColor: '#0E8837'}} >\n      <TableCell\n        align='center'\n        component='th'\n        scope='season'\n        style={claimableStyle}\n      >\n        <div>\n          {claimWord}\n          <QuestionModule\n            description={claimDescription}\n            margin='-7px 0 0 0'\n            marginTooltip='10px 0 0 0 '\n            placement='bottom'\n          />\n        </div>\n      </TableCell>\n      <TableCell align='center' className={classes.lucidaStyle} style={{color: 'white'}}>\n        <FormatTooltip\n          placement='right'\n          title={\n            props.isLP\n              ? displayLP(props.poolForLPRatio(props.claimableBalance))\n              : `${displayFullBN(props.claimableBalance)} ${TokenLabel(props.asset)}`\n          }\n        >\n          <span>{displayBN(props.claimableBalance)}</span>\n        </FormatTooltip>\n      </TableCell>\n      {props.claimableStalk !== undefined ?\n      <TableCell align='center' className={classes.lucidaStyle} style={{color: 'white'}}>\n        <FormatTooltip\n          placement='right'\n          title={`${displayFullBN(props.claimableStalk)} ${TokenLabel(SiloAsset.Stalk)}`}\n        >\n          <span>{displayBN(props.claimableStalk)}</span>\n        </FormatTooltip>\n      </TableCell> : null}\n    </TableRow>\n  } else {\n    <></>\n  }\n\n  return (\n    <div>\n      <TableContainer>\n        <Table className={classes.table} size='small'>\n          <TableHead>\n            <TableRow key={claimWord}>\n            {titles.map(t => {\n              return <TableCell key={t} align='center' style={{fontFamily: 'Futura-PT', width: '33%'}}>{t}</TableCell>\n            })}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {claimableRow}\n            {(reverse\n                ? Object.keys(props.crates).sort((a, b) => a - b)\n                : Object.keys(props.crates).sort((a, b) => a - b).reverse()\n              )\n              .slice(props.page * rowsPerPage, props.page * rowsPerPage + rowsPerPage)\n              .map((season) => (\n                <TableRow key={season}>\n                  <TableCell align='center' className={classes.lucidaStyle} component='th' scope='season'>\n                  {displayBN(new BigNumber(season - props.index))}\n                  </TableCell>\n                  <TableCell align='center' className={classes.lucidaStyle}>\n                    <FormatTooltip\n                      placement='right'\n                      title={\n                        props.isLP\n                          ? displayLP(props.poolForLPRatio(props.crates[season]))\n                          : `${displayFullBN(props.crates[season])} ${TokenLabel(props.asset)}`\n                      }\n                    >\n                      <span>{displayBN(props.crates[season])}</span>\n                    </FormatTooltip>\n                  </TableCell>\n                  {stalkCrates !== undefined\n                    ? <TableCell align='center' className={classes.lucidaStyle}>\n                        <FormatTooltip\n                          placement='right'\n                          title={`${displayFullBN(stalkCrates[season])} ${TokenLabel(SiloAsset.Stalk)}`}\n                        >\n                          <span>{displayBN(stalkCrates[season])}</span>\n                        </FormatTooltip>\n                      </TableCell>\n                    : null\n                  }\n                  {props.seedCrates !== undefined\n                    ? <TableCell align='center' className={classes.lucidaStyle}>\n                        <FormatTooltip\n                          placement='right'\n                          title={`${displayFullBN(props.seedCrates[season])} ${TokenLabel(SiloAsset.Seed)}`}\n                        >\n                          <span>{displayBN(props.seedCrates[season])}</span>\n                        </FormatTooltip>\n                      </TableCell>\n                    : null\n                  }\n                </TableRow>\n              ))\n            }\n          </TableBody>\n        </Table>\n      </TableContainer>\n      {Object.keys(props.crates).length > rowsPerPage\n        ? <TablePagination\n            className={classes.pagination}\n            component='div'\n            count={Object.keys(props.crates).length}\n            onPageChange={props.handleChange}\n            page={props.page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[]}\n          />\n        : null\n      }\n    </div>\n  )\n}\n\nListTable.defaultProps = {\n  crates: {},\n  claimableCrates: {},\n  index: 0,\n  page: 0,\n  resetPage: 0,\n}\n","import React, { useState } from 'react'\nimport HelpOutlineIcon from '@material-ui/icons/HelpOutline'\nimport { FormatTooltip } from './index'\n\nexport default function QuestionModule(props) {\n  const questionStyle = {\n    display: 'inline-block',\n    margin: props.margin,\n    position: props.position !== undefined ? props.position : 'absolute',\n    ...props.style,\n  }\n\n  const [show, setShow] = useState(false)\n\n  return (\n    <div style={questionStyle}>\n      <FormatTooltip\n        margin={props.marginTooltip}\n        placement={props.placement !== undefined ? props.placement : 'top-start'}\n        title={props.description}\n        width={props.widthTooltip}\n        disableHoverListener\n        open={show}\n        onMouseEnter={() => setShow(true)}\n        onMouseLeave={() => setShow(false)}\n      >\n        <HelpOutlineIcon style={{fontSize: '8px'}} width='100%' />\n      </FormatTooltip>\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { IconButton } from '@material-ui/core'\nimport SettingsIcon from '@material-ui/icons/Settings'\nimport { SwapMode } from '../../util'\nimport { SlippageModule, SwitchModule, UnitSelectionModule } from './index'\n\nexport default function SettingsFormModule(props) {\n  const rightSettingStyle = {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '0 10px 10px 0',\n    bottom: '0px',\n    boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)',\n    clipPath: 'inset(-10px -10px -10px 0.4px)',\n    height: 'auto',\n    paddingBottom: '10px',\n    position: 'absolute',\n    right: '-79px',\n    width: '60px',\n    zIndex: '-1',\n  }\n  const bottomSettingStyle = {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '0 0 10px 10px',\n    bottom: '-76px',\n    boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%), 0px 1px 10px 0px rgb(0 0 0 / 12%)',\n    clipPath: 'inset(0.4px -10px -10px -10px)',\n    height: '55px',\n    position: 'absolute',\n    right: '7px',\n    width: 'auto',\n    zIndex: '-1',\n  }\n\n  const [settingsStyle, setSettingsStyle] = useState({display: 'none'})\n\n  const [showSlippage, setShowSlippage] = useState(props.hasSlippage && (!props.showUnitModule || props.settings.mode !== SwapMode.Bean))\n\n  const rightDrawerItems = [\n    {\n      visible: props.showLP && props.settings.mode !== SwapMode.LP,\n      component: () => (\n        <SwitchModule\n          description='Toggle to also Deposit LP Tokens'\n          label='Use LP'\n          setValue={(value) => props.setSettings({...props.settings, useLP:value})}\n          value={props.settings.useLP}\n        />\n      )\n    },\n    {\n      visible: props.hasClaimable,\n      component: () => (\n        <SwitchModule\n          description='Toggle to Claim and Use Claimable Assets in Tx'\n          label='Claim'\n          setValue={(value) => props.setSettings({...props.settings, claim:value})}\n          value={props.settings.claim}\n        />\n      )\n    },\n    {\n      visible: props.hasConvertible,\n      component: () => (\n        <SwitchModule\n          disabled={props.disableConvertible}\n          description='Toggle to Convert Deposited Beans into LP Tokens'\n          label='Convert'\n          setValue={(value) => {\n            if (props.settings.mode !== SwapMode.BeanEthereum) props.handleMode(SwapMode.BeanEthereum)\n            props.setSettings({...props.settings, mode:SwapMode.BeanEthereum, convert:value})\n          }}\n          value={props.settings.mode === SwapMode.BeanEthereum && props.settings.convert && props.hasConvertible}\n        />\n      )\n    },\n    {\n      visible: props.hasRemoveLP,\n      component: () => (\n        <SwitchModule\n          description='Toggle to Remove the Beans and ETH from the Liquidity Pool'\n          label='Remove LP'\n          margin='-50px 0px 0px 20px'\n          setValue={(value) => props.setSettings({...props.settings, removeLP: value})}\n          value={props.settings.removeLP}\n        />\n      )\n    },\n    {\n      visible: showSlippage && props.hasSlippage,\n      component: () => (\n        <SlippageModule\n            setSlippage={(value) => props.setSettings({...props.settings, slippage: value})}\n            slippage={props.settings.slippage}\n          />\n      )\n    },\n  ]\n\n  const rightDrawerVisibleItems = rightDrawerItems.reduce((hasVisible, item) => {\n    return hasVisible || item.visible\n  }, false)\n\n  const rightDrawer = (\n    rightDrawerVisibleItems\n      ? <div id='y' style={Object.assign(rightSettingStyle, settingsStyle)}>\n          {rightDrawerItems.map((item, index) => (\n            <span key={index}>{item.visible ? item.component() : null}</span>\n          ))}\n        </div>\n      : null\n  )\n\n  const unitModule = (\n    props.showUnitModule\n      ? <UnitSelectionModule\n          beanEthereumSwap={props.showBeanEthereumSwap}\n          lp={props.showLP}\n          setValue={(value) => {\n            setShowSlippage(props.hasSlippage && value !== SwapMode.Bean)\n            props.handleMode(value)\n            props.setSettings({...props.settings, mode: value})\n            setSettingsStyle({display: 'none'})\n          }}\n          value={props.settings.mode}\n        />\n      : null\n  )\n\n  const bottomDrawer = (\n    props.showUnitModule\n      ? <div id='x' style={Object.assign(bottomSettingStyle, settingsStyle)}>\n          {unitModule}\n        </div>\n      : null\n  )\n\n  const settingsIcon = (\n    <div style={{display: 'flex', justifyContent: 'flex-end', margin: props.margin}}>\n      <IconButton\n        color='primary'\n        onClick={() => {\n          const shouldExpand = settingsStyle.display === 'none'\n          setSettingsStyle(shouldExpand ? {display: 'block'} : {display: 'none'})\n        }}\n        style={{height: '44px', width: '44px'}}\n       >\n       <SettingsIcon />\n      </IconButton>\n    </div>\n  )\n\n  return (\n    <>\n    {settingsIcon}\n    {rightDrawer}\n    {bottomDrawer}\n    </>\n  )\n}\n\nSettingsFormModule.defaultProps = {\n  handleMode: (value) => {},\n  hasClaimable: false,\n  hasConvertible: false,\n  hasRemoveLP: false,\n  hasSlippage: false,\n  margin: '20px -4px -56px 0',\n  showBeanEthereumSwap: false,\n  showLP: false,\n  showUnitModule: true,\n  siloBeanBalance: new BigNumber(0),\n}\n","import { Button } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { QuestionModule } from './index'\n\nexport default function SingleButton(props) {\n  const maxWidth = props.size === 'small' ? '200px' : '300px'\n\n  const classes = makeStyles(theme => ({\n    button: {\n      backgroundColor: props.backgroundColor,\n      borderRadius: '15px',\n      boxShadow: '0px 2px 4px -1px rgb(0 0 0 / 20%), 0px 4px 5px 0px rgb(0 0 0 / 14%),0px 1px 10px 0px rgb(0 0 0 / 12%)',\n      color: props.color,\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '12px',\n      maxWidth: maxWidth,\n      opacity: '95%',\n      textTransform: 'uppercase',\n      transition: '0.2s ease-out opacity',\n      width: props.width,\n      '&:hover': {\n        backgroundColor: props.backgroundColor,\n        opacity: '100%',\n      }\n    }\n  }))()\n\n  function getIcon() {\n    if (props.icon !== undefined) {\n      return <img alt='' src={props.icon} style={{height: 'calc(15px + 1vmin)', margin: '15px'}} />\n    }\n  }\n\n  return (\n    <Button className={classes.button} onClick={() => props.handleClick()}>\n      {getIcon()}\n      <div>\n        {props.title}\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n          widthTooltip={props.widthTooltip}\n        />\n      </div>\n      {getIcon()}\n    </Button>\n  )\n}\n\nSingleButton.defaultProps = {\n  backgroundColor: '#FFF1B6',\n  color: 'black',\n  margin: '-12px 0 0 5px',\n  size: 'small',\n  width: '200px',\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { BASE_SLIPPAGE, SLIPPAGE_THRESHOLD } from '../../constants'\nimport { QuestionModule } from '../Common'\n\nexport default function SlippageModule(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      textAlign: 'right',\n      fontSize: '16px',\n      fontFamily: 'Futura-PT-Book',\n    }\n  }))()\n\n  const [isFieldEmpty, setIsFieldEmpty] = useState(false)\n\n  const defaultSlippage = new BigNumber(1).minus(BASE_SLIPPAGE).multipliedBy(100)\n\n  return (\n    <div>\n      <div style={{padding: '5px', fontFamily: 'Futura-PT', fontSize: '11px'}}>\n        Slippage:\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n        />\n      </div>\n      <TextField\n        type='number'\n        error={!isFieldEmpty && props.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)}\n        placeholder={defaultSlippage.toFixed()}\n        value={isFieldEmpty ? '' : new BigNumber(1).minus(props.slippage).multipliedBy(100)}\n        style={{margin: '0 auto', width: '90%'}}\n        onChange={(e) => {\n          function setSlippagePercentage(newPercentage: BigNumber) {\n            props.setSlippage(new BigNumber(100).minus(newPercentage).multipliedBy(0.01))\n          }\n          if (e.target.value) {\n            const newValue = new BigNumber(e.target.value)\n            if (newValue.isLessThan(0) || newValue.isGreaterThan(100)) {\n              return\n            }\n            if (newValue.isEqualTo(0)) {\n              setSlippagePercentage(defaultSlippage)\n              setIsFieldEmpty(true)\n              return\n            }\n\n            const slippage = newValue.toFixed()\n            const decimalIndex = slippage.indexOf('.')\n            const numberOfDecimals = decimalIndex > -1 ? slippage.length - decimalIndex - 1 : -1\n            if (numberOfDecimals > 1) {\n              return\n            }\n            setSlippagePercentage(new BigNumber(newValue.toFixed(1)))\n            setIsFieldEmpty(false)\n          } else {\n            setSlippagePercentage(defaultSlippage)\n            setIsFieldEmpty(true)\n          }\n        }}\n        onWheel={(e) => e.target.blur()}\n        onKeyDown={(e) => (e.key === 'e' || e.key === '+' || e.key === '-') && e.preventDefault()}\n        InputProps={{\n          inputProps: {\n            min: 0.1,\n            max: 100,\n            step: 0.1\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment: (\n            <InputAdornment position='end' style={{marginLeft: '2px'}}>%</InputAdornment>\n          )\n        }}\n      />\n    </div>\n  )\n}\n\nSlippageModule.defaultProps = {\n  description: 'Customize the Maximum Difference Between the Current Price and the Price when your Transaction is Processed',\n  margin: '-5px 0 0 -1px',\n  marginTooltip: '0px 0 5px 10px',\n}\n","import { FormControlLabel, Switch } from '@material-ui/core/'\nimport { withStyles } from'@material-ui/styles'\nimport { QuestionModule } from './index'\n\nexport default function SwitchModule(props) {\n  const switchStyle = {\n    display: 'inline-block',\n    justifyContent: 'flex-start',\n    marginBottom: '-8px',\n    marginLeft: '0px',\n    width: '100%',\n  }\n\n  const GreenSwitch = withStyles({\n    switchBase: {\n      '&$checked': {\n        color: 'rgb(14, 136, 55)',\n      },\n      '&$checked + $track': {\n        backgroundColor: 'rgb(14, 136, 55)',\n      },\n    },\n    checked: {},\n    track: {},\n  })(Switch)\n\n  const GreenFormControlLabel = withStyles({\n    label:{\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '9px',\n      marginBottom: '-10px',\n      marginLeft: '0',\n      marginTop: '3px',\n      width: '100%',\n    }\n  })(FormControlLabel)\n\n  const changeHandler = (event) => props.setValue(event.target.checked)\n\n  return (\n    <div style={{display: 'flex', position: 'relative'}}>\n      <div style={switchStyle}>\n        <GreenFormControlLabel\n          checked={props.value}\n          control={<GreenSwitch />}\n          disabled={props.disabled}\n          label={props.label}\n          onChange={changeHandler}\n          style={{flexDirection: 'column-reverse', marginLeft: '0', width: '100%'}}\n        />\n        <QuestionModule\n          description={props.description}\n          margin={props.margin}\n          marginTooltip={props.marginTooltip}\n        />\n      </div>\n    </div>\n  )\n}\n\nSwitchModule.defaultProps = {\n  disabled: false,\n  margin: '-50px 0px 0px 15px',\n  marginTooltip: '0px 0 5px 10px',\n}\n","import { makeStyles } from '@material-ui/styles'\n\nexport default function TitleLabel(props) {\n  const classes = makeStyles(theme => ({\n    label: {\n      borderRadius: '15px',\n      color: 'black',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: props.size || '24px',\n      margin: props.margin || '0',\n      padding: props.padding || '5px',\n      textTransform: 'uppercase'\n    }\n  }))()\n\n  return (\n    <div className={classes.label} style={props.style}>\n      {props.children}\n    </div>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { Fragment } from 'react'\nimport {\n  CryptoAsset,\n  displayBN,\n  displayFullBN,\n  TokenLabel\n} from '../../util'\nimport { TokenTypeImageModule, BalanceModule } from './index'\n\nexport default function TokenBalanceModule(props) {\n  const style = {\n    color: props.balanceColor,\n    display: 'inline',\n    fontSize: '12px',\n    fontFamily: 'Lucida Console',\n    fontWeight: '400',\n    lineHeight: '100%',\n    margin: '2px',\n  }\n  const imageStyle = {\n    display: 'inline-block',\n    height: '20px',\n    marginBottom: '-5px',\n    marginLeft: '5px',\n  }\n\n  var balanceStyle = {color: props.balanceColor}\n\n  if (props.claimPadding !== undefined) {\n    balanceStyle = {\n      color: props.balanceColor,\n      paddingRight:'0px',\n      textAlign:'center',\n      width:'100%',\n    }\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n  const content = (\n    <Fragment>\n      <h5 style={style}>\n        {props.endText.length > 0\n          ? `${displayBN(props.balance)}${props.endText}`\n          : displayBN(props.balance)\n        }\n      </h5>\n      <TokenTypeImageModule style={imageStyle} token={props.token} />\n    </Fragment>\n  )\n\n  function displayLP(balance) {\n    return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n  }\n\n  var balanceContent = (\n    props.balance.isGreaterThan(0)\n      ? `${displayFullBN(props.balance)} ${TokenLabel(props.token)}`\n      : undefined\n  )\n  balanceContent = (\n    props.balance.isGreaterThan(0) && props.isLP\n      ? displayLP(props.poolForLPRatio(props.balance))\n      : balanceContent\n  )\n\n  return (\n    <div style={{position: 'relative'}}>\n      <BalanceModule\n        balanceDescription={balanceContent}\n        content={content}\n        description={props.description}\n        style={balanceStyle}\n        title={props.title === undefined ? tokenLabel : props.title}\n        token={props.token}\n        widthTooltip={props.widthTooltip}\n        {...props}\n      />\n    </div>\n  )\n}\n\nTokenBalanceModule.defaultProps = {\n  balance: new BigNumber(-1),\n  balanceColor: 'black',\n  endText: '',\n  startText: '',\n\n}\n","import React, { useState } from 'react'\nimport { Button, InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  CryptoAsset,\n  chainId,\n  displayBN,\n  displayFullBN,\n  TokenLabel\n} from '../../util'\nimport { FormatTooltip, TokenTypeImageModule } from './index'\n\nexport default function TokenInputField(props) {\n  const [displayValue, setDisplayValue] = useState('')\n\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontSize: 'calc(15px + 1vmin)',\n      fontFamily: 'Lucida Console',\n      fontWeight: '400',\n    }\n  }))()\n\n  const smallLabels = {\n    fontSize: 'calc(9px + 0.7vmin)',\n    fontFamily: 'Futura-PT',\n  }\n  const leftStyle = {\n    display: 'inline-block',\n    float: 'left',\n    fontFamily: 'Futura-PT-Book',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    textTransform: 'uppercase' as const,\n  }\n  const rightStyle = {\n    display: 'inline-block',\n    float: 'right',\n    marginRight: '13px',\n    textAlign: 'right' as const,\n  }\n  const maxStyle = {\n    backgroundColor: chainId === 3 ? '#FF4A8D' : '#0E8837',\n    borderRadius: '30px',\n    color: 'white',\n    fontSize: '13px',\n    fontFamily: 'Futura-PT-Book',\n    height: '25px',\n    minWidth: '50px',\n  }\n  const tokenTypeImageStyle = {\n    height: '30px',\n    marginLeft: '5px',\n    width: '20px',\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n\n  function maxButton() {\n    if (props.maxHandler !== undefined) {\n      return (\n        <Button onClick={props.maxHandler} style={maxStyle}>\n          Max\n        </Button>\n      )\n    }\n  }\n\n  const handleChange = (event) => {\n    setDisplayValue(event.target.value)\n    props.handleChange(event)\n  }\n\n  function displayLP(balance) {\n    return `${displayBN(balance[0])} ${TokenLabel(CryptoAsset.Bean)}/${displayBN(balance[1])} ${TokenLabel(CryptoAsset.Ethereum)}`\n  }\n\n  const balanceContent = (\n    props.isLP\n      ? displayLP(props.poolForLPRatio(props.balance))\n      : `${displayFullBN(props.balance)} ${TokenLabel(props.token)}`\n  )\n\n  const endAdornment = (\n    <InputAdornment position='end'>\n      {maxButton()}\n      <TokenTypeImageModule style={tokenTypeImageStyle} token={props.token} />\n    </InputAdornment>\n  )\n\n  if (props.hidden) return null\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>\n        <div style={leftStyle}>{tokenLabel}</div>\n        <FormatTooltip placement='right' title={balanceContent}>\n          <div style={rightStyle}>\n            &nbsp;{`Balance: ${displayBN(props.balance)}`}\n          </div>\n        </FormatTooltip>\n      </div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0.0000'\n        variant='outlined'\n        size='medium'\n        type='number'\n        disabled={props.handleChange === undefined}\n        value={\n          props.value.isNegative()\n            ? ''\n            : ((displayValue.length > 1 && displayValue.replaceAll('0', '').length === 0)\n                || (props.value.toFixed() === '0' && displayValue === '')\n                || (displayValue.indexOf('.') > -1 && displayValue.lastIndexOf('0') === displayValue.length - 1)\n              ? displayValue\n              : props.value.toFixed()\n            )\n        }\n        onChange={handleChange}\n        onWheel={(e) => e.target.blur()}\n        onKeyDown={(e) => (e.key === 'e' || e.key === '+' || e.key === '-') && e.preventDefault()}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            min: 0.0,\n            step: 1.0\n          },\n          classes: {\n            input: classes.inputText,\n          },\n          endAdornment\n        }}\n      />\n    </div>\n  )\n}\n\nTokenInputField.defaultProps = {\n  action: 'Deposit',\n  hidden: false,\n  maxval: 0,\n  token: 'Beans',\n}\n","import { InputAdornment, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { TrimBN, TokenLabel } from '../../util'\nimport { TokenTypeImageModule } from './index'\n\nexport default function TokenOutputField(props) {\n  const classes = makeStyles(theme => ({\n    inputText: {\n      fontSize: 'calc(12px + 1vmin)',\n      fontFamily: 'Lucida Console',\n    }\n  }))()\n  \n  const smallLabels = {\n    fontFamily: 'Futura-PT',\n    fontSize: 'calc(9px + 0.7vmin)',\n  }\n  const leftStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    marginLeft: '13px',\n    textAlign: 'left' as const,\n    width: '100%',\n  }\n  const tokenStyle = {\n    height: '30px',\n    marginLeft: '-10px',\n    width: '20px',\n  }\n\n  const tokenLabel = TokenLabel(props.token)\n  const endAdornment = (\n    <InputAdornment position='end'>\n      <TokenTypeImageModule style={tokenStyle} token={props.token} />\n    </InputAdornment>\n  )\n\n  var startAdornment = (\n    props.burn\n      ? <InputAdornment position='start'>-</InputAdornment>\n      : null\n  )\n  startAdornment = (\n    props.mint\n      ? <InputAdornment position='start'>+</InputAdornment>\n      : startAdornment\n  )\n\n  return (\n    <div style={{margin: '8px 0'}}>\n      <div style={smallLabels}>\n        <div style={leftStyle}>{tokenLabel}</div>\n      </div>\n\n      <TextField\n        className='TextField-rounded'\n        placeholder='0.0000'\n        variant='outlined'\n        size='small'\n        type='number'\n        style={{fontSize: '10px'}}\n        disabled={props.handleChange === undefined}\n        value={props.decimals !== undefined ? TrimBN(props.value, props.decimals) : props.value}\n        onChange={props.handleChange}\n        fullWidth={true}\n        InputProps={{\n          inputProps: {\n            min: 0.0,\n            step: 1.0\n          },\n          classes: {\n            input: classes.inputText\n          },\n          endAdornment,\n          startAdornment,\n        }}\n      />\n      </div>\n  )\n}\n\nTokenOutputField.defaultProps = {\n  action: 'Deposit',\n  decimals: undefined,\n  maxval: 0,\n  token: 'Beans',\n}\n","import { TokenImage, TokenLabel, TokenTypeImage } from '../../util'\n\nexport default function TokenTypeImageModule(props) {\n  const tokenTypeStyle = {\n    height: '100%',\n    left: '0',\n    position: 'absolute',\n    top: '0',\n  }\n  const tokenTypeModifierStyle = {\n    bottom: '0',\n    height: '60%',\n    left: `${parseInt(props.style.height)/4}px`,\n    position: 'absolute',\n  }\n\n  return (\n    <div style={{...props.style, position: 'relative'}}>\n      <img alt={TokenLabel(props.token)} src={TokenImage(props.token)} style={tokenTypeStyle} />\n      <img alt='' src={TokenTypeImage(props.token)} style={tokenTypeModifierStyle} />\n    </div>\n  )\n}\n\nTokenTypeImageModule.defaultProps = {\n  style: {height: '20px'}\n}\n","\nexport default function TransactionDetailsModule(props) {\n  const leftTransactionStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    textAlign: 'left',\n    width: '50%',\n  }\n  const rightTransactionStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '14px',\n    textAlign: 'right',\n    width: '50%',\n  }\n  const transactionStyle = {\n    border: '1px solid black' as const,\n    borderRadius: '15px',\n    color: 'black',\n    fontSize: 'calc(9px + 0.7vmin)',\n    marginBottom: '-4px',\n    marginLeft: '10%',\n    padding: '12px',\n    width: '80%',\n  }\n\n  const rows = Object.keys(props.fields).reduce((r, key, i) => {\n    r.push(<span key={`${i}-left`} style={leftTransactionStyle}>{key}</span>)\n    r.push(<span key={`${i}-right`} style={rightTransactionStyle}>{props.fields[key]}</span>)\n    return r\n  }, [])\n\n  return (\n    <p style={transactionStyle}>\n      {rows}\n    </p>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/bean-eth-logo.3f800aef.svg\";","export default __webpack_public_path__ + \"static/media/bean-eth-swap-logo.bdf29328.svg\";","import React from 'react'\nimport ToggleButton from '@material-ui/lab/ToggleButton'\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\nimport BeanEthIcon from '../../img/bean-eth-logo.svg'\nimport BeanEthSwapIcon from '../../img/bean-eth-swap-logo.svg'\nimport { CryptoAsset, SwapMode, TokenImage } from '../../util'\n\nexport default function UnitSelectionModule(props) {\n  const change = (event, value) => {\n    if (value !== null)\n      props.setValue(value)\n  }\n\n  const imageStyle = {\n     display: 'inline',\n     height: '20px',\n     width: '20px',\n  }\n\n  return (\n    <ToggleButtonGroup\n      aria-label='text alignment'\n      exclusive\n      onChange={change}\n      style={{padding: '5px'}}\n      value={props.value}\n    >\n      {props.lp\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.LP}>\n            <img alt='LP' src={TokenImage(CryptoAsset.LP)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.bean\n        ? <ToggleButton aria-label='left aligned' value={SwapMode.Bean}>\n            <img alt='Bean' src={TokenImage(CryptoAsset.Bean)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.ethereum\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.Ethereum}>\n            <img alt='Eth' src={TokenImage(CryptoAsset.Ethereum)} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.beanEthereum\n        ? <ToggleButton aria-label='centered' value={SwapMode.BeanEthereum}>\n            <img alt='Bean/Eth' src={BeanEthIcon} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n      {props.beanEthereumSwap\n        ? <ToggleButton aria-label='right aligned' value={SwapMode.BeanEthereumSwap}>\n            <img alt='Bean/Eth Swap' src={BeanEthSwapIcon} style={imageStyle} />\n          </ToggleButton>\n        : null\n      }\n    </ToggleButtonGroup>\n  )\n}\n\nUnitSelectionModule.defaultProps = {\n  bean: true,\n  beanEthereum: true,\n  beanEthereumSwap: false,\n  ethereum: true,\n  lp: false,\n  value: 0,\n}\n","import { withStyles, Theme } from'@material-ui/styles'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nexport { Grid } from '@material-ui/core'\nexport type { Token } from '../../util'\nexport {\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  SiloAsset,\n  TransitAsset,\n  UniswapAsset\n} from '../../util'\nexport { default as AddressInputField } from './AddressInputField'\nexport { default as BalanceField} from './BalanceField'\nexport { default as BalanceModule } from'./BalanceModule'\nexport { default as BaseModule } from './BaseModule'\nexport { default as ContentSection } from './ContentSection'\nexport { default as EthInputField} from './EthInputField'\nexport { default as FrontrunText } from './FrontrunText'\nexport { default as HeaderLabel } from './HeaderLabel'\nexport { default as HeaderLabelWithTimer } from './HeaderLabelWithTimer'\nexport { default as InputFieldPlus} from './InputFieldPlus'\nexport { default as ListTable } from './ListTable'\nexport { default as QuestionModule } from './QuestionModule'\nexport { default as SettingsFormModule } from './SettingsFormModule'\nexport { default as SingleButton } from './SingleButton'\nexport { default as SlippageModule } from './SlippageModule'\nexport { default as SwitchModule} from './SwitchModule'\nexport { default as TitleLabel } from './TitleLabel'\nexport { default as TokenBalanceModule } from './TokenBalanceModule'\nexport { default as TokenInputField } from './TokenInputField'\nexport { default as TokenOutputField } from './TokenOutputField'\nexport { default as TokenTypeImageModule } from './TokenTypeImageModule'\nexport { default as TransactionDetailsModule } from './TransactionDetailsModule'\nexport { default as UnitSelectionModule} from './UnitSelectionModule'\n\nexport const FormatTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: theme.palette.common.white,\n    color: 'black',\n    boxShadow: theme.shadows[1],\n    fontSize: 12,\n    fontFamily: 'Futura-Pt-Book',\n    width: (props) => props.width,\n    maxWidth: '345px',\n    margin: (props) => props.margin\n  },\n}))(Tooltip)\n\nFormatTooltip.defaultProps = {\n  margin: '0 0 0 20px',\n  width: 'auto',\n}\n\nexport const walletDescriptions = {\n  beanBalance: 'Beans not in the Silo or Unclaimable Withdrawals',\n  lpBalance: 'LP Tokens not in the Silo or Unclaimable Withdrawals',\n  beanSiloBalance: 'Beans Deposited in the Silo',\n  lpSiloBalance: 'LP Tokens Deposited in the Silo',\n  beanTransitBalance: 'Beans in Unclaimable Withdrawals',\n  lpTransitBalance: 'LP Tokens in Unclaimable Withdrawals',\n  claimableBeanBalance: 'Claimable Beans from Pod Harvests and Withdrawals',\n  claimablelpBalance: 'Claimable LP Tokens from Withdrawals',\n  claimableEthBalance:  'Claimable ETH from Seasons of Plenty',\n  stalkBalance: 'Stalk Balance',\n  seedBalance: 'Seed Balance',\n  podBalance: 'Unharvestable Pod Balance',\n  ethBalance: 'Ethereum Wallet ETH Balance',\n  topLeft: 'Total USD Value of Beans and LP',\n  topLeftTitle: 'Bean Balance',\n  topRight: 'Percent Ownership of Beanstalk',\n  topRightTitle: 'Ownership',\n}\nexport const totalDescriptions = {\n  beanBalance: 'Total Beans not in the Silo or Withdrawals',\n  lpBalance: 'Total LP Tokens not in the Silo or Withdrawals',\n  beanSiloBalance: 'Total Beans Deposited in the Silo',\n  lpSiloBalance: 'Total LP Tokens Deposited in the Silo',\n  beanTransitBalance: 'Total Beans in Unclaimed Withdrawals',\n  lpTransitBalance: 'Total LP Tokens in Unclaimed Withdrawals',\n  stalkBalance: 'Total Stalk',\n  seedBalance: 'Total Seeds',\n  podBalance: 'Total Unharvestable Pods',\n  ethBalance: 'Ethereum in Liquidity Pool',\n  beanReserveTotal: 'Beans in the Liquidity Pool',\n  topLeft: 'USD Value of all Beans',\n  topLeftTitle: 'Market Cap',\n  topRight: 'USD Value of the Liquidity Pool',\n  topRightTitle: 'Pool Value',\n}\nexport const walletStrings = {\n  topLeft: 'Beans',\n  topRight: 'Ownership',\n}\nexport const totalStrings = {\n  topLeft: 'USD',\n  topRight: 'USD',\n}\n","import React from 'react'\n\nexport const SvgCloudIcon = ({\n  height = '200px',\n  width = '200px',\n  color = 'white',\n  text = '',\n  ...props\n}: React.SVGProps<SVGSVGElement>) => (\n  <svg\n    xmlns='http://www.w3.org/2000/svg'\n    width={width}\n    height={height}\n    viewBox='0 0 420 450'\n    fill='none'\n    {...props}\n  >\n    <path\n      d='M343.454,170.099c0.01-0.583,0.022-1.165,0.022-1.75c0-55.728-45.177-100.905-100.905-100.905c-48.025,0-88.209,33.551-98.403,78.492c-9.505-5.321-20.454-8.368-32.122-8.368c-36.407,0-65.92,29.514-65.92,65.92c0,1.488,0.067,2.959,0.164,4.423C19.262,217.944,0,243.959,0,274.479c0,39.207,31.784,70.991,70.991,70.991h253.183c49.009,0,88.739-39.73,88.739-88.739C412.913,214.343,383.192,178.903,343.454,170.099z'\n      fill={color}\n    />\n    <path\n      d='M344.267 268.232L371.449 248.232L344.267 228.232'\n      stroke='#627264'\n      strokeWidth='2'\n    />\n    <text x='205px' y='259px' textAnchor='middle' height={height} width={width} fontFamily='Futura-PT-Book' fontSize='35' fill='black'>{text}</text>\n  </svg>\n)\n","export default __webpack_public_path__ + \"static/media/discord-icon.e174ddb7.svg\";","export default __webpack_public_path__ + \"static/media/etherscan-logo.47cb90f5.svg\";","export default __webpack_public_path__ + \"static/media/uniswap-logo-black.c0d9a55f.svg\";","import { Grid, Link } from '@material-ui/core'\nimport GitHubIcon from '@material-ui/icons/GitHub'\nimport TelegramIcon from '@material-ui/icons/Telegram'\nimport { makeStyles } from '@material-ui/styles'\nimport discord from '../../img/discord-icon.svg'\nimport etherscan from '../../img/etherscan-logo.svg'\nimport ground from '../../img/ground.png'\nimport uniswap from '../../img/uniswap-logo-black.svg'\nimport {\n  BEAN_TOKEN_LINK,\n  DISCORD_LINK,\n  GITHUB_LINK,\n  SILO_CONTRACT_LINK,\n  TELEGRAM_LINK,\n  UNISWAP_CONTRACT_LINK\n} from '../../constants'\nimport { CryptoAsset, TokenTypeImageModule } from '../Common'\n\nexport default function Footer(props) {\n  const classes = makeStyles({\n    fixedGround: {\n      backgroundColor: 'transparent',\n      backgroundImage: `url(${ground})`,\n      backgroundPosition: '0% 0%',\n      backgroundRepeat: 'repeat',\n      backgroundSize: 'contain',\n      display: 'flex',\n      height: '100%',\n      zIndex: 1000,\n    }\n  })()\n\n  const logoStyle = {\n    height: '25px',\n    width: '20px',\n  }\n  const uniswapStyle = {\n    height: '25px',\n    width: '30px',\n  }\n  const linkStyle = {\n    padding: '10px 10px 0 0',\n  }\n\nreturn (\n    <Grid container className={classes.fixedGround} justifyContent='center'>\n      <Grid item style={linkStyle}>\n        <Link href={TELEGRAM_LINK} color='inherit' target='blank'>\n          <TelegramIcon />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={DISCORD_LINK} color='inherit' target='blank'>\n          <img alt='Discord Logo' src={discord} style={logoStyle}/>\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={GITHUB_LINK} color='inherit' target='blank'>\n          <GitHubIcon />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={BEAN_TOKEN_LINK} color='inherit' target='blank'>\n          <TokenTypeImageModule style={logoStyle} token={CryptoAsset.Bean} />\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={SILO_CONTRACT_LINK} color='inherit' target='blank'>\n          <img alt='Etherscan Logo' src={etherscan} style={logoStyle}/>\n        </Link>\n      </Grid>\n      <Grid item style={linkStyle}>\n        <Link href={UNISWAP_CONTRACT_LINK} color='inherit' target='blank'>\n          <img alt='Uniswap Logo' src={uniswap} style={uniswapStyle}/>\n        </Link>\n      </Grid>\n    </Grid>\n )\n}\n","export default \"data:image/png;base64,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QQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABC03B6bAQBI+Re9hMwq3MS6aAAAAABJRU5ErkJggg==\"","import React from 'react'\nimport { Link } from '@material-ui/core'\nimport background from '../../img/cloud-background.png'\nimport BarnIcon from '../../img/Barn.svg'\nimport SunIcon from '../../img/Sun.svg'\nimport {\n  HOW_TO_PATH,\n  HOW_TO_MOBILE_PATH,\n  INTRO_TO_PATH,\n  WHITEPAPER\n} from '../../constants'\nimport { ContentSection, Grid } from '../Common'\nimport { SvgCloudIcon } from './SvgCloudIcon'\nimport Footer from './Footer'\n\nexport default function About(props) {\n  const navCloudStyle = {\n    backgroundColor: 'transparent',\n    backgroundImage: `url(${background}), url(${background})`,\n    backgroundPosition: '0px 0px, 1px 0px',\n    backgroundRepeat: 'repeat-x, repeat-x',\n    boxShadow: 'none',\n    backgroundSize: 'contain, contain',\n    height: '65px',\n    marginBottom: '-85px',\n  }\n  const cloudDivStyle = {\n    display: 'inline-flex',\n    justifyContent: 'center',\n    margin: '80px 0',\n    width: '100%',\n  }\n  const cloudStyle = {\n    maxWidth: '400px',\n  }\n  const sunStyle = {\n    height: '15vw',\n    left: 20,\n    maxHeight: '125px',\n    position: 'absolute',\n    top: 100,\n  }\n  const barnStyle = {\n    bottom: 0,\n    height: '15vw',\n    left: 10,\n    minHeight: '175px',\n    position: 'absolute',\n  }\n  const showLandingPage = props.defaultSection !== undefined\n\n  return (\n    <>\n    {showLandingPage ? <div style={navCloudStyle}></div> : null}\n    <ContentSection id='about' style={showLandingPage ? {minHeight: '99vh'} : props.style} title={showLandingPage ? 'Beanstalk' : 'About'}>\n      <div style={{minHeight: '510px', width: '100%'}}>\n        {props.defaultSection}\n        <Grid container style={cloudDivStyle}>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href={INTRO_TO_PATH} color='inherit' target='tutorial'>\n              <SvgCloudIcon text={'About Beanstalk'} />\n            </Link>\n          </Grid>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href='' color='inherit' onClick={(event) => {\n              event.preventDefault()\n              const howToPath = window.innerWidth < 600 ? HOW_TO_MOBILE_PATH : HOW_TO_PATH\n              window.open(howToPath, 'tutorial')\n            }}>\n              <SvgCloudIcon text={'How To Guide'} />\n            </Link>\n          </Grid>\n          <Grid item lg={3} md={3} sm={4} xs={12} style={cloudStyle}>\n            <Link href={WHITEPAPER} color='inherit' target='tutorial'>\n              <SvgCloudIcon text={'Whitepaper'} />\n            </Link>\n          </Grid>\n        </Grid>\n        <img alt='Sun Icon' src={SunIcon} style={sunStyle} />\n        <img alt='Barn Icon' src={BarnIcon} style={barnStyle} />\n      </div>\n    </ContentSection>\n    {showLandingPage ? <Footer /> : null}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BASE_SLIPPAGE,\n  ETH,\n  SLIPPAGE_THRESHOLD\n} from '../../constants'\nimport {\n  approveBeanstalkBean,\n  buyAndSowBeans,\n  displayBN,\n  getFromAmount,\n  getToAmount,\n  harvest,\n  MaxBN,\n  MinBNs,\n  sowBeans,\n  SwapMode,\n  toBaseUnitBN,\n  toStringBaseUnitBN,\n  TrimBN\n} from '../../util'\nimport {\n  BaseModule,\n  CryptoAsset,\n  EthInputField,\n  FarmAsset,\n  FrontrunText,\n  InputFieldPlus,\n  ListTable,\n  SettingsFormModule,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport default function SowHarvestModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [page, setPage] = React.useState(0)\n\n  const [beanValue, setBeanValue] = useState(new BigNumber(-1))\n  const [podValue, setPodValue] = useState(new BigNumber(0))\n  const [fromValue, setFromValue] = section === 0 ? [beanValue, setBeanValue] : [podValue, setPodValue]\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(-1))\n  const [buyBeanValue, setBuyBeanValue] = useState(new BigNumber(0))\n  const [toValue, setToValue] = section !== 0 ? [beanValue, setBeanValue] : [podValue, setPodValue]\n  const [harvestPlots, setHarvestPlots] = useState([])\n  const fromToken = section === 0 ? CryptoAsset.Bean : FarmAsset.Pods\n  const toToken = section !== 0 ? CryptoAsset.Bean : FarmAsset.Pods\n  const [settings, setSettings] = useState({\n    claim: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE),\n  })\n\n  let sectionTitles = ['Sow']\n  if (props.harvestablePodBalance.isGreaterThan(0)) sectionTitles.push('Harvest')\n\n  const handleTabChange = (event, newSection) => {\n    setSection(newSection)\n    setSettings({...settings, claim:false})\n    if (newSection === 1) {\n      setBeanValue(props.harvestablePodBalance)\n      setPodValue(props.harvestablePodBalance)\n      setHarvestPlots(Object.keys(props.harvestablePlots).map(key => (toStringBaseUnitBN(new BigNumber(key), BEAN.decimals))))\n    } else {\n      setBeanValue(new BigNumber(-1))\n      setPodValue(new BigNumber(0))\n    }\n  }\n  useEffect(() => {\n    if (section === 1) {\n      setBeanValue(props.harvestablePodBalance)\n      setPodValue(props.harvestablePodBalance)\n    }\n  }, [props.harvestablePodBalance, section])\n\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => {\n    setSectionInfo(newSectionInfo)\n    setPage(newPageZero)\n  }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  let claimableFromVal = settings.claim ? props.beanClaimableBalance : 0\n  let maxFromVal = section === 0 ? props.beanBalance.plus(claimableFromVal) : props.harvestablePodBalance\n  let maxToVal = section === 0 ? props.soil : props.harvestablePodBalance\n\n  if (settings.mode === null) {\n    if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n  }\n\n  function fromValueUpdated(newFromNumber, newEthFromNumber) {\n    const newFromValue = MinBNs([newFromNumber, maxFromVal, maxToVal])\n    setFromValue(TrimBN(newFromValue, 6))\n    if (section === 0) {\n      const newFromEthValue = MinBNs([newEthFromNumber, getFromAmount(maxToVal.minus(MaxBN(newFromValue, new BigNumber(0))), props.ethReserve, props.beanReserve, ETH.decimals)])\n      BigNumber.set({ DECIMAL_PLACES: 6 })\n      const buyBeans = getToAmount(newFromEthValue, props.ethReserve, props.beanReserve)\n      BigNumber.set({ DECIMAL_PLACES: 18 })\n      setBuyBeanValue(buyBeans)\n      setFromEthValue(TrimBN(newFromEthValue, 6))\n      const sowedBeans = MaxBN(buyBeans, new BigNumber(0)).plus(MaxBN(newFromValue, new BigNumber(0)))\n      setToValue(TrimBN(sowedBeans.multipliedBy((new BigNumber(1)).plus(props.weather.dividedBy(100))),6))\n    } else {\n      setToValue(TrimBN(newFromValue, 8))\n      let harvestedPods = new BigNumber(0)\n      let plots = []\n      if (newFromNumber.isGreaterThan(0).toString()) {\n        Object.keys(props.harvestablePlots).some(key => {\n          plots.push(toStringBaseUnitBN(new BigNumber(key), BEAN.decimals))\n          harvestedPods = harvestedPods.plus(props.harvestablePlots[key])\n          return harvestedPods.isGreaterThanOrEqualTo(newFromNumber)\n        })\n      }\n      setHarvestPlots(plots)\n    }\n  }\n\n  function handleForm() {\n    if (toValue.isLessThanOrEqualTo(0)) return\n\n    if (section === 0) {\n      const claimable = settings.claim ? props.claimable : null\n      if (fromEthValue.isGreaterThan(0)) {\n        const beans = MaxBN(toBaseUnitBN(fromValue,BEAN.decimals), new BigNumber(0)).toString()\n        const eth = toStringBaseUnitBN(fromEthValue,ETH.decimals)\n        const buyBeans = toStringBaseUnitBN(buyBeanValue.multipliedBy(settings.slippage),BEAN.decimals)\n        buyAndSowBeans(beans, buyBeans, eth, claimable, () => {fromValueUpdated(new BigNumber(-1), new BigNumber(-1))})\n      } else {\n        sowBeans(toStringBaseUnitBN(fromValue,BEAN.decimals), claimable, () => {fromValueUpdated(new BigNumber(-1), new BigNumber(-1))})\n      }\n    } else {\n      harvest(harvestPlots, () => {\n        fromValueUpdated(new BigNumber(-1))\n      })\n    }\n  }\n\n  /* Input Fields */\n\n  const beanInputField = (\n    section === 1\n      ? <TokenInputField\n          balance={props.harvestablePodBalance}\n          token={fromToken}\n          value={fromValue}\n        />\n      : <InputFieldPlus\n          balance={props.beanBalance}\n          claim={settings.claim}\n          claimableBalance={props.beanClaimableBalance}\n          handleChange={(v) => { fromValueUpdated(v, fromEthValue) }}\n          token={fromToken}\n          value={fromValue}\n          visible={settings.mode !== SwapMode.Ethereum}\n        />\n  )\n  const ethInputField = (\n    section === 0\n      ? <EthInputField\n          balance={props.ethBalance}\n          buyBeans={buyBeanValue}\n          claim={settings.claim}\n          claimableBalance={props.claimableEthBalance}\n          handleChange={(v) => fromValueUpdated(fromValue, v)}\n          mode={settings.mode}\n          sellEth={fromEthValue}\n          updateExpectedPrice={props.updateExpectedPrice}\n          value={fromEthValue}\n        />\n      : null\n  )\n\n  /* Output Fields */\n\n  const toPodsField = (\n    <TokenOutputField\n      token={toToken}\n      value={toValue}\n      decimals={BEAN.decimals}\n      mint\n    />\n  )\n\n  if (section > sectionTitles.length-1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.plots !== undefined && (Object.keys(props.plots).length > 0 || props.harvestablePodBalance.isGreaterThan(0))) {\n    sectionsInfo.push(\n      <ListTable\n        claimableBalance={props.harvestablePodBalance}\n        claimableCrates={props.harvestablePlots}\n        crates={props.plots} asset={FarmAsset.Pods}\n        description='Sown Plots will show up here'\n        handleChange={handlePageChange}\n        indexTitle='Place in Line'\n        index={parseFloat(props.harvestableIndex)}\n        page={page}\n        title='Plots'\n      />\n    )\n    sectionTitlesInfo.push('Plots')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : null\n  )\n\n  const allowance = (\n    (settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum)\n    && section === 0\n      ? props.beanstalkBeanAllowance\n      : new BigNumber(1)\n  )\n\n  /* Transaction Details, settings and text */\n\n  const sowText = (\n    buyBeanValue.plus(fromValue).isEqualTo(props.soil)\n      ? `Sowing Maximum Soil With ${displayBN(props.weather)}% Weather`\n      : `Sowing With ${displayBN(props.weather)}% Weather`\n  )\n  const sowTextField = (\n    section === 0\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{sowText}</div>\n      : null\n  )\n  const noSoilTextField = (\n    section === 0 && props.soil.isEqualTo(0)\n      ? <div style={{marginTop: '-2px', fontFamily: 'Futura-PT-Book'}}>Currently No Soil</div>\n      : null\n  )\n  const frontrunTextField = (\n    settings.mode !== SwapMode.Bean && settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    section === 0\n      ? <SettingsFormModule\n          settings={settings}\n          setSettings={setSettings}\n          handleMode={() => fromValueUpdated(new BigNumber(-1), new BigNumber(-1))}\n          hasClaimable={props.hasClaimable}\n          hasSlippage={true}\n          showUnitModule={section === 0}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (toValue.isNegative() || toValue.isZero()) {\n      return <></>\n    }\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      {toPodsField}\n      {sowTextField}\n      </>\n    )\n  }\n\n  return (\n    <>\n    <BaseModule\n      allowance={allowance}\n      resetForm={() => { setSettings({...settings, mode: SwapMode.Ethereum}) }}\n      handleApprove={approveBeanstalkBean}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={toValue.isLessThanOrEqualTo(0) && allowance.isGreaterThan(0)}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={props.setBeanstalkBeanAllowance}\n    >\n      {beanInputField}\n      {ethInputField}\n      {noSoilTextField}\n      {frontrunTextField}\n      {transactionDetails()}\n      {showSettings}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import { displayBN } from '../../util'\nimport { ContentSection, Grid, HeaderLabel } from '../Common'\nimport SowHarvestModule from './SowHarvestModule'\n\nexport default function Field(props) {\n  const headerLabelStyle = {\n    maxWidth: '300px',\n  }\n\n  return (\n    <ContentSection id='field' title='Field'>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item xs={12} sm={6} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Number of Beans that Can be Lent to Beanstalk'\n            title='Available Soil'\n            value={displayBN(props.soil)}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Total Unharvestable Pods'\n            title='Pod Line'\n            value={displayBN(props.unripenedPods)}\n          />\n        </Grid>\n      </Grid>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Interest Rate for Sowing Beans'\n            title='Weather'\n            value={`${displayBN(props.weather)}%`}\n          />\n        </Grid>\n        <Grid item sm={6} xs={12} style={headerLabelStyle}>\n          <HeaderLabel\n            description='Total Harvested Pods Over All Seasons'\n            title='Pods Harvested'\n            value={displayBN(props.harvestableIndex)}\n          />\n        </Grid>\n      </Grid>\n\n      <Grid container item xs={12} justifyContent='center'>\n        <Grid item sm={8} xs={10} style={{maxWidth: '500px', minHeight: '450px'}}>\n          <SowHarvestModule {...props} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import { Grid, Button, Link } from '@material-ui/core'\nimport { initialize, metamaskFailure } from '../../util'\nimport { METAMASK_LINK, HOW_TO_MM_PATH } from '../../constants'\nimport { SvgCloudIcon } from '../About/SvgCloudIcon'\nimport About from '../About'\n\nexport default function MetamasklessModule(props) {\n  const connectMetaStyle = {\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '18px',\n    height: '46px',\n    lineHeight: '20px',\n    margin: 'auto 0',\n    padding: '20px',\n    top: 'calc(50% - 23px)',\n    width: 'auto',\n  }\n\n  let metamaskModule\n  if (metamaskFailure === 0 || metamaskFailure === 1) {\n    metamaskModule = (\n      <Grid item xs={12}>\n        <Link href={METAMASK_LINK} target='blank' color='inherit'>\n          <SvgCloudIcon color='white' text={'Install Metamask'} />\n        </Link>\n      </Grid>\n    )\n  } else if (metamaskFailure === 3) {\n    metamaskModule = (\n      <Grid item xs={12}>\n        <Link href={HOW_TO_MM_PATH} target='blank' color='inherit'>\n          <SvgCloudIcon color='white' text={'Change Network'} />\n        </Link>\n      </Grid>\n    )\n  } else {\n    metamaskModule = (\n      <Grid container item xs={12}>\n        <Grid item xs={12} style={{minHeight: '150px'}}>\n          <Link href={HOW_TO_MM_PATH} color='inherit' target='blank'>\n            <SvgCloudIcon color='white' text={'Connect Metamask'} />\n          </Link>\n        </Grid>\n        <Grid item xs={12}>\n          <Button\n            color='primary'\n            onClick={async () => { if (await initialize()) window.location.reload() }}\n            style={connectMetaStyle}\n            variant='contained'\n          >\n            Connect Metamask\n          </Button>\n        </Grid>\n      </Grid>\n    )\n  }\n\n  return (\n    <div style={{position: 'relative'}}>\n      <About defaultSection={metamaskModule} />\n    </div>\n  )\n}\n","import React from 'react'\nimport { ChartDonut, ChartLabel } from '@patternfly/react-charts'\nimport { CryptoAsset } from '../Common'\n\nexport default function Chart(props) {\n  const chartSizeStyle = {\n    fontFamily: 'Futura-PT-Book',\n    height: '100%',\n    width: '90%',\n    margin: '0 10%',\n  }\n  const svgStyle = {\n    maxHeight: '140px',\n    maxWidth: '140px',\n    margin: '8px auto 4px auto',\n  }\n\n  let colors = [\n    '#B3CDE3',\n    '#CCEBC5',\n    '#DECBE4',\n    '#FBB4AE',\n    '#FED9A6',\n    '#DEDBDB'\n  ]\n\n  const balance = (\n    props.circulating\n      .plus(props.silo)\n      .plus(props.transit)\n      .plus(props.pool === undefined ? 0 : props.pool)\n      .plus(props.claimable)\n  )\n\n  const data = (\n    (balance.isGreaterThan(0) || balance === undefined)\n      ? [\n         {x: 'Circulating', y: props.circulating, fill: colors[0]},\n         {x: 'Silo',        y: props.silo,        fill: colors[1]},\n         {x: 'Transit',     y: props.transit,     fill: colors[2]},\n         {x: 'Pool',        y: props.pool,        fill: colors[3]},\n         {x: 'Claimable',   y: props.claimable,   fill: colors[4]},\n        ]\n      : [{x: 'Empty',       y: 100 ,                fill: colors[5]}]\n  )\n\n  return (\n    <div style={chartSizeStyle}>\n      <svg style={svgStyle}>\n        <ChartDonut\n          standalone={false}\n          constrainToVisibleArea={false}\n          data={data}\n          height={140}\n          width={140}\n          labels={({ datum }) => null}\n          titleComponent={\n            props.asset === CryptoAsset.Bean\n              ? <ChartLabel style={[{ fontSize: 20 }, { fontSize: 14 }]} />\n              : <ChartLabel style={[{ fontSize: 14 }, { fontSize: 14 }]} />\n          }\n          title={props.total}\n          subTitle={props.title}\n          innerRadius={55}\n          padding={0}\n          padAngle={0}\n          style={{\n            data: {\n              fill: ({ datum }) => datum.fill,\n            },\n            labels: {\n              fontSize: '20px',\n              fontFamily: 'Futura-PT-Book',\n              fill: ({ datum }) => datum.fill,\n            },\n            parent: {\n              border: '0px'\n            },\n          }}\n          events={[{\n            target: 'data',\n            eventHandlers: {\n              onMouseOver: () => {\n                return [\n                  {\n                    target: 'data',\n                    mutation: balance.isGreaterThan(0)\n                      ? (p) => { props.setActive(p.index) }\n                      : null\n                  },\n                  {\n                    target: 'labels',\n                    mutation: () => { return ({ active: true }) }\n                  }\n                ]\n              },\n              onMouseOut: () => {\n                return [\n                  {\n                    target: 'data',\n                    mutation: () => props.setActive(-1)\n                  },\n                  {\n                    target: 'labels',\n                    mutation: () => ({ active: false })\n                  }\n                ]\n              }\n            }\n          }]}\n        />\n      </svg>\n    </div>\n  )\n}\n","import { useState } from 'react'\nimport Hidden from '@material-ui/core/Hidden'\nimport { BEAN } from '../../constants'\nimport { displayBN, displayFullBN, TokenLabel } from '../../util'\nimport {\n  BalanceModule,\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  FormatTooltip,\n  Grid,\n  SiloAsset,\n  TokenBalanceModule,\n  TransitAsset,\n  UniswapAsset\n} from '../Common'\nimport Chart from './Chart'\n\nexport default function BalanceSection(props) {\n  const [beanActive, setBeanActive] = useState(-1)\n  const [lpActive, setLPActive] = useState(-1)\n\n  const color = {\n    circulating: '#B3CDE3',\n    pool: '#FBB4AE',\n    claimable: '#FED9A6',\n    silo: '#CCEBC5',\n    transit: '#DECBE4',\n  }\n  const containerGridStyle = {\n    minHeight: '100px',\n    padding: '4px 4px',\n    width: '50%',\n  }\n  const containerGridHorizontalStyle = {\n    padding: '4px 4px',\n  }\n  const spanStyle = {\n    display: 'inline-block',\n    fontFamily: 'Futura-Pt-Book',\n    fontWeight: 'bold',\n    margin: '5px 0 5px 15px',\n    textAlign: 'left',\n    width: '100%',\n  }\n  const smallGridStyle = {\n    fontWeight: 'bold',\n    fontFamily: 'Futura-Pt-Book',\n    marginTop: '-5px',\n    padding: '0 4px 4px 4px',\n  }\n\n  const beanTotals = (\n    props.beanBalance\n      .plus(props.beanSiloBalance)\n      .plus(props.beanTransitBalance)\n      .plus(props.beanReceivableBalance)\n      .plus(props.harvestablePodBalance)\n      .plus(props.beanReserveTotal)\n  )\n  const lpTotals = (\n    props.lpBalance\n      .plus(props.lpSiloBalance)\n      .plus(props.lpTransitBalance)\n      .plus(props.lpReceivableBalance)\n  )\n  const balance = props.beanReceivableBalance.plus(props.harvestablePodBalance)\n\n  /* Show Claimables */\n\n  const claimableBeansSection = (\n    balance > 0\n      ? <Grid item xs={12}>\n          <TokenBalanceModule\n            balance={balance}\n            balanceColor={beanActive === 4 ? color.claimable : null}\n            description={props.description.claimableBeanBalance}\n            swerve\n            title={`Claimable ${props.showTokenName ? 'Beans' : ''}`}\n            token={ClaimableAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const claimableLPSection = (\n    props.lpReceivableBalance > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.lpReceivableBalance}\n            balanceColor={lpActive === 4 ? color.claimable : null}\n            description={props.description.claimablelpBalance}\n            isLP={true}\n            poolForLPRatio={props.poolForLPRatio}\n            swerve\n            title={`Claimable ${props.showTokenName ? 'LP' : ''}`}\n            token={ClaimableAsset.LP}\n          />\n        </Grid>\n      : null\n  )\n  const beanReserveSection = (\n    props.beanReserveTotal > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.beanReserveTotal}\n            balanceColor={beanActive === 3 ? color.pool : null}\n            description={props.description.beanReserveTotal}\n            swerve\n            token={UniswapAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const beanTransitSection = (\n    props.beanTransitBalance > 0\n      ? <Grid item xs={12} >\n          <TokenBalanceModule\n            balance={props.beanTransitBalance}\n            balanceColor={beanActive === 2 ? color.transit : null}\n            description={props.description.beanTransitBalance}\n            swerve\n            title={`Withdrawn ${props.showTokenName ? 'Beans' : ''}`}\n            token={TransitAsset.Bean}\n          />\n        </Grid>\n      : null\n  )\n  const lpTransitSection = (\n    props.lpTransitBalance > 0\n      ? <Grid item xs={12}>\n          <TokenBalanceModule\n            balance={props.lpTransitBalance}\n            balanceColor={lpActive === 2 ? color.transit : null}\n            description={props.description.lpTransitBalance}\n            isLP={true}\n            poolForLPRatio={props.poolForLPRatio}\n            swerve\n            title={`Withdrawn ${props.showTokenName ? 'LP' : ''}`}\n            token={TransitAsset.LP}\n          />\n        </Grid>\n      : null\n  )\n\n  /* Bean Hidden */\n\n  const switchBeanSizeBalances = (\n    <>\n    <Hidden smUp>\n      <Grid item xs={12} style={smallGridStyle}>\n        <TokenBalanceModule\n          balance={beanTotals}\n          description='Total Beans'\n          style={{position: 'relative'}}\n          swerve\n          title='Total Beans'\n          token={CryptoAsset.Bean}\n        />\n      </Grid>\n    </Hidden>\n    <Hidden xsDown>\n      <Grid container item sm={6} xs={12} style={containerGridStyle} >\n          <Grid item xs={12}>\n            <FormatTooltip\n              margin={props.chartMargin}\n              placement='top'\n              title={beanTotals.isGreaterThan(0) && beanActive < 0 ? `${displayFullBN(beanTotals)} Beans` : ''}\n            >\n              <div>\n                <Chart\n                  asset={CryptoAsset.Bean}\n                  claimable={balance}\n                  circulating={props.beanBalance}\n                  pool={props.beanReserveTotal}\n                  silo={props.beanSiloBalance}\n                  setActive={setBeanActive}\n                  title='Beans'\n                  total={displayBN(beanTotals)}\n                  transit={props.beanTransitBalance}\n                />\n              </div>\n            </FormatTooltip>\n          </Grid>\n      </Grid>\n    </Hidden>\n    </>\n  )\n\n  /* LP Hidden */\n\n  const switchLPSizeBalances = (\n    <>\n    <Hidden smUp>\n      <Grid item xs={12} style={smallGridStyle}>\n        <TokenBalanceModule\n          balance={lpTotals}\n          description='Total LP'\n          isLP={true}\n          poolForLPRatio={props.poolForLPRatio}\n          style={{position: 'relative'}}\n          swerve\n          title='Total LP'\n          token={CryptoAsset.LP}\n        />\n      </Grid>\n    </Hidden>\n    <Hidden xsDown>\n      <Grid container item sm={6} xs={12} style={containerGridStyle}>\n        <Grid item xs={12}>\n          <FormatTooltip\n            placement='top'\n            margin={props.chartMargin}\n            title={\n              (props.beanLPTotal[0].isGreaterThan(0) || props.beanLPTotal[1].isGreaterThan(0)) && lpActive < 0\n                ? `${displayFullBN(props.beanLPTotal[0], BEAN.decimals)} Beans/${displayFullBN(props.beanLPTotal[1])} ETH`\n                : ''\n            }\n          >\n            <div>\n              <Chart\n                asset={CryptoAsset.LP}\n                claimable={props.lpReceivableBalance}\n                circulating={props.lpBalance}\n                setActive={setLPActive}\n                silo={props.lpSiloBalance}\n                title={`${TokenLabel(CryptoAsset.Bean)}/${TokenLabel(CryptoAsset.Ethereum)}`}\n                total={`${displayBN(props.beanLPTotal[0])}/${displayBN(props.beanLPTotal[1])}`}\n                transit={props.lpTransitBalance}\n              />\n            </div>\n          </FormatTooltip>\n        </Grid>\n      </Grid>\n    </Hidden>\n    </>\n  )\n\n  return (\n    <Grid container justifyContent='center' style={{padding: props.padding}}>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px', textAlign: 'left'}}>\n        <Grid container item xs={12} style={containerGridHorizontalStyle} >\n          <Grid item sm={6} xs={12}>\n            <BalanceModule\n              balance={`$${displayBN(props.topLeft)}`}\n              balanceDescription={`$${displayFullBN(props.topLeft)} ${props.strings.topLeft}`}\n              description={props.description.topLeft}\n              margin='0 0 6px 10px'\n              placement='top-start'\n              style={{position: 'relative'}}\n              swerve\n              title={props.description.topLeftTitle}\n            />\n          </Grid>\n          <Grid item sm={6} xs={12}>\n            <BalanceModule\n              balance={\n                props.topRight.isLessThanOrEqualTo(100)\n                  ? `${displayBN(props.topRight)}%`\n                  : `$${displayBN(props.topRight)}`\n              }\n              balanceDescription={\n                props.topRight.isGreaterThan(0)\n                  ? props.topRight.isLessThanOrEqualTo(100)\n                    ? `${displayFullBN(props.topRight)}% ${props.strings.topRight}`\n                    : `$${displayFullBN(props.topRight)} ${props.strings.topRight}`\n                  : undefined\n              }\n              description={props.description.topRight}\n              margin='0 0 6px 10px'\n              placement='top-start'\n              style={{position: 'relative'}}\n              swerve\n              title={props.description.topRightTitle}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n\n      <span style={spanStyle}>Beans</span>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px'}}>\n        <Grid container item sm={6} xs={12} style={containerGridStyle}>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.beanBalance}\n              balanceColor={beanActive === 0 ? color.circulating : null}\n              description={props.description.beanBalance}\n              swerve\n              title={`Circulating ${props.showTokenName ? 'Beans' : ''}`}\n              token={CryptoAsset.Bean}\n            />\n          </Grid>\n          <Grid item xs={12} >\n            <TokenBalanceModule\n              balance={props.beanSiloBalance}\n              balanceColor={beanActive === 1 ? color.silo : null}\n              description={props.description.beanSiloBalance}\n              swerve\n              title={`Deposited ${props.showTokenName ? 'Beans' : ''}`}\n              token={SiloAsset.Bean}\n            />\n          </Grid>\n          {beanTransitSection}\n          {claimableBeansSection}\n          {beanReserveSection}\n        </Grid>\n\n        {switchBeanSizeBalances}\n\n      </Grid>\n      <span style={spanStyle}>LP</span>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px'}}>\n        <Grid container item sm={6} xs={12} style={containerGridStyle}>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.lpBalance}\n              balanceColor={lpActive === 0 ? color.circulating : null}\n              description={props.description.lpBalance}\n              isLP={true}\n              poolForLPRatio={props.poolForLPRatio}\n              swerve\n              title={`Circulating ${props.showTokenName ? 'LP' : ''}`}\n              token={CryptoAsset.LP}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TokenBalanceModule\n              balance={props.lpSiloBalance}\n              balanceColor={lpActive === 1 ? color.silo : null}\n              description={props.description.lpSiloBalance}\n              isLP={true}\n              poolForLPRatio={props.poolForLPRatio}\n              swerve\n              title={`Deposited ${props.showTokenName ? 'LP' : ''}`}\n              token={SiloAsset.LP}\n            />\n          </Grid>\n          {lpTransitSection}\n          {claimableLPSection}\n        </Grid>\n\n        {switchLPSizeBalances}\n\n        </Grid>\n      <Grid container style={{backgroundColor: 'white', borderRadius: '25px', marginTop: '20px'}}>\n        <Grid container item xs={12} style={containerGridHorizontalStyle}>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.stalkBalance}\n              description={props.description.stalkBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={SiloAsset.Stalk}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.seedBalance}\n              description={props.description.seedBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={SiloAsset.Seed}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.podBalance}\n              description={props.description.podBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={FarmAsset.Pods}\n            />\n          </Grid>\n          <Grid item sm={3} xs={12}>\n            <TokenBalanceModule\n              balance={props.ethBalance}\n              description={props.description.ethBalance}\n              margin={props.margin}\n              placement='bottom'\n              token={CryptoAsset.Ethereum}\n            />\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n\nBalanceSection.defaultProps = {\n  chartMargin: '0 0 0 30px',\n  margin: '4px 0 0 20px',\n  padding: '10px',\n  showTokenName: true,\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  ClickAwayListener,\n  Grow,\n  MenuItem,\n  MenuList,\n  Paper,\n  Popper\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport {\n  BEAN,\n  ETH,\n  UNI_V2_ETH_BEAN_LP,\n  WITHDRAWAL_FROZEN\n} from '../../constants'\nimport {\n  chainId,\n  displayBN,\n  getBlockTimestamp,\n  GetWalletAddress,\n  toTokenUnitsBN\n} from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  FarmAsset,\n  SiloAsset,\n  TokenTypeImageModule,\n  TransitAsset,\n  walletDescriptions,\n  walletStrings\n} from '../Common'\nimport BalanceSection from '../Trade/BalanceSection'\n\nexport default function WalletModule(props) {\n  const classes = makeStyles({\n    walletButton: {\n      textDecoration: 'none',\n      borderRadius: '12px',\n      color: 'black',\n      textTransform: 'none',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '17px',\n      padding: '5px 8px',\n      marginLeft: '8px',\n      '&:hover': {\n        backgroundColor: '#61dafb38'\n      }\n    },\n    greenStyle: {\n      color: 'green',\n      display: 'block',\n      marginTop: '-7px',\n      width: '100%'\n    },\n    redStyle: {\n      color: 'red',\n      display: 'block',\n      width: '100%'\n    }\n  })()\n\n  const tokenImageStyle = {\n    height: '15px',\n    float: 'right',\n    margin: '0px 8px 0px 4px',\n  }\n  const eventTitleStyle = {\n    display: 'inline-block',\n    maxWidth: '60',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '14px',\n  }\n  const timestampStyle = {\n    width: '100%',\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '13px',\n    color: 'gray',\n    fontStyle: 'normal',\n  }\n  const eventAmountStyle = {\n    display: 'inline-block',\n    marginTop: '10px',\n    height: '100%',\n    width: '40%',\n    fontFamily: 'Lucida Console',\n    fontSize: '12px',\n    textAlign: 'right',\n    float: 'right',\n    paddingRight: '3%',\n  }\n  const menuItemStyle = {\n    minHeight: '44px',\n    padding: '5px',\n    whiteSpace: 'normal',\n    fontSize: 'small',\n    borderBottom: '1px solid #ccc',\n  }\n  const [walletListStyle, setWalletListStyle] = useState({\n    position: 'absolute',\n    right: '-120px',\n    top: '1px',\n    width: '365px',\n    maxHeight: '395px',\n    overflow: 'scroll'\n  })\n\n  const [walletText, setWalletText] = useState('Wallet')\n  const anchorRefWallet = React.useRef<any>(null)\n  const [openWallet, setOpenWallet] = React.useState(false)\n  const handleToggleWallet = () => {\n    setWalletListStyle(prev => ({...prev, right: window.innerWidth < 600 ? '-170px' : '-120px'}))\n    setOpenWallet((prevOpen) => !prevOpen)\n  }\n  const handleCloseWallet = () => { setOpenWallet(false) }\n\n  const [walletEvents, setWalletEvents] = useState([])\n\n  useEffect(() => {\n    async function handleWallet() {\n      GetWalletAddress().then(accountHex => {\n        if (accountHex !== undefined) {\n          const accountDisplay = `${accountHex.substr(0, 6)}...${accountHex.substr(accountHex.length - 4, 4)}`\n          setWalletText(accountDisplay)\n        } else {\n          console.log('Please Install Metamask!')\n        }\n      })\n    }\n\n    async function buildWalletEvents() {\n      var timestampPromisesByBlockNumber = {}\n      props.events.forEach((event, _) => {\n        if (timestampPromisesByBlockNumber[event.blockNumber] === undefined)\n          timestampPromisesByBlockNumber[event.blockNumber] = getBlockTimestamp(event.blockNumber)\n      })\n      const blockNumbers = Object.keys(timestampPromisesByBlockNumber)\n      const blockTimePromises = Object.values(timestampPromisesByBlockNumber)\n      Promise.all(blockTimePromises).then((blockTimestamps) => {\n        var timestampsByBlockNumber = {}\n        blockTimestamps.forEach((timestamp, index) => {\n          const blockNumber = blockNumbers[index]\n          timestampsByBlockNumber[blockNumber] = timestamp\n        })\n\n        var filteredEvents = []\n        props.events.forEach((event, _) => {\n          switch (event.event) {\n            case 'BeanRemove':\n            case 'LPRemove':\n              return\n          }\n          event.timestamp = timestampsByBlockNumber[event.blockNumber]\n          filteredEvents.push(event)\n        })\n        filteredEvents.sort(function(a, b) {\n          const blockDiff = b.blockNumber - a.blockNumber\n          return blockDiff === 0 ? b.logIndex - a.logIndex : blockDiff\n        })\n\n        var batchedEvents = []\n        var currentBlock = {}\n        var pendingAmountsPerType = {}\n        var pendingSeasonsPerType = {}\n        filteredEvents.forEach((event, index) => {\n          function flushPendingAmounts() {\n            for (const type in pendingAmountsPerType) {\n              var batchedEvent = {}\n              switch (type) {\n                case 'BeanDeposit': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = {\n                    beans: pendingAmountsPerType[type],\n                    season: seasonsDisplay(pendingSeasonsPerType[type])\n                  }\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n                case 'LPDeposit': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = {\n                    lp: pendingAmountsPerType[type],\n                    season: seasonsDisplay(pendingSeasonsPerType[type])\n                  }\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n                case 'Sow': {\n                  batchedEvent.event = type\n                  batchedEvent.returnValues = pendingAmountsPerType[type]\n                  batchedEvents.push(batchedEvent)\n                  break\n                }\n              }\n              batchedEvent.transactionHash = currentBlock.transactionHash\n              batchedEvent.timestamp = currentBlock.timestamp\n            }\n            pendingAmountsPerType = {}\n            pendingSeasonsPerType = {}\n          }\n          const lastElement = index === filteredEvents.length - 1\n\n          if (currentBlock.number !== event.blockNumber) {\n            flushPendingAmounts()\n            currentBlock = {\n              number: event.blockNumber,\n              transactionHash: event.transactionHash,\n              timestamp: event.timestamp\n            }\n          }\n\n          function updateSeasons(pendingSeasons, season) {\n            pendingSeasons.min = Math.min(pendingSeasons.min, season)\n            pendingSeasons.max = Math.max(pendingSeasons.max, season)\n            return pendingSeasons\n          }\n          function seasonsDisplay(season) {\n            return season.min === season.max ? (` ${season.min}`) : (`s ${season.min}-${season.max}`)\n          }\n          /* Special Handling for events that may repeat in a single block */\n          switch (event.event) {\n            case 'BeanDeposit': {\n              const beans = new BigNumber(event.returnValues.beans)\n              const pendingBeans = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = pendingBeans === undefined ? beans : beans.plus(pendingBeans)\n\n              const season = event.returnValues.season\n              const pendingSeasons = pendingSeasonsPerType[event.event]\n              pendingSeasonsPerType[event.event] = (\n                pendingSeasons === undefined\n                  ? {min: season, max: season}\n                  : updateSeasons(pendingSeasons, season)\n              )\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n            case 'LPDeposit': {\n              const lp = new BigNumber(event.returnValues.lp)\n              const pendingLP = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = (\n                pendingLP === undefined\n                  ? lp\n                  : lp.plus(pendingLP)\n              )\n              const season = event.returnValues.season\n              const pendingSeasons = pendingSeasonsPerType[event.event]\n              pendingSeasonsPerType[event.event] = (\n                pendingSeasons === undefined\n                  ? {min: season, max: season}\n                  : updateSeasons(pendingSeasons, season)\n              )\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n            case 'Sow': {\n              const pods = new BigNumber(event.returnValues.pods)\n              const beans = new BigNumber(event.returnValues.beans)\n              const pending = pendingAmountsPerType[event.event]\n              pendingAmountsPerType[event.event] = {\n                pods: pending === undefined ? pods : pods.plus(pending.pods),\n                beans: pending === undefined ? beans : beans.plus(pending.beans)\n              }\n              if (lastElement) flushPendingAmounts()\n              return\n            }\n          }\n          batchedEvents.push(event)\n        })\n        setWalletEvents(batchedEvents)\n      })\n    }\n    handleWallet()\n    buildWalletEvents()\n  }, [props.events])\n\n  function displayEvent(event) {\n    const inOutDisplay = (inBN, inToken, outBN, outToken) => (\n      <>\n      <span className={classes.greenStyle}>\n        {`+${displayBN(outBN)}`} <TokenTypeImageModule style={tokenImageStyle} token={outToken} />\n      </span>\n      <span className={classes.redStyle}>\n        {`-${displayBN(inBN)}`} <TokenTypeImageModule style={tokenImageStyle} token={inToken} />\n      </span>\n      </>\n    )\n    const outDisplay = (outBN, outToken) => (\n      <>\n      <span style={{color: 'green'}}>{`+${displayBN(outBN)}`}</span>\n      <TokenTypeImageModule style={tokenImageStyle} token={outToken} />\n      </>\n    )\n\n    var eventTitle = `Event Name: ${event.event}`\n    let eventAmount\n    switch (event.event) {\n      case 'BeanDeposit': {\n        const s = event.returnValues.season\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = `Bean Deposit (Season${s})`\n        eventAmount = outDisplay(beans, SiloAsset.Bean)\n        break\n      }\n      case 'BeanClaim': {\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Bean Claim'\n        eventAmount = inOutDisplay(beans, ClaimableAsset.Bean, beans, CryptoAsset.Bean)\n        break\n      }\n      case 'BeanWithdraw': {\n        const s = parseInt(event.returnValues.season)\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = `Bean Withdrawal (Season ${s - WITHDRAWAL_FROZEN})`\n        eventAmount = inOutDisplay(beans, SiloAsset.Bean, beans, TransitAsset.Bean)\n        break\n      }\n      case 'Sow': {\n        const pods = toTokenUnitsBN(event.returnValues.pods, BEAN.decimals)\n\n        if (event.returnValues.beans !== undefined) {\n          const beans = toTokenUnitsBN(event.returnValues.beans, BEAN.decimals)\n          const weather = pods.dividedBy(beans).minus(new BigNumber(1)).multipliedBy(100).toFixed(0)\n\n          eventTitle = `Bean Sow (${weather}% Weather)`\n          eventAmount = inOutDisplay(beans, CryptoAsset.Bean, pods, FarmAsset.Pods)\n        } else {\n          eventTitle = 'Bean Sow'\n          eventAmount = (\n            <>\n            <span style={{color: 'green'}}>{displayBN(pods)}</span>\n            <TokenTypeImageModule style={tokenImageStyle} token={FarmAsset.Pods} />\n            </>\n          )\n        }\n        break\n      }\n      case 'Harvest': {\n        const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Pod Harvest'\n        eventAmount = inOutDisplay(beans, FarmAsset.Pods, beans, CryptoAsset.Bean)\n        break\n      }\n      case 'LPDeposit': {\n        const s = event.returnValues.season\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Deposit (Season${s})`\n        eventAmount = outDisplay(lp, SiloAsset.LP)\n        break\n      }\n      case 'LPClaim': {\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Claim`\n        eventAmount = inOutDisplay(lp, ClaimableAsset.LP, lp, CryptoAsset.LP)\n        break\n      }\n      case 'LPWithdraw': {\n        const s = parseInt(event.returnValues.season)\n        const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n\n        eventTitle = `LP Withdrawal (Season ${s - WITHDRAWAL_FROZEN})`\n        eventAmount = inOutDisplay(lp, SiloAsset.LP, lp, TransitAsset.LP)\n        break\n      }\n      case 'Proposal': {\n        eventTitle = 'BIP Proposal'\n        eventAmount = (\n          <span style={{fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Vote': {\n        eventTitle = 'BIP Vote'\n        eventAmount = (\n          <span style={{color: 'green', fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Unvote': {\n        eventTitle = 'BIP Unvote'\n        eventAmount = (\n          <span style={{color: 'red', fontFamily: 'Futura-PT-Book'}}>\n            {`BIP ${event.returnValues.bip}`}\n          </span>\n        )\n        break\n      }\n      case 'Incentivization': {\n        const beanReward = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n\n        eventTitle = 'Sunrise Reward'\n        eventAmount = outDisplay(beanReward, CryptoAsset.Bean)\n        break\n      }\n      case 'Swap': {\n        if (event.returnValues.amount0In !== '0') {\n          const swapFrom = toTokenUnitsBN(new BigNumber(event.returnValues.amount0In), ETH.decimals)\n          const swapTo = toTokenUnitsBN(new BigNumber(event.returnValues.amount1Out), BEAN.decimals)\n\n          eventTitle = 'ETH to Bean Swap'\n          eventAmount = inOutDisplay(swapFrom, CryptoAsset.Ethereum, swapTo, CryptoAsset.BEAN)\n        } else if (event.returnValues.amount1In !== '0') {\n          const swapFrom = toTokenUnitsBN(new BigNumber(event.returnValues.amount1In), BEAN.decimals)\n          const swapTo = toTokenUnitsBN(new BigNumber(event.returnValues.amount0Out), ETH.decimals)\n\n          eventTitle = 'Bean to ETH Swap'\n          eventAmount = inOutDisplay(swapFrom, CryptoAsset.BEAN, swapTo, CryptoAsset.Ethereum)\n        }\n        break\n      }\n      case 'EtherClaim': {\n        const ethReward = toTokenUnitsBN(new BigNumber(event.returnValues.ethereum), ETH.decimals)\n\n        eventTitle = 'ETH Claim'\n        eventAmount = outDisplay(ethReward, CryptoAsset.Ethereum)\n        break\n      }\n    }\n\n    const date = new Date(event.timestamp * 1e3)\n    const dateString = date.toLocaleDateString('en-US')\n    const timeString = date.toLocaleTimeString('en-US')\n\n    return (\n      <div style={{width: '100%', paddingLeft: '3px'}}>\n        <div style={{width: '100%'}}>\n          <div style={eventTitleStyle}>\n            {eventTitle}\n            <br/>\n            <div style={timestampStyle}>{`${dateString} ${timeString}`}</div>\n          </div>\n          <div style={eventAmountStyle}>\n            {eventAmount}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  const walletSubtitles = ['Bean', 'ETH', 'LP', 'Field', 'Other']\n  const [transactionPage, setTransactionPage] = useState(-1)\n  const walletEventsDisplay = (\n    <>\n    <div style={{zIndex: '1', width: '100%', height: '40px'}}>\n      {walletSubtitles.map((title, index) => (\n        <Button\n          key={index}\n          onClick={() => {\n            if (transactionPage === index) {\n              setTransactionPage(-1)\n            } else {\n              setTransactionPage(index)\n            }\n            document.getElementById('wallet-list-paper').scrollTop = 0\n          }}\n          style={{\n            borderBottom: '1px solid #efefef',\n            borderRadius: '0px',\n            height: '100%',\n            width: `calc(100% / ${walletSubtitles.length})`,\n            display: 'inline-block',\n            fontSize: 'medium',\n            padding: '5px',\n            cursor: 'pointer',\n            textTransform: 'none',\n            backgroundColor: transactionPage === index ? '#EFF7FF' : 'white',\n            textAlign: 'center',\n            fontFamily: 'Futura-PT-Book',\n          }}\n        >\n          {title}\n        </Button>\n      ))}\n    </div>\n    {walletEvents.filter((event) => {\n      if (transactionPage === 0) return ['BeanDeposit', 'BeanWithdraw', 'BeanClaim'].includes(event.event)\n      if (transactionPage === 1) return ['EtherClaim', 'Swap'].includes(event.event)\n      if (transactionPage === 2) return ['LPDeposit', 'LPWithdraw', 'LPClaim'].includes(event.event)\n      if (transactionPage === 3) return ['Sow', 'Harvest'].includes(event.event)\n      if (transactionPage === 4) return ['Vote', 'Unvote', 'Proposal', 'Incentivization'].includes(event.event)\n      return true\n     }).map((event, index) => {\n      const ropstenPrefix = chainId === 3 ? 'ropsten.' : ''\n      const etherscanURL = `https://${ropstenPrefix}etherscan.io/tx/${event.transactionHash}`\n      return (\n        <MenuItem onClick={() => window.open(etherscanURL)} style={menuItemStyle} key={index}>\n          {displayEvent(event)}\n        </MenuItem>\n      )\n    })}\n    </>\n  )\n\n  const userLP = props.lpBalance.plus(props.lpSiloBalance).plus(props.lpTransitBalance).plus(props.lpReceivableBalance)\n  const userBeans = props.beanBalance.plus(props.beanSiloBalance).plus(props.beanTransitBalance).plus(props.beanReceivableBalance).plus(props.harvestablePodBalance)\n  const userBeansAndEth = props.poolForLPRatio(userLP)\n  const userLPBeans = userBeansAndEth[0].multipliedBy(2)\n  const userBalanceInDollars = userBeans.plus(userLPBeans).multipliedBy(props.beanPrice)\n\n  const myBalancesSection = (\n    <>\n    <BalanceSection\n      description={walletDescriptions}\n      strings={walletStrings}\n      topLeft={userBalanceInDollars}\n      topRight={props.stalkBalance.dividedBy(props.totalStalk).multipliedBy(100)}\n      beanReserveTotal={new BigNumber(0)}\n      beanLPTotal={userBeansAndEth}\n      padding='4px 0 0 0'\n      showTokenName={false}\n      chartMargin='0 0 0 10px'\n      {...props}\n    />\n    </>\n  )\n\n  const [walletPage, setWalletPage] = useState(0)\n  const walletTitles = ['Transactions', 'My Balances']\n  const walletPages = [walletEventsDisplay, myBalancesSection]\n\n  return (\n    <>\n    <Button onClick={() => handleToggleWallet()}\n            className={classes.walletButton}\n            ref={anchorRefWallet}\n            aria-controls={openWallet ? 'wallet-list-grow' : undefined}\n            aria-haspopup='true'>\n      {walletText}\n    </Button>\n    <Popper open={openWallet} anchorEl={anchorRefWallet.current} role={undefined} transition disablePortal>\n      {({ TransitionProps, placement }) => (\n        <Grow\n          {...TransitionProps}\n          style={{ transformOrigin: 'center top' }}\n        >\n          <Paper id='wallet-list-paper' style={walletListStyle}>\n            <ClickAwayListener onClickAway={handleCloseWallet}>\n              <MenuList style={{padding: '0px'}} autoFocusItem={openWallet} id='wallet-list-grow'>\n                <div style={{zIndex: '1', width: '100%', height: '40px', position: 'sticky', top: '0px'}}>\n                  {walletTitles.map((title, index) => (\n                    <Button\n                      key={index}\n                      onClick={() => {\n                        setWalletPage(index)\n                        setTransactionPage(-1)\n                        document.getElementById('wallet-list-paper').scrollTop = 0\n                      }}\n                      style={{\n                        borderBottom: '2px solid #efefef',\n                        borderRadius: '0px',\n                        height: '100%',\n                        width: `calc(100% / ${walletTitles.length})`,\n                        display: 'inline-block',\n                        fontSize: 'medium',\n                        padding: '5px',\n                        cursor: 'pointer',\n                        textTransform: 'none',\n                        backgroundColor: index !== walletPage ? 'white' : '#EFF7FF',\n                        textAlign: 'center',\n                        fontFamily: 'Futura-PT-Book',\n                      }}\n                    >\n                      {title}\n                    </Button>\n                  ))}\n                </div>\n                <div style={{zIndex: '0', paddingTop: '0px'}}>\n                  {walletPages[walletPage]}\n                </div>\n              </MenuList>\n            </ClickAwayListener>\n          </Paper>\n        </Grow>\n      )}\n    </Popper>\n    </>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  AppBar,\n  Button,\n  ClickAwayListener,\n  Container,\n  Grow,\n  IconButton,\n  List,\n  ListItem,\n  MenuList,\n  MenuItem,\n  Paper,\n  Popper,\n  Toolbar\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport { Link } from 'react-scroll'\nimport BeanLogo from '../../img/bean-logo.svg'\nimport background from '../../img/cloud-background.png'\nimport { chainId } from '../../util'\nimport WalletModule from './WalletModule'\n\nexport default function NavigationBar(props) {\n  const classes = makeStyles({\n    fixedNav: {\n      backgroundColor: 'transparent',\n      backgroundImage: `url(${background}), url(${background})`,\n      backgroundPosition: '0px 0px, 1px 0px',\n      backgroundRepeat: 'repeat-x, repeat-x',\n      backgroundSize: 'contain, contain',\n      boxShadow: 'none',\n      height: '85px',\n      position: 'fixed'\n    },\n    navDisplayFlex: {\n      display: 'flex',\n      justifyContent: 'space-between'\n    },\n    linkText: {\n      borderRadius: '16px',\n      color: 'black',\n      fontFamily: 'Futura-PT-Book',\n      fontSize: '17px',\n      margin: '4px',\n      padding: '0px !important',\n      textDecoration: 'none',\n      textTransform: 'uppercase'\n    },\n    linkPadding: {\n      borderRadius: '16px',\n      padding: '12px 18px'\n    },\n    activeLinkText: {\n      backgroundColor: '#61dafb38'\n    },\n    activeAboutLinkText: {\n      backgroundColor: '#61dafb38',\n      borderRadius: '16px',\n      padding: '12px 18px'\n    }\n  })()\n\n  const anchorRef = React.useRef<any>(null)\n  const [open, setOpen] = React.useState(false)\n  const handleToggle = () => { setOpen((prevOpen) => !prevOpen) }\n  const handleClose = () => { setOpen(false) }\n\n  const [isScrolledToBottom, setIsScrolledToBottom] = useState(false)\n  function handleScroll() {\n    const windowHeight = 'innerHeight' in window ? window.innerHeight : document.documentElement.offsetHeight\n    const body = document.body\n    const html = document.documentElement\n    const docHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight)\n    const windowBottom = windowHeight + window.pageYOffset\n    setIsScrolledToBottom(windowBottom >= docHeight)\n    localStorage.setItem('scrollPosition', window.pageYOffset)\n  }\n  useEffect(() => {\n    const scrollY = localStorage.getItem('scrollPosition')\n    if (scrollY !== undefined) window.scrollTo(0, scrollY)\n\n    window.addEventListener('scroll', handleScroll)\n    return () => {\n      window.removeEventListener('scroll', handleScroll)\n    }\n  }, [])\n\n  const linkItemStyle = (path) => ( path === 'governance' ? {color: 'rgb(14, 136, 55)'} : null )\n\n  const mobileNavigation = (\n    <div className='NavigationBarHamburger'>\n      <List component='nav' aria-labelledby='main navigation' className={classes.navDisplayFlex}>\n        <ListItem>\n          <WalletModule {...props} />\n        </ListItem>\n      </List>\n      <Button\n        ref={anchorRef}\n        aria-controls={open ? 'menu-list-grow' : undefined}\n        aria-haspopup='true'\n        onClick={handleToggle}\n      >\n        <MenuIcon />\n      </Button>\n      <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList autoFocusItem={open} id='menu-list-grow'>\n                  {props.links.map(({ title, path }) => (\n                    <MenuItem key={path} button className={classes.linkText} style={linkItemStyle(path)}>\n                      <Link\n                        duration={450}\n                        to={path}\n                        onClick={handleClose}\n                        activeClass={classes.activeLinkText}\n                        className={classes.linkPadding}\n                        spy={true}\n                        smooth={true}\n                      >\n                        {title}\n                      </Link>\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </div>\n  )\n\n  const desktopNavigation = (\n    <List component='nav' aria-labelledby='main navigation' className='NavigationBar'>\n      {props.links.map(({ title, path }) => (\n        <ListItem key={path} button className={classes.linkText} style={linkItemStyle(path)}>\n          <Link\n            to={path}\n            duration={450}\n            activeClass={isScrolledToBottom ? null : classes.activeLinkText}\n            className={path === 'about' && isScrolledToBottom ? classes.activeAboutLinkText : classes.linkPadding}\n            spy={true}\n            smooth={true}\n          >\n            {title}\n          </Link>\n        </ListItem>\n      ))}\n      <ListItem>\n        <WalletModule {...props} />\n      </ListItem>\n    </List>\n  )\n\n  const beanLogoFilter = (\n    chainId === 3\n      ? {filter: 'invert(62%) sepia(71%) saturate(5742%) hue-rotate(312deg) brightness(103%) contrast(101%)'}\n      : null\n  )\n  const beanLogo = (\n    <IconButton edge='start' color='inherit' className='App-logo'>\n      <img style={beanLogoFilter} height='36px' src={BeanLogo} alt='bean.money' />\n    </IconButton>\n  )\n\n  return (\n    <AppBar className={classes.fixedNav}>\n      <Toolbar>\n        <Container className={classes.navDisplayFlex}>\n          {beanLogo}\n          {mobileNavigation}\n          {desktopNavigation}\n        </Container>\n      </Toolbar>\n    </AppBar>\n  )\n}\n","export default __webpack_public_path__ + \"static/media/black-sun.7e2e7598.svg\";","import BigNumber from 'bignumber.js'\nimport React from 'react'\nimport {\n  BEAN,\n  DELTA_POD_DEMAND_LOWER_BOUND,\n  DELTA_POD_DEMAND_UPPER_BOUND,\n  MAX_UINT32,\n  OPTIMAL_POD_RATE,\n  PEG_WEATHER_CASES,\n  POD_RATE_LOWER_BOUND,\n  POD_RATE_UPPER_BOUND,\n  SOIL_MAX_RATIO_CAP,\n  SOIL_MIN_RATIO_CAP\n} from '../../constants'\nimport {\n  displayBN,\n  displayFullBN,\n  MaxBN,\n  TrimBN\n} from '../../util'\nimport { BalanceModule, Grid, QuestionModule } from '../Common'\n\n// const cases = [3,1,0,0,-1,-3,-3,0,3,1,0,0,-1,-3,-3,0,3,3,1,0,0,0,-1,0,3,3,1,0,1,0,-1,0]\n\nconst gridStyle = {\n  backgroundColor: 'white',\n  borderRadius: '25px',\n  marginBottom: '12px',\n  padding: '10px 10px 4px 10px',\n}\nconst spanStyle = {\n  display: 'inline-block',\n  fontFamily: 'Futura-Pt-Book',\n  fontWeight: 'bold',\n  marginTop: '0px',\n  padding: '0 10px',\n  textAlign: 'left',\n  width: '100%',\n}\nconst lineStyle = {\n  backgroundColor: 'primary',\n  color: 'primary',\n  margin: '10px 8px',\n}\nconst pegMaintenanceStyle = {\n  borderRadius: '25px',\n  color: 'primary',\n  backgroundColor: '#F5FAFF',\n  padding: '10px',\n  fontFamily: 'Futura-Pt-Book',\n  marginTop: '15px'\n}\nconst pegMaintenanceSpanStyle = {\n  width: '100%',\n  display: 'inline-block',\n  textAlign: 'center',\n  marginTop: '5px',\n  fontFamily: 'Futura-Pt-Book',\n  fontSize: '20px'\n}\n\nconst bottomGridStyle = Object.assign({}, gridStyle)\nbottomGridStyle.marginBottom = null\n\nfunction StatBalance(props) {\n  return(\n    <Grid item sm={props.gridWidth !== undefined ? props.gridWidth : 4} xs={12}>\n      <BalanceModule questionMargin='-8px 0 0 2px' {...props} />\n    </Grid>\n  )\n}\n\nfunction Stats(props) {\n  const gridWidth = props.four !== undefined ? 3 : 4\n  return (\n    <Grid container justifyContent='center' style={gridStyle}>\n      <span style={spanStyle}>{props.title}<hr/></span>\n      <StatBalance gridWidth={gridWidth} {...props.one} />\n      <StatBalance gridWidth={gridWidth} {...props.two} />\n      <StatBalance gridWidth={gridWidth} {...props.three} />\n      {props.four !== undefined\n        ? <StatBalance\n            gridWidth={gridWidth}\n            style={isNaN(props.four.balance) ? {fontFamily: 'Futura-Pt-Book'} : null}\n            {...props.four}\n          />\n        : null\n      }\n    </Grid>\n  )\n}\n\nexport default function PegMaintenance(props) {\n  const price = props.beanTWAPPrice.dividedBy(props.usdcTWAPPrice)\n  const podRate = props.totalPods.dividedBy(props.totalBeans).multipliedBy(100)\n  const deltaSoil = props.startSoil.minus(props.soil)\n  // const deltaDemand = (\n  //   deltaSoil.isEqualTo(0)\n  //     ? new BigNumber(0)\n  //     : props.lastDSoil.isEqualTo(0)\n  //       ? new BigNumber(100000)\n  //       : deltaSoil.dividedBy(props.lastDSoil)\n  // )\n  const deltaDemand = (\n    !deltaSoil.isEqualTo(0)\n      ? !props.lastDSoil.isEqualTo(0)\n        ? deltaSoil.dividedBy(props.lastDSoil)\n        : new BigNumber(100000)\n      :  new BigNumber(0)\n  )\n\n  let caseId = 0\n  if (podRate.isGreaterThanOrEqualTo(POD_RATE_UPPER_BOUND)) caseId = 24\n  else if (podRate.isGreaterThanOrEqualTo(OPTIMAL_POD_RATE)) caseId = 16\n  else if (podRate.isGreaterThanOrEqualTo(POD_RATE_LOWER_BOUND)) caseId = 8\n\n  if (price.isGreaterThan(1) || (price.isEqualTo(1) && podRate.isLessThanOrEqualTo(OPTIMAL_POD_RATE))) {\n    caseId += 4\n  }\n\n  if (deltaDemand.isGreaterThanOrEqualTo(DELTA_POD_DEMAND_UPPER_BOUND)) {\n      caseId += 2\n  } else if (deltaDemand.isGreaterThanOrEqualTo(DELTA_POD_DEMAND_LOWER_BOUND)) {\n      if (props.lastSowTime.isEqualTo(MAX_UINT32) || !props.didSowBelowMin) caseId += 1\n      else if (props.didSowFaster) caseId += 2\n  }\n\n  let deltaWeather = new BigNumber(PEG_WEATHER_CASES[caseId])\n  if (props.weather.plus(deltaWeather).isLessThanOrEqualTo(0)) deltaWeather = props.weather.minus(1)\n\n  const currentBeans = (props.beanReserve.multipliedBy(props.ethReserve).dividedBy(props.beanTWAPPrice)).sqrt()\n  const targetBeans = (props.beanReserve.multipliedBy(props.ethReserve).dividedBy(props.usdcTWAPPrice)).sqrt()\n\n  let newBeans = new BigNumber(0)\n  let newSoil = new BigNumber(0)\n  if (currentBeans.isLessThan(targetBeans)) newBeans = targetBeans.minus(currentBeans)\n  else if (targetBeans.isLessThan(currentBeans)) newSoil = currentBeans.minus(targetBeans)\n\n  const minTotalSoil = props.totalBeans.multipliedBy(SOIL_MIN_RATIO_CAP)\n  if (props.soil.isLessThan(minTotalSoil))\n    newSoil = MaxBN(minTotalSoil.minus(props.soil), newSoil)\n  const maxTotalSoil = props.totalBeans.multipliedBy(SOIL_MAX_RATIO_CAP)\n  if (props.soil.isGreaterThan(maxTotalSoil))\n    newSoil = props.soil.minus(maxTotalSoil)\n\n  const rainingSeasons = props.season.minus(props.rainStart)\n  const rainNextSeason = caseId > 3 && caseId < 8\n  let rainForecast\n  if (props.raining && rainNextSeason) rainForecast = 'More Showers'\n  else if (rainNextSeason) rainForecast = 'Start'\n  else if (props.raining) rainForecast = 'Stop'\n  else rainForecast = 'Sun'\n  newBeans = TrimBN(newBeans, BEAN.decimals)\n  newSoil = TrimBN(newSoil, BEAN.decimals)\n\n  const nextSeasonStats = {\n    title: 'Next Season',\n    one: {\n      title: 'New Beans',\n      balance: displayBN(newBeans),\n      description: 'Expected New Beans Minted at the Beginning of Next Season',\n      balanceDescription: (\n        newBeans > 0\n          ? `${displayFullBN(newBeans)} Beans`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    two: {\n      title: 'New Soil',\n      balance: displayBN(newSoil),\n      description: 'Expected New Soil Minted at the Beginning of Next Season',\n      balanceDescription: (\n        newSoil > 0\n          ? `${displayFullBN(newSoil)} Soil`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    three: {\n      title: 'Weather Forecast',\n      balance: `${props.weather.plus(deltaWeather)}%`,\n      description: 'Expected Weather Next Season',\n      balanceDescription: (\n        deltaWeather !== 0\n          ? `${props.weather.plus(deltaWeather).toString()}% Weather`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    four: {\n      title: 'Rain Forecast',\n        balance: rainForecast,\n      description: 'Expected Rain Status Next Season'\n    }\n  }\n\n  const currentSeasonStats = {\n    title: 'Current Season',\n    one: {\n      title: 'Price',\n      balance: `$${price.toFixed(4)}`,\n      description: 'Time Weighted Average Bean Price for Current Season',\n      balanceDescription: `$${displayFullBN(price)} Price`,\n      placement: 'bottom'\n    },\n    two: {\n      title: 'Pod Rate',\n      balance: `${displayBN(podRate)}%`,\n      description: 'Pod Rate as a Percent of Total Bean Supply',\n      balanceDescription: (\n        podRate.isGreaterThan(0)\n          ? `${displayFullBN(podRate)}% Pod Rate`\n          : undefined\n      ),\n      placement: 'bottom'\n    },\n    three: {\n      title: 'Delta Demand',\n      balance: (\n        props.lastDSoil.isEqualTo(0) && deltaSoil.isGreaterThan(0)\n          ? <span><span style={{fontSize: '19px'}}>&#8734;</span>%</span>\n          : `${deltaDemand.multipliedBy(100).toFixed(2)}%`\n      ),\n      description: 'Rate of Change in Demand For Pods',\n      balanceDescription: (\n        props.lastDSoil.isEqualTo(0) || deltaSoil.isGreaterThan(0)\n          ? undefined\n          :  `${displayBN(deltaDemand)}% Change in Demand`\n      ),\n      placement: 'bottom'\n    },\n  }\n  if (props.raining) {\n    currentSeasonStats['four'] = {\n      title: 'Seasons of Rain',\n      balance: displayBN(rainingSeasons.plus(1)),\n      description: 'Number of Consecutive Seasons it has been Raining For'\n    }\n  }\n\n  return (\n    <Grid container item xs={12} spacing={3} alignItems='center' justifyContent='center' style={{maxWidth: '1145px'}}>\n      <Grid item md={8} sm={12} xs={12}>\n        <div className='AppBar-shadow' style={pegMaintenanceStyle}>\n          <span style={pegMaintenanceSpanStyle}>\n            Peg Maintenance\n            <QuestionModule description='Peg Maintenance Section' margin='-6px 0 0 2px' />\n          </span>\n          <hr style={lineStyle}\n          />\n          <Stats {...nextSeasonStats} />\n          <Stats {...currentSeasonStats} />\n        </div>\n      </Grid>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { Box, CircularProgress, Typography } from '@material-ui/core'\nimport { FormatTooltip } from '../Common'\n\nexport default function CircularProgressWithLabel(props) {\n  const showBlip = props.value - props.lowvalue < 3 && props.value - props.lowvalue > 0\n  const displayLowNumber = showBlip ? 3 : props.value - props.lowvalue\n  const rotation = (\n    !showBlip\n      ? `rotate(${-90 + 360 * props.lowvalue / 100}deg)`\n      : `rotate(${-90 + 360 * (props.lowvalue - displayLowNumber / 2) / 100}deg)`\n  )\n  const color = props.voting ? 'green' : 'red'\n\n  const arrow = '\\u2192'\n\n  const votingTitle = (\n    props.voting\n      ? (`${props.lowvalue}% ${arrow} ${props.value}%`)\n      : (`${props.value}% ${arrow} ${props.lowvalue}%`)\n  )\n  // const title = (\n  //   props.lowvalue === undefined\n  //     ? `${props.value}%`\n  //     : props.lowvalue !== props.value\n  //       ? votingTitle\n  //       : `${props.value}%`\n  // )\n\n  const title = (\n    props.lowvalue !== undefined && props.lowvalue !== props.value\n      ? votingTitle\n      : `${props.value}%`\n  )\n\n  const circles = []\n  if (props.lowvalue !== undefined) {\n    circles.push(\n      <CircularProgress\n        key='blackground'\n        size={38}\n        style={{position: 'absolute', left: '1.2px', top: '1.2px'}}\n        thickness={0.5}\n        variant='determinate'\n        value={100}\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='change'\n        style={{position: 'absolute', color: color, transform:rotation}}\n        value={displayLowNumber}\n        variant='determinate'\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='majoriry'\n        style={{position: 'absolute', transform: `rotate(87deg)`}}\n        thickness={7}\n        value={7 * 100 / 360}\n        variant='determinate'\n      />\n    )\n    circles.push(\n      <CircularProgress\n        key='superMajority'\n        style={{position: 'absolute', transform: `rotate(147deg)`}}\n        thickness={7}\n        value={7 * 100 / 360}\n        variant='determinate'\n      />\n    )\n  }\n\n  return (\n    <FormatTooltip margin='0' title={title}>\n      <Box display='inline-flex' position='relative'>\n          <CircularProgress\n            value={props.lowvalue!==undefined ? props.lowvalue : props.value}\n            variant='determinate'\n          />\n          {circles}\n        <Box\n          alignItems='center'\n          bottom={0}\n          display='flex'\n          justifyContent='center'\n          left={0}\n          position='absolute'\n          right={0}\n          top={0}\n        >\n          <Typography\n            color='textSecondary'\n            component='div'\n            style={{position: 'absolute'}}\n            variant='caption'\n          >\n            {props.lowvalue === undefined ? `${Math.round(props.value)}%` : ''}\n          </Typography>\n        </Box>\n      </Box>\n    </FormatTooltip>\n  )\n}\n\nCircularProgressWithLabel.defaultProps = {\n  voting: false,\n}\n","import React, { Fragment, useState } from 'react'\nimport {\n  AppBar,\n  Collapse,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TablePagination,\n  TableHead,\n  TableRow\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown'\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp'\nimport {\n  bipsList,\n  GOVERNANCE_EMERGENCY_PERIOD,\n  GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR,\n  GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR,\n  GOVERNANCE_EXPIRATION\n} from '../../constants'\nimport { percentForStalk } from '../../util'\nimport { QuestionModule } from '../Common'\nimport CircularProgressWithLabel from './CircularProgressWithLabel'\n\nexport default function GovernanceTable(props) {\n  return (\n    <div style={props.style}>\n      <BipTable {...props} />\n    </div>\n  )\n}\n\nconst useStyles = makeStyles({\n  table: {\n    margin: '9px',\n    width: 'auto'\n  },\n  pagination: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  title: {\n    display: 'inline-block',\n    fontFamily: 'Futura-Pt-Book',\n    fontSize: '20px',\n    marginTop: '10px',\n    textAlign: 'center',\n    width: '100%'\n  },\n  cell: {\n    fontFamily: 'Futura-PT'\n  },\n  cellTitle: {\n    fontFamily: 'Futura-PT-Book'\n  },\n  inputModule: {\n    backgroundColor: '#F5FAFF',\n    borderRadius: '25px',\n    color: 'black',\n    marginTop: '18px',\n    maxWidth: '800px',\n    padding: '10px 10px 20px 10px'\n  }\n})\n\nconst BipTable = (props) => {\n  const classes = useStyles()\n\n  const [page, setPage] = useState(0)\n  const rowsPerPage = 5\n  const handleChangePage = (event, newPage) => { setPage(newPage) }\n\n  let titles = ['BIP', 'Title', 'Status', '% Voted']\n  const tableBips = props.bips.reduce((tableBips,bip) => {\n    let voteProportion = bip.roots.dividedBy(props.totalStalk)\n    const bipID = bip.id\n    const tb = {BIP: bipID.toString(), title: bipsList.length > bipID ? bipsList[bipID].title : `BIP-${bipID}`}\n    if (bip.executed) {\n      tb.status = 'Commited'\n    } else if (bip.start.plus(bip.period).plus(GOVERNANCE_EXPIRATION).isLessThanOrEqualTo(props.season)) {\n      tb.status = 'Failed'\n    } else if (bip.start.plus(bip.period).isLessThanOrEqualTo(props.season)) {\n      tb.status = voteProportion.isGreaterThan(0.5) ? 'Commitable' : 'Failed'\n    } else if (bip.timestamp.plus(GOVERNANCE_EMERGENCY_PERIOD).isLessThanOrEqualTo(new Date().getTime() / 1000)\n               && voteProportion.isGreaterThanOrEqualTo(GOVERNANCE_EMERGENCY_THRESHOLD_NUMERATOR / GOVERNANCE_EMERGENCY_THRESHOLD_DEMONINATOR)) {\n      tb.status = 'Emergency Committable'\n    } else {\n      tb.status = `${bip.period.minus(props.season.minus(bip.start))} Seasons Remaining`\n    }\n    tb.voted = percentForStalk(bip.roots, bip.endTotalRoots.isGreaterThan(0) ? bip.endTotalRoots : props.totalStalk)\n    tableBips.push([tb.BIP, tb.title, tb.status, tb.voted])\n    return tableBips\n  }, []).reverse()\n\n  if (tableBips !== undefined) {\n    return (\n      <AppBar className={classes.inputModule} position='static'>\n        <span className={classes.title}>\n          BIPs\n          <QuestionModule\n            description='Beanstalk Improvement Proposals'\n            margin='-6px 0 0 2px'\n          />\n        </span>\n        <hr style={{\n              backgroundColor: 'primary',\n              color: 'primary',\n              margin: '10px 8px',\n          }}\n        />\n          <TableContainer className={classes.table}>\n            <Table aria-label='simple table'>\n              <TableHead>\n                <TableRow>\n                <TableCell size='small' style={{width: '10px'}} />\n                {titles.map(t => {\n                  return (\n                    <TableCell\n                      key={t}\n                      align='center'\n                      size='small'\n                      style={{fontFamily: 'Futura-PT-Book', fontSize: '16px'}}\n                    >\n                      {t}\n                    </TableCell>\n                  )\n                })}\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {tableBips\n                  .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                  .map((bip, index) => (\n                    <Row key={index} bip={bip} />\n                  ))\n                }\n              </TableBody>\n            </Table>\n          </TableContainer>\n          {Object.keys(tableBips).length > rowsPerPage\n            ? <TablePagination\n                component='div'\n                count={Object.keys(tableBips).length}\n                className={classes.pagination}\n                onPageChange={handleChangePage}\n                page={page}\n                rowsPerPage={rowsPerPage}\n                rowsPerPageOptions={[]}\n              />\n            : null\n          }\n      </AppBar>\n    )\n  } else return (\n    <></>\n  )\n}\n\n/**\n * The description will be manually added by the bip proposer via merge request when a bip is submitted.\n *\n * To Submit a New BIP:\n * (1) Fill out template HTML from '/public/BIPs/BIP-template.html'\n * (2) Add a new bip path to the bipsList object in '/src/constants/bips.js'\n * (3) Submit a merge request on github: https://github.com/BeanstalkFarms/Beanstalk\n */\n\nfunction summaryBips(open, bip) {\n  if (open) {\n    const bipID = parseInt(bip[0])\n    if (bipsList.length > bipID) {\n      if (Object.keys(bipsList).length > parseInt(bip[0])) {\n        return (\n          <iframe src={bipsList[bipID].path} style={{border:'none'}} title={`BIP-${bipID}`} width='100%' height='450px' />\n        )\n      } else {\n        return (\n          <iframe src={`/BIPs/BIP-default.html`} style={{border:'none'}} title={`BIP-default`} width='100%' height='30px' />\n        )\n      }\n    }\n  }\n}\n\nfunction Row(props: { row: ReturnType<typeof createData> }) {\n  const { bip } = props\n  const [open, setOpen] = React.useState(false)\n\n  return (\n    <Fragment>\n      <TableRow id={`bip-${bip[0]}`}>\n      <TableCell style={{padding: '5px'}}>\n        <IconButton id={`open-bip-${bip[0]}`} aria-label='expand row' onClick={() => setOpen(!open)} size='small'>\n          {open ? <KeyboardArrowUpIcon id={`bip-${bip[0]}-open`} /> : <KeyboardArrowDownIcon />}\n        </IconButton>\n      </TableCell>\n      {Object.values(bip).map((bipValue, bipIndex) => (\n        <TableCell\n          key={bipIndex}\n          align='center'\n          component='th'\n          scope='bip'\n          style={{fontFamily: 'Futura-PT-Book', fontSize: '18px'}}\n        >\n          {bipIndex === 3\n            ? <CircularProgressWithLabel value={bipValue} />\n            : bipValue\n          }\n        </TableCell>\n      ))}\n      </TableRow>\n      <TableRow>\n       <TableCell colSpan={6} style={{fontFamily: 'Futura-Pt-Book',  padding: '0px'}}>\n          <Collapse in={open} timeout='auto' unmountOnExit>\n            {summaryBips(open, bip)}\n          </Collapse>\n       </TableCell>\n      </TableRow>\n    </Fragment>\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  AppBar,\n  Button,\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow\n} from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport { Link } from 'react-scroll'\nimport InfoIcon from '@material-ui/icons/Info'\nimport CheckIcon from '@material-ui/icons/Check'\nimport { percentForStalk, vote, unvote } from '../../util'\nimport { QuestionModule } from '../Common'\nimport CircularProgressWithLabel from './CircularProgressWithLabel'\n\nexport default function Vote(props) {\n  const classes = makeStyles(theme => ({\n    inputModule: {\n      backgroundColor: '#F5FAFF',\n      borderRadius: '25px',\n      color: 'black',\n      marginTop: '18px',\n      maxWidth: '550px',\n      padding: '10px'\n    },\n    formButton: {\n      borderRadius: '15px',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: 'calc(12px + 1vmin)',\n      height: '44px',\n      margin: '20px 0 10px',\n      width: '200px'\n    },\n    title: {\n      display: 'inline-block',\n      fontFamily: 'Futura-Pt-Book',\n      fontSize: '18px',\n      marginTop: '10px',\n      textAlign: 'center',\n      width: '100%'\n    },\n    cell: {\n      fontFamily: 'Futura-PT'\n    },\n    cellTitle: {\n      fontFamily: 'Futura-PT-Book'\n    },\n    table: {\n      backgroundColor: '#F5FAFF',\n      margin: '8px',\n      width: 'auto'\n    },\n    futuraPT: {\n      fontFamily: 'Futura-Pt'\n    },\n    rowSelected: {\n      backgroundColor: '#DAF2FF'\n    }\n  }))()\n\n  const [selected, setSelected] = useState(0)\n\n  let buttonHandler = () => {\n    let bip = props.bips[selected]\n    if (props.votedBips[bip]) {\n      unvote(bip.toString(), () => {})\n    } else {\n      vote(bip.toString(), () => {})\n    }\n  }\n\n  const displayBips = props.bips.reduce((dp, bip) => {\n    const row = []\n    row.push(bip)\n    row.push(`${props.seasonBips[bip]}`)\n    const newStalk = (\n      props.votedBips[bip]\n        ? props.stalkBips[bip].minus(props.userStalk)\n        : props.stalkBips[bip].plus(props.userStalk)\n      )\n    const percentForNewStalk = percentForStalk(newStalk,props.totalStalk)\n    const percentForPrevStalk = percentForStalk(props.stalkBips[bip],props.totalStalk)\n    row.push(props.votedBips[bip])\n    row.push(\n      <div>\n        <CircularProgressWithLabel\n          lowvalue={Math.min(percentForNewStalk, percentForPrevStalk)}\n          value={Math.max(percentForNewStalk, percentForPrevStalk)}\n          voting={!props.votedBips[bip]}\n        />\n      </div>\n    )\n    dp.push(row)\n    return dp\n  }, [])\n\n  return (\n    <AppBar className={classes.inputModule} position='static'>\n      <form autoComplete='off' noValidate>\n        <span className={classes.title}>\n          Active BIPs\n          <QuestionModule\n            description='Active Beanstalk Improvement Proposals Currently Being Voted On'\n            margin='-6px 0 0 2px'\n          />\n        </span>\n        <hr style={{\n              backgroundColor: 'primary',\n              color: 'primary',\n              margin: '10px 8px',\n          }}\n        />\n      <TableContainer className={classes.table}>\n        <Table aria-label='simple table'>\n          <TableHead>\n            <TableRow>\n            <TableCell className={classes.cellTitle} size='small' align='center'></TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>BIP</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Seasons Remaining</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Voted</TableCell>\n              <TableCell className={classes.cellTitle} size='small' align='center'>Vote %</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {displayBips.map((bip, index) => (\n              <TableRow key={index} className={selected === index ? classes.rowSelected : null} onClick={() => setSelected(index)} style={{cursor: 'pointer'}}>\n                <TableCell className={classes.cell} align='center' size='small'>\n                  <Link duration={450} isDynamic={true} offset={-210} smooth={true} spy={true} to={`bip-${bip[0]}`}>\n                    <IconButton onClick={() => { if (!document.getElementById(`bip-${bip[0]}-open`)) document.getElementById(`open-bip-${bip[0]}`).click() }} style={{padding: '7px', width: '30px', height: '30px', color: 'rgba(0 0 0 / 25%)'}} >\n                      <InfoIcon fontSize='small' />\n                    </IconButton>\n                  </Link>\n                </TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[0]}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[1]}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[2] ? <CheckIcon/> : 'No'}</TableCell>\n                <TableCell className={classes.cell} size='small' align='center'>{bip[3]}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n      <Button\n        className={classes.formButton}\n        color='primary'\n        disabled={props.userStalk.isLessThanOrEqualTo(0)}\n        onClick={buttonHandler}\n        variant='contained'\n      >\n        {props.userStalk.isGreaterThan(0)\n          ? `${props.votedBips[props.bips[selected]] ? 'Unvote' : 'Vote'}: BIP ${props.bips[selected]}`\n          : 'No Stalk'\n        }\n      </Button>\n    </form>\n  </AppBar>\n  )\n}\n","import { ContentSection, Grid } from '../Common'\nimport GovernanceTable from './GovernanceTable'\nimport Vote from './Vote'\n\nexport default function Governance(props) {\n  if (props.bips === undefined || props.bips.length === 0)\n    return null\n\n  const activeBipStyle = {\n    fontFamily: 'Futura-PT-Book',\n    fontSize: '16px',\n    marginTop: '10px',\n    width: '100%',\n  }\n\n  const activeBips = props.bips.reduce((aBips,bip) => {\n    if (bip.active) aBips.push(bip.id.toString())\n    return aBips\n  }, [])\n  const votedBips = activeBips.reduce((vBips, bip) => {\n    vBips[bip] = props.votedBips.has(bip)\n    return vBips\n  }, {})\n  const stalkBips = activeBips.reduce((sBips, bip) => {\n    sBips[bip] = props.bips[bip].roots\n    return sBips\n  }, {})\n  const seasonBips = activeBips.reduce((sBips, bip) => {\n    sBips[bip] = props.bips[bip].period.minus(props.season.minus(props.bips[bip].start))\n    return sBips\n  }, {})\n\n  const voteField = (\n    activeBips.length > 0\n      ? <Grid item md={6} xs={12} style={{maxWidth: '550px', margin: 'auto'}}>\n          <Vote\n            bips={activeBips}\n            seasonBips={seasonBips}\n            stalkBips={stalkBips}\n            totalStalk={props.totalStalk}\n            userStalk={props.userStalk}\n            votedBips={votedBips}\n          />\n        </Grid>\n      : <div style={activeBipStyle}>No Active BIPs</div>\n  )\n\n  return (\n    <ContentSection id='governance' title='Governance'>\n      <Grid container item sm={12} xs={12} alignItems='flex-start' justifyContent='center' style={{minHeight: '600px'}}>\n        <Grid item xs={12}>\n          {voteField}\n        </Grid>\n        <Grid item xs={12}>\n          <GovernanceTable {...props} style={{maxWidth: '745px', margin: '0 auto'}} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import { HeaderLabelWithTimer } from '../Common'\n\nexport default function SeasonReward(props) {\n  function display(time) {\n    const title = 'Season Reward'\n    const description = 'Beans Rewarded for Calling the Sunrise Function Right Now'\n    const beans = (100 * (1.01 ** (Math.min(-time, 300)))).toFixed()\n    return [title, beans, description]\n  }\n\n  return (\n    <HeaderLabelWithTimer display={display} time={props.time} />\n  )\n}\n","import { HeaderLabelWithTimer } from '../Common'\n\nexport default function SeasonTimer(props) {\n  function display(time) {\n    let timeDifference\n    let title\n    let description\n    if (time <= 0) {\n      timeDifference = -time\n      title = 'Sunrise Overdue By'\n      description = 'Time Sunrise Call is Overdue'\n    }\n    else {\n      timeDifference = time\n      title = 'Next Sunrise'\n      description = 'Time Until the Next Sunrise Can Be Called'\n    }\n\n    const timeInHours = Math.floor(timeDifference / 3600)\n    const timeInMinutes = Math.floor((timeDifference - (timeInHours * 3600)) / 60)\n    const timeInSeconds = timeDifference - (timeInHours * 3600) - (timeInMinutes * 60)\n    const timeDisplay = (timeInHours > 0 ? String(timeInHours) + ' hr ' : '') +\n                        (timeInMinutes > 0 && timeInHours === 0 ? String(timeInMinutes) + ' min ' : '') +\n                        (timeInSeconds > 0 && (timeInMinutes === 0 && timeInHours === 0) ? timeInSeconds.toFixed(0) + ' sec' : '')\n    return [title, timeDisplay, description]\n  }\n\n  return (\n    <HeaderLabelWithTimer display={display} time={props.time} />\n  )\n}\n","import React, { useEffect, useRef, useState } from 'react'\nimport sunriseIcon from '../../img/black-sun.svg'\nimport { sunrise, chainId } from '../../util'\n\nimport {\n  ContentSection,\n  Grid,\n  HeaderLabel,\n  SingleButton\n} from '../Common'\nimport PegMaintenance from './PegMaintenance'\nimport Governance from '../Governance'\nimport SeasonReward from './SeasonReward'\nimport SeasonTimer from './SeasonTimer'\n\nexport default function Seasons(props) {\n  const nextSeasonTime = props.start.plus(props.season.plus(1).multipliedBy(props.period))\n  const timeUntilSunrise = (deadline) => {\n    return parseInt(deadline) - (Date.now() / 1e3)\n  }\n\n  const timer = useRef()\n  const [time, setTime] = useState(timeUntilSunrise(nextSeasonTime))\n\n  useEffect(() => {\n    timer.current = window.setInterval(() => {\n      setTime(timeUntilSunrise(nextSeasonTime))\n    }, 1000)\n    return () => {\n      window.clearInterval(timer.current)\n    }\n  }, [time, nextSeasonTime])\n\n  const advanceButton = (\n    time <= 0 && chainId === 3\n      ? <SingleButton\n          description='Advance the Season by calling the Sunrise function'\n          handleClick={() => {sunrise()}}\n          icon={sunriseIcon}\n          margin='-13px 7px 0 0'\n          size='small'\n          title='Sunrise'\n        />\n      : null\n  )\n\n  const sunriseStats = (\n    time <= 0\n      ? <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <SeasonReward time={time} />\n        </Grid>\n      : null\n  )\n\n  const governanceSection = (\n    <Governance\n      key='governance'\n      bips={props.bips}\n      season={props.season}\n      totalStalk={props.totalRoots}\n      userStalk={props.userStalk}\n      votedBips={props.votedBips}\n    />\n  )\n\n  return (\n    <>\n    <ContentSection id='seasons' title='Seasons'>\n      <Grid container item xs={12} spacing={3} justifyContent='center'>\n        <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <HeaderLabel\n            description='Current Season'\n            title='Current Season'\n            value={props.season.isNegative() ? '---' : String(props.season)}\n          />\n        </Grid>\n        <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n          <SeasonTimer time={time} />\n        </Grid>\n        {sunriseStats}\n      </Grid>\n      <Grid item md={5} sm={6} xs={12} style={{maxWidth: '300px', padding: '12px'}}>\n        {advanceButton}\n      </Grid>\n\n      <Grid container item xs={12} style={{padding: '0px', marginTop: '12px'}} justifyContent='center'>\n        <PegMaintenance {...props} />\n      </Grid>\n\n      {props.hasActiveBIP ? null : governanceSection}\n    </ContentSection>\n    {props.hasActiveBIP ? governanceSection : null}\n    </>\n  )\n}\n","import React, { forwardRef, useImperativeHandle } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { BEAN } from '../../constants'\nimport { TrimBN, claimBeans } from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport const BeanClaimSubModule = forwardRef((props, ref) => {\n  props.setIsFormDisabled(props.maxFromBeansVal.isLessThanOrEqualTo(0))\n\n  /* Input Fields */\n\n  const fromBeansField = (\n    <TokenInputField\n      balance={props.maxFromBeansVal}\n      token={ClaimableAsset.Bean}\n      value={TrimBN(props.maxFromBeansVal, BEAN.decimals)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBeanField = (\n    <TokenOutputField\n      mint\n      token={CryptoAsset.Bean}\n      value={TrimBN(props.maxFromBeansVal, BEAN.decimals)}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  function transactionDetails() {\n    if (props.maxFromBeansVal.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-block', width: '100%'}}>{toBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (props.maxFromBeansVal.isLessThanOrEqualTo(0)) return\n\n      claimBeans(Object.keys(props.crates),() => { })\n    }\n  }))\n\n  return (\n    <>\n    {fromBeansField}\n    {transactionDetails()}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  ETH,\n  SEEDS,\n  SLIPPAGE_THRESHOLD,\n  STALK\n} from '../../constants'\nimport {\n  buyAndDepositBeans,\n  depositBeans,\n  getToAmount,\n  MaxBN,\n  SwapMode,\n  toBaseUnitBN,\n  toStringBaseUnitBN,\n  TrimBN\n} from '../../util'\nimport {\n  CryptoAsset,\n  EthInputField,\n  FrontrunText,\n  InputFieldPlus,\n  SettingsFormModule,\n  SiloAsset,\n  TokenOutputField\n} from '../Common'\n\nexport const BeanDepositSubModule = forwardRef((props, ref) => {\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(-1))\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(-1))\n  const [buyBeanValue, setBuyBeanValue] = useState(new BigNumber(0))\n  const [toStalkValue, setToStalkValue] = useState(new BigNumber(0))\n  const [toSeedsValue, setToSeedsValue] = useState(new BigNumber(0))\n\n  function fromValueUpdated(newFromNumber, newFromEthNumber) {\n    const buyBeans = getToAmount(newFromEthNumber, props.ethReserve, props.beanReserve)\n    setBuyBeanValue(TrimBN(buyBeans, BEAN.decimals))\n    setFromEthValue(TrimBN(newFromEthNumber, ETH.decimals))\n    setFromBeanValue(TrimBN(newFromNumber, BEAN.decimals))\n    const depositedBeans = MaxBN(buyBeans, new BigNumber(0)).plus(MaxBN(newFromNumber, new BigNumber(0)))\n    const newToStalkValue = TrimBN(depositedBeans.multipliedBy(props.beanToStalk), STALK.decimals)\n    setToStalkValue(newToStalkValue)\n    setToSeedsValue(TrimBN(depositedBeans.multipliedBy(BEAN_TO_SEEDS), SEEDS.decimals))\n    props.setIsFormDisabled(newToStalkValue.isLessThanOrEqualTo(0))\n  }\n\n  /* Input Fields */\n\n  const beanField = (\n    <InputFieldPlus\n      key={0}\n      balance={props.beanBalance}\n      claim={props.settings.claim}\n      claimableBalance={props.beanClaimableBalance}\n      handleChange={(v) => { fromValueUpdated(v, fromEthValue) }}\n      token={CryptoAsset.Bean}\n      value={fromBeanValue}\n      visible={props.settings.mode !== SwapMode.Ethereum}\n    />\n  )\n  const ethField = (\n    <EthInputField\n      key={1}\n      balance={props.ethBalance}\n      buyBeans={buyBeanValue}\n      claim={props.settings.claim}\n      claimableBalance={props.claimableEthBalance}\n      handleChange={(v) => fromValueUpdated(fromBeanValue, v)}\n      mode={props.settings.mode}\n      sellEth={fromEthValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromEthValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toStalkField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Stalk}\n      value={toStalkValue}\n    />\n  )\n  const toSeedsField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Seed}\n      value={toSeedsValue}\n    />\n  )\n  const toSiloBeanField = (\n    <TokenOutputField\n      mint\n      token={SiloAsset.Bean}\n      value={MaxBN(buyBeanValue, new BigNumber(0)).plus(MaxBN(fromBeanValue, new BigNumber(0)))}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const frontrunTextField = (\n    props.settings.mode !== SwapMode.Bean && props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      setSettings={props.setSettings}\n      settings={props.settings}\n      handleMode={() => fromValueUpdated(new BigNumber(-1), new BigNumber(-1))}\n      hasClaimable={props.hasClaimable}\n      hasSlippage={true}\n    />\n  )\n  function transactionDetails() {\n    if (toStalkValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toSiloBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (toStalkValue.isZero() || toStalkValue.isNegative()) return\n\n      const claimable = props.settings.claim ? props.claimable : null\n      if (fromEthValue.isGreaterThan(0)) {\n        const beans = MaxBN(toBaseUnitBN(fromBeanValue,BEAN.decimals), new BigNumber(0)).toString()\n        const eth = toStringBaseUnitBN(fromEthValue,ETH.decimals)\n        const buyBeans = toStringBaseUnitBN(buyBeanValue.multipliedBy(props.settings.slippage),BEAN.decimals)\n        buyAndDepositBeans(beans, buyBeans, eth, claimable, () => {\n          fromValueUpdated(new BigNumber(-1), new BigNumber(-1))\n        })\n      } else {\n        depositBeans(toStringBaseUnitBN(fromBeanValue, BEAN.decimals), claimable, () => {\n          fromValueUpdated(new BigNumber(-1), new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {beanField}\n    {ethField}\n    {transactionDetails()}\n    {frontrunTextField}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  SEEDS,\n  STALK\n} from '../../constants'\nimport {\n  claimAndWithdrawBeans,\n  MinBN,\n  MinBNs,\n  toStringBaseUnitBN,\n  TrimBN,\n  withdrawBeans\n} from '../../util'\nimport {\n  SettingsFormModule,\n  SiloAsset,\n  TokenInputField,\n  TokenOutputField,\n  TransitAsset\n} from '../Common'\n\nexport const BeanWithdrawSubModule = forwardRef((props, ref) => {\n  const [fromStalkValue, setFromStalkValue] = useState(new BigNumber(0))\n  const [fromSeedsValue, setFromSeedsValue] = useState(new BigNumber(0))\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(-1))\n  const [withdrawParams, setWithdrawParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  /*function maxBeans(stalk: BugNumber) {\n    var stalkRemoved = new BigNumber(0)\n    var beans = new BigNumber(0)\n    Object.keys(props.crates).sort((a,b) => parseInt(a) - parseInt(b)).forEach(key => {\n      let stalkPerBean = (new BigNumber(10000)).plus(props.season.minus(key)).multipliedBy(5)\n      const stalkLeft = stalk.minus(stalkRemoved)\n      if (stalkPerBean.multipliedBy(props.crates[key]).isGreaterThanOrEqualTo(stalkLeft)) {\n        stalkRemoved = stalkRemoved.plus(stalkPerBean.multipliedBy(props.crates[key]))\n        beans = beans.plus(props.crates[key])\n        if (stalkRemoved.isEqualTo(stalk)) return\n      } else {\n        beans = beans.plus(TrimBN(stalkLeft.dividedBy(stalkPerBean),BEAN.decimals))\n        return\n      }\n    })\n    return beans\n  }\n  */\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromBeanVal)\n    const newFromBeanValue = TrimBN(fromNumber, BEAN.decimals)\n    setFromBeanValue(newFromBeanValue)\n    setFromStalkValue(TrimBN(getStalkRemoved(fromNumber), STALK.decimals))\n    setFromSeedsValue(TrimBN(fromNumber.multipliedBy(BEAN_TO_SEEDS), SEEDS.decimals))\n    props.setIsFormDisabled(newFromBeanValue.isLessThanOrEqualTo(0))\n  }\n\n   const getStalkRemoved = (beans) => {\n     var beansRemoved = new BigNumber(0)\n     var stalkRemoved = new BigNumber(0)\n     var crates = []\n     var amounts = []\n     Object.keys(props.crates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n       const crateBeansRemoved = (\n         beansRemoved.plus(props.crates[key]).isLessThanOrEqualTo(beans)\n          ? props.crates[key]\n          : beans.minus(beansRemoved)\n        )\n       beansRemoved = beansRemoved.plus(crateBeansRemoved)\n       stalkRemoved = stalkRemoved.plus(crateBeansRemoved)\n       stalkRemoved = stalkRemoved.plus(crateBeansRemoved.multipliedBy(props.season.minus(key)).multipliedBy(0.0002))\n       crates.push(key)\n       amounts.push(toStringBaseUnitBN(crateBeansRemoved, BEAN.decimals))\n       return beansRemoved.isEqualTo(beans)\n     })\n     setWithdrawParams({crates,amounts})\n     return stalkRemoved\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n  const maxHandler = () => {\n    const minMaxFromVal = MinBNs([\n      props.maxFromStalkVal.multipliedBy(props.stalkToBean),\n      props.maxFromSeedsVal.multipliedBy(props.seedsToBean),\n      props.maxFromBeanVal\n    ])\n    fromValueUpdated(minMaxFromVal)\n  }\n\n  /* Input Fields */\n\n  const fromBeanField = (\n    <TokenInputField\n      balance={props.maxFromBeanVal}\n      claim={props.settings.claim}\n      claimableBalance={props.beanClaimableBalance}\n      handleChange={handleFromChange}\n      maxHandler={maxHandler}\n      setValue={setFromBeanValue}\n      token={SiloAsset.Bean}\n      value={fromBeanValue}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBurnStalkField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Stalk}\n      value={fromStalkValue}\n    />\n  )\n  const toBurnSeedsField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Seed}\n      value={fromSeedsValue}\n    />\n  )\n  const toTransitBeanField = (\n    <TokenOutputField\n      mint\n      token={TransitAsset.Bean}\n      value={fromBeanValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const unvoteTextField = (\n    props.locked\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{'Unvote Active BIPs to Withdraw'}</div>\n      : null\n  )\n  const showSettings = (\n    props.hasClaimable\n      ? <SettingsFormModule\n          hasClaimable={props.hasClaimable}\n          showUnitModule={false}\n          setSettings={props.setSettings}\n          settings={props.settings}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (fromBeanValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toBurnStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toBurnSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toTransitBeanField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromBeanValue.isLessThanOrEqualTo(0)\n          || withdrawParams.crates.length === 0\n          || withdrawParams.amounts.length === 0) return\n\n      if (props.settings.claim) {\n        claimAndWithdrawBeans(withdrawParams.crates, withdrawParams.amounts, props.claimable, () => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      } else {\n        withdrawBeans(withdrawParams.crates, withdrawParams.amounts,() => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromBeanField}\n    {unvoteTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { useState, useRef } from 'react'\nimport { BASE_SLIPPAGE, BEAN_TO_STALK } from '../../constants'\nimport { approveBeanstalkBean, SwapMode } from '../../util'\nimport {\n  BaseModule,\n  ListTable,\n  SiloAsset,\n  TransitAsset\n} from '../Common'\nimport { BeanClaimSubModule } from './BeanClaimSubModule'\nimport { BeanDepositSubModule } from './BeanDepositSubModule'\nimport { BeanWithdrawSubModule } from './BeanWithdrawSubModule'\n\nexport default function SiloBeanModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [settings, setSettings] = useState({\n    claim: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE)\n  })\n  const [page, setPage] = React.useState(0)\n\n  let sectionTitles = ['Deposit', 'Withdraw']\n\n  const handleTabChange = (event, newSection) => {\n    if (newSection !== section) {\n      setSection(newSection)\n      setIsFormDisabled(true)\n    }\n  }\n\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => {\n    setSectionInfo(newSectionInfo)\n    setPage(newPageZero)\n  }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  if (settings.mode === null) {\n    if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum\n    }})\n  }\n\n  const depositRef = useRef<any>()\n  const withdrawRef = useRef<any>()\n  const claimRef = useRef<any>()\n  function handleForm() {\n    switch (section) {\n      case 0: depositRef.current.handleForm(); break\n      case 1: withdrawRef.current.handleForm(); break\n      case 2: claimRef.current.handleForm(); break\n      default: break\n    }\n  }\n  const [isFormDisabled, setIsFormDisabled] = useState(true)\n  let sections = [\n    <BeanDepositSubModule\n      key={0}\n      beanBalance={props.beanBalance}\n      beanClaimableBalance={props.beanClaimableBalance}\n      beanReserve={props.beanReserve}\n      beanToStalk={BEAN_TO_STALK}\n      claimable={props.claimable}\n      claimableEthBalance={props.claimableEthBalance}\n      ethBalance={props.ethBalance}\n      ethReserve={props.ethReserve}\n      hasClaimable={props.hasClaimable}\n      ref={depositRef}\n      setIsFormDisabled={setIsFormDisabled}\n      setSection={setSection}\n      setSettings={setSettings}\n      settings={settings}\n      updateExpectedPrice={props.updateExpectedPrice}\n    />,\n    <BeanWithdrawSubModule\n      key={1}\n      claimable={props.claimable}\n      crates={props.beanDeposits}\n      hasClaimable={props.hasClaimable}\n      locked={section === 1 && props.locked}\n      maxFromBeanVal={props.beanSiloBalance}\n      maxFromSeedsVal={props.seedBalance}\n      maxFromStalkVal={props.stalkBalance}\n      ref={withdrawRef}\n      season={props.season}\n      setIsFormDisabled={setIsFormDisabled}\n      setSection={setSection}\n      setSettings={setSettings}\n      settings={settings}\n    />\n  ]\n  if (props.beanReceivableBalance.isGreaterThan(0)) {\n    sections.push(\n      <BeanClaimSubModule\n        key={2}\n        crates={props.beanReceivableCrates}\n        maxFromBeansVal={props.beanReceivableBalance}\n        ref={claimRef}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n      />\n    )\n    sectionTitles.push('Claim')\n  }\n  if (section > sectionTitles.length - 1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.beanDeposits !== undefined && Object.keys(props.beanDeposits).length > 0) {\n    sectionsInfo.push(\n      <ListTable\n        asset={SiloAsset.Bean}\n        description='Bean Deposits Will Appear Here'\n        claimableBalance={props.farmableBeanBalance}\n        claimableStalk={props.farmableStalkBalance.plus(props.farmableBeanBalance)}\n        crates={props.rawBeanDeposits}\n        handleChange={handlePageChange}\n        indexTitle='Season'\n        page={page}\n        season={props.season}\n        title='Deposits'\n      />\n    )\n    sectionTitlesInfo.push('Deposits')\n  }\n  if ((props.beanWithdrawals !== undefined\n      && Object.keys(props.beanWithdrawals).length > 0)\n      ||  props.beanReceivableBalance.isGreaterThan(0)) {\n    sectionsInfo.push(\n      <ListTable\n        asset={TransitAsset.Bean}\n        crates={props.beanWithdrawals}\n        claimableBalance={props.beanReceivableBalance}\n        claimableCrates={props.beanReceivableCrates}\n        description='Bean Withdrawals Will Appear Here'\n        handleChange={handlePageChange}\n        index={props.season}\n        indexTitle='Seasons to Arrival'\n        page={page}\n        title='Withdrawals'\n      />\n    )\n    sectionTitlesInfo.push('Withdrawals')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : <></>\n  )\n\n  const allowance = (\n    (settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum)\n    && section === 0\n      ? props.beanstalkBeanAllowance\n      : new BigNumber(1)\n  )\n\n  return (\n    <>\n    <BaseModule\n      allowance={allowance}\n      resetForm={() => { setSettings({...settings, mode: SwapMode.Ethereum}) }}\n      handleApprove={approveBeanstalkBean}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={isFormDisabled}\n      locked={section === 1 && props.locked}\n      lockedSeasons={props.lockedSeasons}\n      mode={settings.mode}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={props.setBeanstalkBeanAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { BEAN, UNI_V2_ETH_BEAN_LP } from '../../constants'\nimport {\n  claimLP,\n  removeAndClaimLP,\n  TrimBN\n} from '../../util'\nimport {\n  ClaimableAsset,\n  CryptoAsset,\n  SettingsFormModule,\n  TokenInputField,\n  TokenOutputField\n} from '../Common'\n\nexport const LPClaimSubModule = forwardRef((props, ref) => {\n  const [settings, setSettings] = useState({removeLP: false})\n  props.setIsFormDisabled(props.maxFromLPVal.isLessThanOrEqualTo(0))\n\n  /* Input Fields */\n\n  const fromLPField = (\n    <TokenInputField\n      balance={props.maxFromLPVal}\n      isLP={true}\n      poolForLPRatio={props.poolForLPRatio}\n      token={ClaimableAsset.LP}\n      value={TrimBN(props.maxFromLPVal, UNI_V2_ETH_BEAN_LP.decimals)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toLPField = (\n    <TokenOutputField\n      mint\n      token={CryptoAsset.LP}\n      value={props.maxFromLPVal}\n    />\n  )\n  const toLPBeanField = (\n    <TokenOutputField\n      decimals={BEAN.decimals}\n      mint\n      token={CryptoAsset.Bean}\n      value={props.poolForLPRatio(props.maxFromLPVal)[0]}\n    />\n  )\n  const toLPEthField = (\n    <TokenOutputField\n      decimals={9}\n      mint\n      token={CryptoAsset.Ethereum}\n      value={props.poolForLPRatio(props.maxFromLPVal)[1]}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const showSettings = (\n    <SettingsFormModule\n      hasRemoveLP={true}\n      margin='12px 4px -56px 0'\n      setSettings={setSettings}\n      settings={settings}\n      showUnitModule={false}\n    />\n  )\n  function transactionDetails() {\n    if (settings.removeLP) {\n      return (\n        <>\n        <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n        <div style={{display: 'inline-flex'}}>\n          <div style={{marginRight: '5px'}}>{toLPBeanField}</div>\n          <div style={{marginLeft: '5px'}}>{toLPEthField}</div>\n        </div>\n        </>\n      )\n    }\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-block', width: '100%'}}>{toLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (props.maxFromLPVal.isLessThanOrEqualTo(0)) return\n\n      if (settings.removeLP) {\n        removeAndClaimLP(Object.keys(props.crates),'0','0',() => {})\n      } else {\n        claimLP(Object.keys(props.crates), () => {})\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport { unstable_batchedUpdates } from 'react-dom'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  BEAN,\n  BEAN_TO_SEEDS,\n  BEAN_TO_STALK,\n  ETH,\n  LPBEANS_TO_SEEDS,\n  MIN_BALANCE,\n  SEEDS,\n  SLIPPAGE_THRESHOLD,\n  STALK,\n  UNI_V2_ETH_BEAN_LP\n} from '../../constants'\nimport {\n  addAndDepositLP,\n  convertAddAndDepositLP,\n  depositLP,\n  getBuyAndAddLPAmount,\n  getFromAmount,\n  lpForPool,\n  MaxBN,\n  MinBN,\n  SwapMode,\n  tokenForLP,\n  toStringBaseUnitBN,\n  toTokenUnitsBN,\n  TrimBN\n} from '../../util'\nimport {\n  CryptoAsset,\n  EthInputField,\n  FrontrunText,\n  InputFieldPlus,\n  SettingsFormModule,\n  SiloAsset,\n  TokenOutputField\n} from '../Common'\n\nexport const LPDepositSubModule = forwardRef((props, ref) => {\n  const [fromBeanValue, setFromBeanValue] = useState(new BigNumber(0))\n  const [fromEthValue, setFromEthValue] = useState(new BigNumber(0))\n  const [fromLPValue, setFromLPValue] = useState(new BigNumber(0))\n  const [toSellBeansValue, setToSellBeansValue] = useState(new BigNumber(0))\n  const [toBuyBeansValue, setToBuyBeansValue] = useState(new BigNumber(0))\n  const [toSellEthValue, setToSellEthValue] = useState(new BigNumber(0))\n  const [toBuyEthValue, setToBuyEthValue] = useState(new BigNumber(0))\n  const [toSiloLPValue, setToSiloLPValue] = useState(new BigNumber(0))\n  const [toStalkValue, setToStalkValue] = useState(new BigNumber(0))\n  const [toSeedsValue, setToSeedsValue] = useState(new BigNumber(0))\n  const [beanConvertParams, setBeanConvertParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  function fromValueUpdated(newFromNumber, newFromEthNumber, newFromLPNumber) {\n    if (newFromNumber.isLessThanOrEqualTo(0) && newFromEthNumber.isLessThanOrEqualTo(0) && newFromLPNumber.isLessThan(0)) {\n      unstable_batchedUpdates(() => {\n        setToBuyBeansValue(new BigNumber(0))\n        setToSellEthValue(new BigNumber(0))\n        setFromEthValue(new BigNumber(-1))\n        setFromBeanValue(new BigNumber(-1))\n        setFromLPValue(new BigNumber(-1))\n        setToBuyEthValue(new BigNumber(0))\n        setToSellBeansValue(new BigNumber(0))\n        setToSiloLPValue(new BigNumber(0))\n        setToStalkValue(new BigNumber(0))\n        setToSeedsValue(new BigNumber(0))\n      })\n      props.setIsFormDisabled(true)\n      return\n    }\n    let fromNumber = new BigNumber(0)\n    let fromEtherNumber = new BigNumber(0)\n    let fromLPNumber = MaxBN(newFromLPNumber, new BigNumber(0))\n    let buyNumber = new BigNumber(0)\n    let stalkRemoved = new BigNumber(0)\n    let sellNumber = new BigNumber(0)\n    let fromConvertBeans = new BigNumber(0)\n    let newBeanReserve = props.beanReserve\n    let newEthReserve = props.ethReserve\n    if (props.settings.mode === SwapMode.BeanEthereum || props.settings.mode === SwapMode.BeanEthereumSwap) {\n      const newBeanFromEthNumber = (\n        newFromEthNumber.isGreaterThan(0)\n          ? newFromEthNumber.multipliedBy(props.ethToBean).plus(0.000001)\n          : new BigNumber(0)\n      )\n      fromNumber = MinBN(newFromNumber, newBeanFromEthNumber)\n      if (props.settings.convert) {\n          [stalkRemoved, fromConvertBeans] = handleConvertCrates(fromNumber)\n      }\n      fromEtherNumber = fromNumber.multipliedBy(props.beanToEth)\n      newFromEthNumber = newFromEthNumber.minus(fromEtherNumber)\n      if (props.settings.mode === SwapMode.BeanEthereum) {\n        setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n        setFromEthValue(TrimBN(fromEtherNumber, ETH.decimals))\n      }\n    } if (props.settings.mode === SwapMode.Ethereum || (props.settings.mode === SwapMode.BeanEthereumSwap && fromNumber.isEqualTo(newFromNumber))) {\n        buyNumber = getBuyAndAddLPAmount(newFromEthNumber.minus(fromEtherNumber), props.ethReserve, props.beanReserve)\n        sellNumber = getFromAmount(buyNumber, props.ethReserve, props.beanReserve, ETH.decimals)\n        fromEtherNumber = newFromEthNumber\n        setToBuyBeansValue(buyNumber)\n        setToSellEthValue(sellNumber)\n        setFromEthValue(TrimBN(fromEtherNumber, ETH.decimals))\n        setFromBeanValue(fromNumber)\n        fromEtherNumber = newFromEthNumber.minus(sellNumber)\n        fromNumber = fromNumber.plus(buyNumber)\n        newEthReserve = newEthReserve.plus(sellNumber)\n        newBeanReserve = newBeanReserve.minus(buyNumber)\n    } else if (props.settings.mode === SwapMode.Bean || (props.settings.mode === SwapMode.BeanEthereumSwap && fromNumber.isLessThan(newFromNumber))) {\n        buyNumber = getBuyAndAddLPAmount(newFromNumber.minus(fromNumber), props.beanReserve, props.ethReserve)\n        sellNumber = getFromAmount(buyNumber, props.beanReserve, props.ethReserve)\n        fromNumber = newFromNumber\n        setToBuyEthValue(buyNumber)\n        setToSellBeansValue(sellNumber)\n        setFromEthValue(fromEtherNumber)\n        setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n        fromNumber = fromNumber.minus(sellNumber)\n        fromEtherNumber = fromEtherNumber.plus(buyNumber)\n        newBeanReserve = newBeanReserve.plus(sellNumber)\n        newEthReserve = newEthReserve.minus(buyNumber)\n    }\n    setFromLPValue(fromLPNumber)\n    const lpToDeposit = fromLPNumber.plus(lpForPool(fromNumber, newBeanReserve, fromEtherNumber, newEthReserve, props.totalLP))\n    fromNumber = fromNumber.plus(tokenForLP(fromLPNumber, newBeanReserve, props.totalLP))\n    setToSiloLPValue(lpToDeposit,UNI_V2_ETH_BEAN_LP.decimals)\n    setToStalkValue(TrimBN(fromNumber.multipliedBy(props.beanToStalk).minus(fromConvertBeans.multipliedBy(BEAN_TO_STALK)), STALK.decimals))\n    setToSeedsValue(TrimBN(fromNumber.multipliedBy(2*LPBEANS_TO_SEEDS).minus(fromConvertBeans.multipliedBy(BEAN_TO_SEEDS)), SEEDS.decimals))\n    props.setIsFormDisabled(fromNumber.isLessThanOrEqualTo(0) && fromEtherNumber.isLessThanOrEqualTo(0) && fromLPNumber.isLessThanOrEqualTo(0))\n  }\n\n  const handleConvertCrates = (beans) => {\n    var beansRemoved = new BigNumber(0)\n    var stalkRemoved = new BigNumber(0)\n    var crates = []\n    var amounts = []\n    Object.keys(props.beanCrates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n      const crateBeansRemoved = beansRemoved.plus(props.beanCrates[key]).isLessThanOrEqualTo(beans) ? props.beanCrates[key] : beans.minus(beansRemoved)\n      beansRemoved = beansRemoved.plus(crateBeansRemoved)\n      stalkRemoved = stalkRemoved.plus(crateBeansRemoved.multipliedBy(props.season.minus(key)).multipliedBy(BEAN_TO_SEEDS))\n      crates.push(key)\n      amounts.push(toStringBaseUnitBN(crateBeansRemoved, BEAN.decimals))\n      return beansRemoved.isEqualTo(beans)\n    })\n    setBeanConvertParams({crates,amounts})\n    return [toTokenUnitsBN(stalkRemoved,4), beansRemoved]\n  }\n\n  const convertibleBeans = props.settings.convert && props.settings.mode === SwapMode.BeanEthereum ? props.maxFromBeanSiloVal : 0\n  const claimableBeans = props.settings.claim ? props.maxFromClaimableVal : 0\n  const maxBeans = props.beanBalance.plus(convertibleBeans).plus(claimableBeans)\n\n  /* Input Fields */\n\n  const fromBeanField = (\n    <InputFieldPlus\n      balance={props.beanBalance.plus(convertibleBeans)}\n      buyEth={toBuyEthValue}\n      claim={props.settings.claim}\n      claimableBalance={props.maxFromClaimableVal}\n      handleChange={(v) => fromValueUpdated(v, (props.ethBalance.isGreaterThan(MIN_BALANCE) ? props.ethBalance.minus(MIN_BALANCE) : new BigNumber(0)), fromLPValue)}\n      sellToken={toSellBeansValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromBeanValue, BEAN.decimals)}\n      visible={props.settings.mode < 2}\n    />\n  )\n  const fromLPField = (\n    <InputFieldPlus\n      balance={props.lpBalance}\n      claim={props.settings.claim}\n      claimableBalance={new BigNumber(0)}\n      handleChange={(v) => fromValueUpdated(fromBeanValue, fromEthValue, v)}\n      isLP={true}\n      poolForLPRatio={props.poolForLPRatio}\n      token={CryptoAsset.LP}\n      value={TrimBN(fromLPValue, UNI_V2_ETH_BEAN_LP.decimals)}\n      visible={props.settings.useLP || props.settings.mode === SwapMode.LP}\n    />\n  )\n  const fromEthField = (\n    <EthInputField\n      balance={props.ethBalance}\n      buyBeans={toBuyBeansValue}\n      claim={props.settings.claim}\n      claimableBalance={props.claimableEthBalance}\n      handleChange={(v) => fromValueUpdated(maxBeans, v, fromLPValue)}\n      mode={props.settings.mode}\n      sellEth={toSellEthValue}\n      updateExpectedPrice={props.updateExpectedPrice}\n      value={TrimBN(fromEthValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toStalkField = (\n    <TokenOutputField\n      decimals={4}\n      mint\n      token={SiloAsset.Stalk}\n      value={toStalkValue}\n    />\n  )\n  const toSeedsField = <TokenOutputField\n    decimals={4}\n    mint\n    token={SiloAsset.Seed}\n    value={toSeedsValue}\n  />\n  const toSiloLPField = (\n    <TokenOutputField\n      mint\n      token={SiloAsset.LP}\n      value={toSiloLPValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const resetFields = () => {\n    fromValueUpdated(new BigNumber(-1), new BigNumber(-1), new BigNumber(-1))\n  }\n  const frontrunTextField = (\n    props.settings.mode !== SwapMode.Bean && props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      handleMode={resetFields}\n      hasClaimable={props.hasClaimable}\n      hasConvertible={props.maxFromBeanSiloVal.isGreaterThan(0)}\n      hasSlippage={true}\n      setSettings={props.setSettings}\n      settings={props.settings}\n      showLP={props.lpBalance.isGreaterThan(0)}\n    />\n  )\n  function transactionDetails() {\n    if (toStalkValue.isLessThanOrEqualTo(0)) return null\n\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toSiloLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromBeanValue.isGreaterThan(0) || fromEthValue.isGreaterThan(0) || fromLPValue.isGreaterThan(0)) {\n        const claimable = props.settings.claim ? props.claimable : null\n        const lp = MaxBN(fromLPValue, new BigNumber(0))\n        if (props.settings.mode === SwapMode.LP && lp.isGreaterThan(0)) {\n          depositLP(toStringBaseUnitBN(lp,ETH.decimals),claimable, () => resetFields())\n        }\n        else if (props.settings.convert) {\n          convertAddAndDepositLP(\n            toStringBaseUnitBN(lp,ETH.decimals),\n            toStringBaseUnitBN(fromEthValue,ETH.decimals),\n            [toStringBaseUnitBN(fromBeanValue,BEAN.decimals),\n              toStringBaseUnitBN(fromBeanValue.multipliedBy(props.settings.slippage),BEAN.decimals),\n              toStringBaseUnitBN(fromEthValue.multipliedBy(props.settings.slippage),ETH.decimals)\n            ],\n            beanConvertParams.crates,\n            beanConvertParams.amounts,\n            claimable,\n            () => resetFields())\n        } else {\n          const beans = fromBeanValue.plus(toBuyBeansValue).minus(toSellBeansValue)\n          const buyEth = MaxBN(toBuyEthValue, new BigNumber(0))\n          const eth = fromEthValue.plus(buyEth).minus(toSellEthValue)\n          addAndDepositLP(\n            toStringBaseUnitBN(lp,ETH.decimals),\n            toStringBaseUnitBN(toBuyBeansValue,BEAN.decimals),\n            toStringBaseUnitBN(buyEth,ETH.decimals),\n            toStringBaseUnitBN(fromEthValue,ETH.decimals),\n            [toStringBaseUnitBN(beans,BEAN.decimals),\n              toStringBaseUnitBN(beans.multipliedBy(props.settings.slippage),BEAN.decimals),\n              toStringBaseUnitBN(eth.multipliedBy(props.settings.slippage),ETH.decimals)\n            ],\n            claimable,\n            () => resetFields())\n        }\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {fromBeanField}\n    {fromEthField}\n    {transactionDetails()}\n    {frontrunTextField}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { forwardRef, useImperativeHandle, useState } from 'react'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport {\n  SEEDS,\n  STALK,\n  LPBEANS_TO_SEEDS,\n  UNI_V2_ETH_BEAN_LP\n} from '../../constants'\nimport {\n  claimAndWithdrawLP,\n  MinBN,\n  MinBNs,\n  toStringBaseUnitBN,\n  TrimBN,\n  withdrawLP\n} from '../../util'\nimport {\n  SettingsFormModule,\n  SiloAsset,\n  TokenInputField,\n  TokenOutputField,\n  TransitAsset\n} from '../Common'\n\nexport const LPWithdrawSubModule = forwardRef((props, ref) => {\n  const [fromStalkValue, setFromStalkValue] = useState(new BigNumber(-1))\n  const [fromSeedsValue, setFromSeedsValue] = useState(new BigNumber(-1))\n  const [fromLPValue, setFromLPValue] = useState(new BigNumber(-1))\n  const [withdrawParams, setWithdrawParams] = useState({\n    crates: [],\n    amounts: []\n  })\n\n  /*function maxLPs(stalk: BugNumber) {\n    var stalkRemoved = new BigNumber(0)\n    var beans = new BigNumber(0)\n    Object.keys(props.crates).sort((a,b) => parseInt(a) - parseInt(b)).forEach(key => {\n      let stalkPerLP = (new BigNumber(10000)).plus(props.season.minus(key)).multipliedBy(5)\n      const stalkLeft = stalk.minus(stalkRemoved)\n      if (stalkPerLP.multipliedBy(props.crates[key]).isGreaterThanOrEqualTo(stalkLeft)) {\n        stalkRemoved = stalkRemoved.plus(stalkPerLP.multipliedBy(props.crates[key]))\n        beans = beans.plus(props.crates[key])\n        if (stalkRemoved.isEqualTo(stalk)) return\n      } else {\n        beans = beans.plus(TrimBN(stalkLeft.dividedBy(stalkPerLP),18))\n        return\n      }\n    })\n    return beans\n  }\n  */\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromLPVal)\n    const newFromLPValue = TrimBN(fromNumber, UNI_V2_ETH_BEAN_LP.decimals)\n    setFromLPValue(newFromLPValue)\n    const [stalkRemoved, seedsRemoved] = getStalkAndSeedsRemoved(fromNumber)\n    setFromStalkValue(TrimBN(stalkRemoved, STALK.decimals))\n    setFromSeedsValue(TrimBN(seedsRemoved, SEEDS.decimals))\n    props.setIsFormDisabled(newFromLPValue.isLessThanOrEqualTo(0))\n  }\n\n   const getStalkAndSeedsRemoved = (beans) => {\n     var lpRemoved = new BigNumber(0)\n     var stalkRemoved = new BigNumber(0)\n     var seedsRemoved = new BigNumber(0)\n     var crates = []\n     var amounts = []\n     BigNumber.set({ DECIMAL_PLACES: 6 })\n     Object.keys(props.crates).sort((a,b) => parseInt(b) - parseInt(a)).some(key => {\n       const crateLPsRemoved = (\n         lpRemoved.plus(props.crates[key]).isLessThanOrEqualTo(beans)\n          ? props.crates[key]\n          : beans.minus(lpRemoved)\n        )\n       const crateSeedsRemoved = props.seedCrates[key].multipliedBy(crateLPsRemoved).dividedBy(props.crates[key])\n       lpRemoved = lpRemoved.plus(crateLPsRemoved)\n       seedsRemoved = seedsRemoved.plus(crateSeedsRemoved)\n       BigNumber.set({ DECIMAL_PLACES: 10 })\n       stalkRemoved = stalkRemoved.plus(crateSeedsRemoved.dividedBy(LPBEANS_TO_SEEDS))\n       stalkRemoved = stalkRemoved.plus(crateSeedsRemoved.multipliedBy(props.season.minus(key)).multipliedBy(0.00001))\n       BigNumber.set({ DECIMAL_PLACES: 6 })\n       crates.push(key)\n       amounts.push(toStringBaseUnitBN(crateLPsRemoved, UNI_V2_ETH_BEAN_LP.decimals))\n       return lpRemoved.isEqualTo(beans)\n     })\n     BigNumber.set({ DECIMAL_PLACES: 18 })\n     setWithdrawParams({crates,amounts})\n     return [stalkRemoved, seedsRemoved]\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n  const maxHandler = () => {\n    const minMaxFromVal = MinBNs([\n      props.maxFromStalkVal.multipliedBy(props.stalkToLP),\n      props.maxFromSeedsVal.multipliedBy(props.seedsToLP),\n      props.maxFromLPVal\n    ])\n    fromValueUpdated(minMaxFromVal)\n  }\n\n  /* Input Fields */\n\n  const fromLPField = (\n    <TokenInputField\n      balance={props.maxFromLPVal}\n      handleChange={handleFromChange}\n      isLP={true}\n      maxHandler={maxHandler}\n      poolForLPRatio={props.poolForLPRatio}\n      setValue={setFromLPValue}\n      token={SiloAsset.LP}\n      value={TrimBN(fromLPValue, 9)}\n    />\n  )\n\n  /* Output Fields */\n\n  const toBurnStalkField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Stalk}\n      value={fromStalkValue}\n    />\n  )\n  const toBurnSeedsField = (\n    <TokenOutputField\n      burn\n      decimals={4}\n      token={SiloAsset.Seed}\n      value={fromSeedsValue}\n    />\n  )\n  const toTransitLPField = (\n    <TokenOutputField\n      mint\n      token={TransitAsset.LP}\n      value={fromLPValue}\n    />\n  )\n\n  /* Transaction Details, settings and text */\n\n  const unvoteTextField = (\n    props.locked\n      ? <div style={{marginTop: '-5px', fontFamily: 'Futura-PT-Book'}}>{'Unvote Active BIPs to Withdraw'}</div>\n      : null\n  )\n  const showSettings = (\n    props.hasClaimable\n      ? <SettingsFormModule\n          hasClaimable={props.hasClaimable}\n          showUnitModule={false}\n          setSettings={props.setSettings}\n          settings={props.settings}\n        />\n      : null\n  )\n  function transactionDetails() {\n    if (fromLPValue.isNegative() || fromLPValue.isZero()) {\n      return <></>\n    }\n    return (\n      <>\n      <ExpandMoreIcon color='primary' style={{marginBottom: '-14px', width: '100%'}} />\n      <div style={{display: 'inline-flex'}}>\n        <div style={{marginRight: '5px'}}>{toBurnStalkField}</div>\n        <div style={{marginLeft: '5px'}}>{toBurnSeedsField}</div>\n      </div>\n      <div style={{display: 'inline-block', width: '100%'}}>{toTransitLPField}</div>\n      </>\n    )\n  }\n\n  useImperativeHandle(ref, () => ({\n    handleForm() {\n      if (fromLPValue.isLessThanOrEqualTo(0)\n          || withdrawParams.crates.length === 0\n          || withdrawParams.amounts.length === 0) return\n\n      if (props.settings.claim) {\n        claimAndWithdrawLP(withdrawParams.crates, withdrawParams.amounts, props.claimable, () => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      } else {\n        withdrawLP(withdrawParams.crates, withdrawParams.amounts,() => {\n          fromValueUpdated(new BigNumber(-1))\n        })\n      }\n    }\n  }))\n\n  return (\n    <>\n    {fromLPField}\n    {unvoteTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n})\n","import BigNumber from 'bignumber.js'\nimport React, { useRef, useState } from 'react'\nimport { BASE_SLIPPAGE, LPBEAN_TO_STALK } from '../../constants'\nimport { approveBeanstalkBean, approveBeanstalkLP, SwapMode } from '../../util'\nimport {\n  ListTable,\n  BaseModule,\n  SiloAsset,\n  TransitAsset\n} from '../Common'\nimport { LPClaimSubModule } from './LPClaimSubModule'\nimport { LPDepositSubModule } from './LPDepositSubModule'\nimport { LPWithdrawSubModule } from './LPWithdrawSubModule'\n\nexport default function SiloLPModule(props) {\n  const [section, setSection] = useState(0)\n  const [sectionInfo, setSectionInfo] = useState(0)\n  const [settings, setSettings] = useState({\n    claim: false,\n    convert: false,\n    useLP: false,\n    mode: null,\n    slippage: new BigNumber(BASE_SLIPPAGE)\n  })\n  const [page, setPage] = React.useState(0)\n\n  const sectionTitles = ['Deposit', 'Withdraw']\n\n  const handleTabChange = (event, newSection) => {\n    if (newSection !== section) {\n      setSection(newSection)\n      setIsFormDisabled(true)\n    }\n  }\n  const handleTabInfoChange = (event, newSectionInfo, newPageZero) => { setSectionInfo(newSectionInfo); setPage(newPageZero) }\n  const handlePageChange = (event, newPage) => { setPage(newPage) }\n\n  if (settings.mode === null) {\n    if (props.lpBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.LP}})\n    else if (props.beanBalance.isGreaterThan(0) && props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.BeanEthereum}})\n    else if (props.beanBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Bean}})\n    else if (props.ethBalance.isGreaterThan(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n    else if (props.beanBalance.isEqualTo(0) && props.ethBalance.isEqualTo(0)) setSettings(p => {return {...p, mode: SwapMode.Ethereum}})\n  }\n\n  const depositRef = useRef<any>()\n  const withdrawRef = useRef<any>()\n  const claimRef = useRef<any>()\n  function handleForm() {\n    switch (section) {\n      case 0: depositRef.current.handleForm(); break\n      case 1: withdrawRef.current.handleForm(); break\n      case 2: claimRef.current.handleForm(); break\n      default: break\n    }\n  }\n  const [isFormDisabled, setIsFormDisabled] = useState(true)\n  let sections = [\n      <LPDepositSubModule\n        beanBalance={props.beanBalance}\n        beanCrates={props.beanDeposits}\n        beanReserve={props.beanReserve}\n        beanToEth={props.ethReserve.dividedBy(props.beanReserve)}\n        beanToStalk={LPBEAN_TO_STALK}\n        claimable={props.claimable}\n        claimableEthBalance={props.claimableEthBalance}\n        ethBalance={props.ethBalance}\n        ethReserve={props.ethReserve}\n        ethToBean={props.beanReserve.dividedBy(props.ethReserve)}\n        hasClaimable={props.hasClaimable}\n        lpBalance={props.lpBalance}\n        updateExpectedPrice={props.updateExpectedPrice}\n        maxFromBeanSiloVal={props.beanSiloBalance}\n        maxFromClaimableVal={props.beanClaimableBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={depositRef}\n        season={props.season}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n        setSettings={setSettings}\n        settings={settings}\n        totalLP={props.totalLP}\n      />,\n      <LPWithdrawSubModule\n        claimable={props.claimable}\n        crates={props.lpDeposits}\n        hasClaimable={props.hasClaimable}\n        locked={section === 1 && props.locked}\n        maxFromClaimableVal={props.beanClaimableBalance}\n        maxFromLPVal={props.lpSiloBalance}\n        maxFromSeedsVal={props.seedBalance}\n        maxFromStalkVal={props.stalkBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={withdrawRef}\n        season={props.season}\n        seedCrates={props.lpSeedDeposits}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n        setSettings={setSettings}\n        settings={settings}\n      />\n    ]\n  if (props.lpReceivableBalance.isGreaterThan(0)) {\n    sections.push(\n      <LPClaimSubModule\n        crates={props.lpReceivableCrates}\n        maxFromLPVal={props.lpReceivableBalance}\n        poolForLPRatio={props.poolForLPRatio}\n        ref={claimRef}\n        setIsFormDisabled={setIsFormDisabled}\n        setSection={setSection}\n      />\n    )\n    sectionTitles.push('Claim')\n  }\n  if (section > sectionTitles.length - 1) setSection(0)\n\n  var sectionTitlesInfo = []\n  var sectionsInfo = []\n  if (props.lpDeposits !== undefined && Object.keys(props.lpDeposits).length > 0) {\n    sectionsInfo.push(\n      <ListTable\n        asset={SiloAsset.LP}\n        crates={props.lpDeposits}\n        description='LP Deposits Will Appear Here'\n        handleChange={handlePageChange}\n        indexTitle='Season'\n        isLP={true}\n        page={page}\n        poolForLPRatio={props.poolForLPRatio}\n        season={props.season}\n        seedCrates={props.lpSeedDeposits}\n        title='Deposits'\n      />\n    )\n    sectionTitlesInfo.push('Deposits')\n  }\n  if ((props.lpWithdrawals !== undefined && Object.keys(props.lpWithdrawals).length > 0) || props.lpReceivableBalance.isGreaterThan(0)) {\n    sectionsInfo.push(\n      <ListTable\n        asset={TransitAsset.LP}\n        crates={props.lpWithdrawals}\n        claimableBalance={props.lpReceivableBalance}\n        claimableCrates={props.lpReceivableCrates}\n        description='Bean Withdrawals Will Appear Here'\n        handleChange={handlePageChange}\n        index={props.season}\n        indexTitle='Seasons to Arrival'\n        isLP={true}\n        page={page}\n        poolForLPRatio={props.poolForLPRatio}\n        title='Withdrawals'\n      />\n    )\n    sectionTitlesInfo.push('Withdrawals')\n  }\n\n  const showListTables = (\n    sectionsInfo.length > 0\n      ? <div style={{marginTop: '61px'}}>\n          <BaseModule\n            handleTabChange={handleTabInfoChange}\n            section={sectionInfo}\n            sectionTitles={sectionTitlesInfo}\n            showButton={false}\n          >\n            {sectionsInfo[sectionInfo]}\n          </BaseModule>\n        </div>\n      : <></>\n  )\n\n  let allowance = new BigNumber(1)\n  let setAllowance = props.setBeanstalkBeanAllowance\n  let handleApprove = approveBeanstalkBean\n  if (settings.mode === SwapMode.Bean || settings.mode === SwapMode.BeanEthereum) {\n    allowance = props.beanstalkBeanAllowance\n    if (allowance.isGreaterThan(0) && settings.useLP) {\n      allowance = props.beanstalkLPAllowance\n      setAllowance = props.setBeanstalkLPAllowance\n      handleApprove = approveBeanstalkLP\n    }\n  }\n  else if (settings.mode === SwapMode.LP) {\n    allowance = props.beanstalkLPAllowance\n    setAllowance = props.setBeanstalkLPAllowance\n    handleApprove = approveBeanstalkLP\n  }\n\n  return (\n    <>\n    <BaseModule\n      allowance={section === 0 ? allowance : new BigNumber(1)}\n      resetForm={() => { setSettings({...settings, mode: SwapMode.Ethereum}) }}\n      handleApprove={handleApprove}\n      handleForm={handleForm}\n      handleTabChange={handleTabChange}\n      isDisabled={isFormDisabled}\n      locked={section === 1 && props.locked}\n      lockedSeasons={props.lockedSeasons}\n      mode={settings.mode}\n      section={section}\n      sectionTitles={sectionTitles}\n      setAllowance={setAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n    {showListTables}\n    </>\n  )\n}\n","import { ContentSection, Grid, TitleLabel } from '../Common'\nimport SiloBeanModule from './SiloBeanModule'\nimport SiloLPModule from './SiloLPModule'\n\nexport default function Silo(props) {\n  const { innerWidth: width } = window\n\n  return (\n    <ContentSection id='silo' title='Silo'>\n      <Grid container item xs={12} spacing={8} className='SiloSection' alignItems='flex-start' justifyContent='center' style={{height: '100%', margin: '0px'}}>\n        <Grid item md={6} sm={12} style={width > 400 ? {maxWidth: '500px'} : {width: width - 64}}>\n          <TitleLabel margin={props.margin}>Beans</TitleLabel>\n          <SiloBeanModule {...props} />\n        </Grid>\n        <Grid item md={6} sm={12} style={width > 400 ? {maxWidth: '500px'} : {width: width - 64}}>\n          <TitleLabel margin={props.margin}>LP</TitleLabel>\n          <SiloLPModule {...props} />\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n\nSilo.defaultProps = {\n  margin: '-10px 0 -20px 0'\n}\n","import { createTheme } from '@material-ui/core/styles'\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: '#3B3B3B'\n    },\n    secondary: {\n      main: '#DCBA6A'\n    },\n    background: {\n      main: '#EFF7FF'\n    }\n  }\n})\nexport default theme\n","import { claim, updateSilo } from '../../util'\nimport {\n  ClaimableAsset,\n  Grid,\n  SingleButton,\n  TokenBalanceModule\n} from '../Common'\n\nexport default function ClaimableBalance(props) {\n  const showButton = (\n    <Grid container item xs={12}>\n      <Grid container item direction='column' alignItems='center' style={{margin: props.margin}}>\n        <SingleButton\n          backgroundColor='#3B3B3B'\n          color='white'\n          description={props.buttonDescription}\n          handleClick={\n            props.asset === ClaimableAsset.Ethereum\n              ? () => { claim(props.claimable) }\n              : () => { updateSilo(props.claimable) }\n          }\n          margin='-13px 7px 0 0'\n          marginTooltip='0 0 -5px 20px'\n          size='small'\n          title={props.claimTitle}\n          width='80%'\n          widthTooltip='150px'\n        />\n      </Grid>\n    </Grid>\n  )\n\n  if (props.userClaimable && props.balance.isGreaterThan(0)) {\n    return (\n      <Grid container item justifyContent='center'>\n        <Grid container item xs={12} justifyContent='center'>\n          <Grid item sm={9} xs={10}>\n            <TokenBalanceModule\n              balance={props.balance}\n              claimPadding={true}\n              description={props.description}\n              token={props.asset}\n              widthTooltip={props.widthTooltip}\n            />\n          </Grid>\n        </Grid>\n        {showButton}\n      </Grid>\n    )\n  } else {\n    return (\n      <Grid container item justifyContent='center'>\n        {showButton}\n      </Grid>\n    )\n  }\n}\n\nClaimableBalance.defaultProps = {\n  margin: 'inherit',\n  userClaimable: 0,\n  claimTitle: 'Claim',\n  buttonDescription: 'Claim all Withdrawals, Harvestable Pods and ETH',\n}\n","import BigNumber from 'bignumber.js'\nimport { useState } from 'react'\nimport { UNISWAP_BASE_LP } from '../../constants'\nimport {\n  BaseModule,\n  ContentSection,\n  ClaimableAsset,\n  Grid,\n  totalDescriptions,\n  totalStrings,\n  walletDescriptions,\n  walletStrings\n} from '../Common'\nimport ClaimableBalance from './ClaimableBalance'\nimport BalanceSection from './BalanceSection'\n\nexport default function BalanceSectionModule(props) {\n  const balanceStyle = {\n    borderRadius: '25px',\n    color: 'primary',\n    backgroundColor: '#F5FAFF',\n    padding: '10px',\n  }\n  const divStyle = {\n    fontSize: '18px',\n    fontFamily: 'Futura-Pt-Book',\n    marginTop: '13px',\n    textTransform: 'uppercase',\n  }\n  const lineStyle = {\n    color: 'primary',\n    backgroundColor: 'primary',\n    margin: '14px 4px 8px 4px',\n  }\n\n  const sectionTitles = ['My Balances', 'Beanstalk']\n  const [section, setSection] = useState(0)\n  const handleTabChange = (event, newSection) => { setSection(newSection) }\n\n  const userLP = (\n    props.lpBalance\n      .plus(props.lpSiloBalance)\n      .plus(props.lpTransitBalance)\n      .plus(props.lpReceivableBalance)\n  )\n  const userBeans = (\n    props.beanBalance\n      .plus(props.beanSiloBalance)\n      .plus(props.beanTransitBalance)\n      .plus(props.beanReceivableBalance)\n      .plus(props.harvestablePodBalance)\n  )\n\n  const userBeansAndEth = props.poolForLPRatio(userLP)\n  const poolBeansAndEth = props.poolForLPRatio(props.totalLP)\n\n  const userLPBeans = userBeansAndEth[0].multipliedBy(2)\n  const userBalanceInDollars = userBeans.plus(userLPBeans).multipliedBy(props.beanPrice)\n\n  const marketCap = (\n    props.totalBeans.isGreaterThan(0)\n      ? props.totalBeans.multipliedBy(props.beanPrice)\n      : new BigNumber(0)\n  )\n  const poolMarketCap = (\n    props.beanReserve.isGreaterThan(0)\n      ? props.beanReserve.multipliedBy(props.beanPrice).multipliedBy(2)\n      : new BigNumber(0)\n  )\n\n  const userTotalClaimable = (\n    props.beanReceivableBalance\n      .plus(props.harvestablePodBalance)\n      .plus(props.lpReceivableBalance)\n      .plus(props.claimableEthBalance)\n  )\n\n  const claimable = (\n    userTotalClaimable.isGreaterThan(0)\n      ? <Grid item xs={6}>\n          <ClaimableBalance\n            asset={ClaimableAsset.Ethereum}\n            balance={props.claimableEthBalance}\n            userClaimable={userTotalClaimable.isGreaterThan(0)}\n            description={walletDescriptions.claimableEthBalance}\n            claimable={props.claimable}\n            {...props}\n          />\n        </Grid>\n      : null\n  )\n\n  const farmable = (\n    props.grownStalkBalance.isGreaterThan(0) || props.farmableBeanBalance.isGreaterThan(0) ||\n    (props.stalkBalance.isGreaterThan(0) && props.rootsBalance.isEqualTo(0))\n      ? <Grid item xs={6}>\n          <ClaimableBalance\n            asset={ClaimableAsset.Stalk}\n            balance={props.rootsBalance.isEqualTo(0) ? new BigNumber(0) : props.grownStalkBalance}\n            buttonDescription={'Farm Beans, Seeds and Stalk.'}\n            claimTitle='FARM'\n            description={'Stalk grown from previously Claimed Seeds will start earning interest when Farmed.'}\n            claimable={props.grownStalkBalance}\n            userClaimable={props.grownStalkBalance.isGreaterThan(0)}\n            widthTooltip='230px'\n            {...props}\n          />\n          {props.rootsBalance.isEqualTo(0)\n            ? <div style={{width:'130%', marginLeft:'-15%'}}>\n                You have not updated your Silo account since the last BIP has passed. Please click 'Farm' to update your Silo.\n              </div>\n            : null\n          }\n        </Grid>\n      : null\n  )\n\n  const myBalancesSection = (\n    <>\n    <BalanceSection\n      description={walletDescriptions}\n      strings={walletStrings}\n      topLeft={userBalanceInDollars}\n      topRight={props.rootsBalance.dividedBy(props.totalRoots).multipliedBy(100)}\n      beanReserveTotal={new BigNumber(0)}\n      beanLPTotal={userBeansAndEth}\n      {...props}\n    />\n\n    <Grid container item justifyContent='center'>\n      {claimable}\n      {farmable}\n    </Grid>\n    </>\n  )\n  const totalBalancesSection = (\n    <>\n    <BalanceSection\n      description={totalDescriptions}\n      strings={totalStrings}\n      beanBalance={\n        props.totalBeans.isGreaterThan(0)\n          ? props.totalBeans\n              .minus(props.totalSiloBeans)\n              .minus(props.totalTransitBeans)\n              .minus(props.beanReserve)\n          : new BigNumber(0)\n      }\n      lpBalance={\n        props.totalLP.isGreaterThan(0)\n          ? props.totalLP\n              .minus(props.totalSiloLP)\n              .minus(props.totalTransitLP)\n              .minus(new BigNumber(UNISWAP_BASE_LP))\n          : new BigNumber(0)\n      }\n      beanSiloBalance={props.totalSiloBeans}\n      lpSiloBalance={props.totalSiloLP}\n      beanTransitBalance={props.totalTransitBeans}\n      lpTransitBalance={props.totalTransitLP}\n      beanClaimableBalance={undefined}\n      beanReceivableBalance={new BigNumber(0)}\n      harvestablePodBalance={new BigNumber(0)}\n      lpReceivableBalance={new BigNumber(0)}\n      claimableEthBalance={new BigNumber(0)}\n      beanReserveTotal={props.beanReserve}\n      ethBalance={props.ethReserve}\n      stalkBalance={props.totalStalk}\n      seedBalance={props.totalSeeds}\n      podBalance={props.totalPods}\n      topLeft={marketCap}\n      topRight={poolMarketCap}\n      beanLPTotal={poolBeansAndEth}\n      poolForLPRatio={props.poolForLPRatio}\n    />\n    </>\n  )\n\n  const sections = [myBalancesSection, totalBalancesSection]\n\n  return (\n    <ContentSection id='balances' title='Balances'>\n      <div className='BalanceSection-mobile'>\n        <BaseModule\n          handleForm={() => {}}\n          handleTabChange={handleTabChange}\n          section={section}\n          sectionTitles={sectionTitles}\n          showButton={false}\n        >\n          {sections[section]}\n        </BaseModule>\n      </div>\n\n      <Grid className='BalanceSection' container item spacing={8} justifyContent='center' alignItems='flex-start' style={{marginTop: '8px'}}>\n        <Grid item sm={12} md={6} style={{maxWidth: '500px'}}>\n          <div className='AppBar-shadow' style={balanceStyle}>\n            <div style={divStyle}>My Balances </div>\n            <hr style={lineStyle} />\n            {myBalancesSection}\n          </div>\n        </Grid>\n\n        <Grid item sm={12} md={6} style={{maxWidth: '500px'}}>\n          <div className='AppBar-shadow' style={balanceStyle}>\n            <div style={divStyle}>Beanstalk</div>\n            <hr style={lineStyle} />\n            {totalBalancesSection}\n          </div>\n        </Grid>\n      </Grid>\n    </ContentSection>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport { BEAN } from '../../constants'\nimport { isAddress, MinBN, TrimBN  } from '../../util'\nimport { AddressInputField, CryptoAsset, TokenInputField } from '../Common'\n\nexport default function SendSubModule(props) {\n  var [snappedToAddress, setSnappedToAddress] = useState(false)\n  const [isValidAddress, setIsValidAddress] = useState(false)\n  const [walletText, setWalletText] = useState('')\n\n  function fromValueUpdated(newFromNumber) {\n    const fromNumber = MinBN(newFromNumber, props.maxFromBeanVal)\n    props.setFromBeanValue(TrimBN(fromNumber, BEAN.decimals))\n  }\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  async function toAddressUpdated(newToAddress) {\n    if (snappedToAddress) {\n      props.setToAddress('')\n      setWalletText('')\n      setSnappedToAddress(false)\n      return\n    }\n\n    if (newToAddress.length === 42) {\n      setWalletText(`${newToAddress.substring(0, 6)}...${newToAddress.substring(newToAddress.length - 4)}`)\n      setSnappedToAddress(true)\n      setIsValidAddress(await isAddress(newToAddress))\n    } else {\n      setWalletText('')\n    }\n    props.setToAddress(newToAddress)\n  }\n\n  const handleChange = (event) => {\n    if (event.target.value) {\n      toAddressUpdated(event.target.value)\n    } else {\n      toAddressUpdated('')\n    }\n  }\n\n  const maxHandler = () => { fromValueUpdated(props.maxFromBeanVal) }\n  const clearHandler = () => { toAddressUpdated(walletText) }\n\n  /* Input Fields */\n\n  const toAddressField = (\n    <AddressInputField\n      address={walletText}\n      setAddress={props.setWalletText}\n      fromAddress={props.address}\n      handleChange={handleChange}\n      snapped={snappedToAddress}\n      handleClear={clearHandler}\n      isValidAddress={isValidAddress}\n    />\n  )\n  const fromBeanField = (\n    <TokenInputField\n      hidden={props.toAddress.length !== 42}\n      token={CryptoAsset.Bean}\n      value={props.fromBeanValue}\n      setValue={fromValueUpdated}\n      handleChange={handleFromChange}\n      balance={props.maxFromBeanVal}\n      maxHandler={maxHandler}\n    />\n  )\n\n  return (\n    <>\n    {toAddressField}\n    {fromBeanField}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport { IconButton } from '@material-ui/core'\nimport UnfoldMoreIcon from '@material-ui/icons/UnfoldMore'\nimport {\n  BEAN,\n  ETH,\n  LP_FEE,\n  SLIPPAGE_THRESHOLD\n} from '../../constants'\nimport {\n  getFromAmount,\n  getToAmount,\n  MinBN,\n  MinBNs,\n  TokenLabel,\n  TrimBN\n} from '../../util'\nimport {\n  FrontrunText,\n  SettingsFormModule,\n  TokenInputField,\n  TransactionDetailsModule\n} from '../Common'\n\nexport default function SwapSubModule(props) {\n\n  function fromValueUpdated(newFromNumber) {\n    if (newFromNumber.isLessThan(0)) {\n      props.setFromValue(new BigNumber(-1))\n      props.setToValue(new BigNumber(-1))\n    }\n    const fromReserve = props.orderIndex ? props.ethReserve : props.beanReserve\n    const fromNumber = MinBNs([newFromNumber, props.balance, fromReserve])\n    const toReserve = !props.orderIndex ? props.ethReserve : props.beanReserve\n    const newToValue = getToAmount(fromNumber, fromReserve, toReserve)\n\n    props.setFromValue(TrimBN(fromNumber, props.orderIndex ? ETH.decimals : BEAN.decimals))\n    props.setToValue(TrimBN(newToValue, props.orderIndex ? BEAN.decimals : ETH.decimals))\n  }\n\n  const handleFromChange = (event) => {\n    if (event.target.value) {\n      fromValueUpdated(new BigNumber(event.target.value))\n    } else {\n      fromValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  function getExpectedBeanPrice(fromValue, toValue) {\n    const [estbeanReserve, estethReserve] = (\n      props.orderIndex\n        ? [props.beanReserve.minus(toValue), props.ethReserve.plus(fromValue)]\n        : [props.beanReserve.plus(fromValue), props.ethReserve.minus(toValue)]\n    )\n    const endPrice = estethReserve.dividedBy(estbeanReserve).dividedBy(props.usdcPrice)\n    return (props.beanPrice.plus(endPrice)).dividedBy(2)\n  }\n\n  function toValueUpdated(newToNumber) {\n    const fromReserve = props.orderIndex ? props.ethReserve : props.beanReserve\n    const toReserve = props.orderIndex ? props.beanReserve : props.ethReserve\n    const toNumber = MinBN(newToNumber, toReserve)\n    const proposedNewFromValue = getFromAmount(toNumber, fromReserve, toReserve, props.orderIndex ? ETH.decimals : BEAN.decimals)\n    if (proposedNewFromValue.isGreaterThan(props.maxFromVal)) {\n      fromValueUpdated(props.maxFromVal)\n    } else {\n      props.setFromValue(TrimBN(proposedNewFromValue, props.orderIndex ? ETH.decimals : BEAN.decimals))\n      props.setToValue(TrimBN(toNumber, props.orderIndex ? BEAN.decimals : ETH.decimals))\n    }\n  }\n\n  const handleToChange = (event) => {\n    if (event.target.value) {\n      toValueUpdated(new BigNumber(event.target.value))\n    } else {\n      toValueUpdated(new BigNumber(-1))\n    }\n  }\n\n  const maxHandler = () => { fromValueUpdated(props.maxFromVal) }\n\n  /* Input Fields */\n\n  const fromField = (\n    <TokenInputField\n      value={TrimBN(props.fromValue, props.orderIndex ? 9 : BEAN.decimals)}\n      setValue={fromValueUpdated}\n      handleChange={handleFromChange}\n      token={props.fromToken}\n      balance={props.balance}\n      maxHandler={maxHandler}\n    />\n  )\n  const toField = (\n    <TokenInputField\n      value={TrimBN(props.toValue, props.orderIndex ? BEAN.decimals : 9)}\n      setValue={toValueUpdated}\n      handleChange={handleToChange}\n      token={props.toToken}\n      balance={props.toBalance}\n    />\n  )\n\n  /* Switch Fields */\n\n  const switchField = (\n    <IconButton\n        onClick={() => {\n          props.setFromValue(new BigNumber(-1))\n          props.setToValue(new BigNumber(-1))\n          props.setOrderIndex(!props.orderIndex)\n        }}\n        style={{marginTop: '-6px', marginBottom: '-24px'}}\n        color='primary'\n      >\n      <UnfoldMoreIcon />\n    </IconButton>\n  )\n\n  /* Transaction Details, settings and text */\n\n  const frontrunTextField = (\n    props.settings.slippage.isLessThanOrEqualTo(SLIPPAGE_THRESHOLD)\n      ? <FrontrunText />\n      : null\n  )\n  const showSettings = (\n    <SettingsFormModule\n      settings={props.settings}\n      setSettings={props.setSettings}\n      showUnitModule={false}\n      hasSlippage={true}\n    />\n  )\n\n  const expectedBeanPrice = getExpectedBeanPrice(props.fromValue, props.toValue)\n  const fee = (\n    props.orderIndex\n      ? props.fromValue.dividedBy(props.usdcPrice).multipliedBy(LP_FEE)\n      : props.fromValue.multipliedBy(props.beanPrice).multipliedBy(LP_FEE)\n  )\n\n  function transactionDetails() {\n    if (props.toValue.isGreaterThan(0)) {\n      return (\n        <TransactionDetailsModule\n            fields={{\n              'Minimum Received':`${props.toValue.multipliedBy(props.settings.slippage).toFixed(4)} ${TokenLabel(props.toToken)}`,\n              'Expected Price': `$ ${expectedBeanPrice.toFixed(4)}`,\n              'LP Fee': `0.3% ($${fee.toFixed(2)})`\n            }}\n          />\n      )\n    }\n    return null\n  }\n\n  return (\n    <>\n    {fromField}\n    {switchField}\n    {toField}\n    {frontrunTextField}\n    {transactionDetails()}\n    {showSettings}\n    </>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useState } from 'react'\nimport {\n  BASE_SLIPPAGE,\n  BEAN,\n  ETH,\n  MIN_BALANCE\n} from '../../constants'\nimport {\n  approveUniswapBean,\n  buyBeans,\n  sellBeans,\n  toStringBaseUnitBN,\n  transferBeans\n} from '../../util'\nimport { BaseModule, CryptoAsset } from '../Common'\nimport SendSubModule from './SendSubModule'\nimport SwapSubModule from './SwapSubModule'\n\nexport default function TradeModule(props) {\n  const [section, setSection] = useState(0)\n  const sectionTitles = ['Swap', 'Send']\n  const handleTabChange = (event, newSection) => {\n    handleSwapCallback()\n    setToAddress('')\n    setSection(newSection)\n  }\n\n  /* Swap Sub-Module state */\n\n  const [orderIndex, setOrderIndex] = useState(true)\n  const [settings, setSettings] = useState({ slippage: new BigNumber(BASE_SLIPPAGE) })\n  const [fromValue, setFromValue] = useState(new BigNumber(-1))\n  const [toValue, setToValue] = useState(new BigNumber(-1))\n  const fromToken = orderIndex ? CryptoAsset.Ethereum : CryptoAsset.Bean\n  const toToken = !orderIndex ? CryptoAsset.Ethereum : CryptoAsset.Bean\n  const ethToBean = new BigNumber(props.beanReserve.dividedBy(props.ethReserve))\n  const beanToEth = new BigNumber(1).dividedBy(ethToBean)\n  const conversionFactor = orderIndex ? ethToBean : beanToEth\n\n  /* Send Sub-Module state */\n\n  const [toAddress, setToAddress] = useState('')\n\n  function handleSwapCallback() {\n    setFromValue(new BigNumber(-1))\n    setToValue(new BigNumber(-1))\n  }\n\n  function handleForm() {\n    if (section === 0) {\n      var minimumToAmount = toValue.multipliedBy(settings.slippage)\n\n      if (toValue.isGreaterThan(0)) {\n        if (fromToken === CryptoAsset.Ethereum)\n          buyBeans(toStringBaseUnitBN(fromValue, ETH.decimals), toStringBaseUnitBN(minimumToAmount,BEAN.decimals), handleSwapCallback)\n        else\n          sellBeans(toStringBaseUnitBN(fromValue, BEAN.decimals), toStringBaseUnitBN(minimumToAmount, ETH.decimals), handleSwapCallback)\n      }\n    } else if (section === 1) {\n        if (fromValue.isGreaterThan(0)) {\n          transferBeans(toAddress, toStringBaseUnitBN(fromValue, BEAN.decimals), handleSwapCallback)\n        }\n    }\n  }\n\n  const disabled = (\n    section === 0\n      ? toValue.isLessThanOrEqualTo(0)\n      : (fromValue.isLessThanOrEqualTo(0) || toAddress.length !== 42)\n  )\n\n  const sections = [\n    <SwapSubModule\n      orderIndex={orderIndex}\n      setOrderIndex={setOrderIndex}\n      fromValue={fromValue}\n      setFromValue={setFromValue}\n      toValue={toValue}\n      setToValue={setToValue}\n      balance={fromToken === CryptoAsset.Ethereum ? props.ethBalance : props.beanBalance}\n      toBalance={fromToken === CryptoAsset.Ethereum ? props.beanBalance : props.ethBalance}\n      maxFromVal={fromToken === CryptoAsset.Ethereum\n        ? props.ethBalance.isGreaterThan(MIN_BALANCE)\n          ? props.ethBalance.minus(MIN_BALANCE)\n          : new BigNumber(-1)\n        : props.beanBalance\n      }\n      beanReserve={props.beanReserve}\n      ethReserve={props.ethReserve}\n      usdcPrice={props.usdcPrice}\n      beanPrice={props.beanPrice}\n      fromToken={fromToken}\n      toToken={toToken}\n      conversionFactor={conversionFactor}\n      settings={settings}\n      setSettings={setSettings}\n    />,\n    <SendSubModule\n      toAddress={toAddress}\n      setToAddress={setToAddress}\n      fromAddress={props.address}\n      fromBeanValue={fromValue}\n      setFromBeanValue={setFromValue}\n      maxFromBeanVal={props.beanBalance}\n      fromToken={CryptoAsset.Bean}\n    />\n  ]\n\n  return (\n    <BaseModule\n      allowance={section > 0 || orderIndex ? new BigNumber(1) : props.uniswapBeanAllowance}\n      resetForm={() => { setOrderIndex(1) }}\n      isDisabled={disabled}\n      sectionTitles={sectionTitles}\n      section={section}\n      handleTabChange={handleTabChange}\n      handleApprove={approveUniswapBean}\n      handleForm={handleForm}\n      setAllowance={props.setUniswapBeanAllowance}\n    >\n      {sections[section]}\n    </BaseModule>\n  )\n}\n","import React from 'react'\nimport { ContentSection, Grid, HeaderLabel } from '../Common'\nimport BalanceSectionModule from './BalanceSectionModule'\nimport TradeModule from './TradeModule'\n\nexport default function Trade(props) {\n  return (\n    <ContentSection id='trade'>\n      <Grid container item xs={12} sm={12} spacing={3} justifyContent='center'>\n        <Grid item xs={12} sm={6} style={{maxWidth: '300px'}}>\n          <HeaderLabel\n            title='Current Bean Price'\n            value={`$${props.beanPrice.toFixed(4)}`}\n            description='Current Bean Price on Uniswap'\n          />\n        </Grid>\n        <Grid item xs={12} sm={6} style={{maxWidth: '300px'}}>\n          <HeaderLabel\n            title='Seasons Since $1 Crossed'\n            value={props.lastCross}\n            description='Number of Seasons Since TWAP Crossed $1'\n          />\n        </Grid>\n      </Grid>\n\n      <Grid item xs={10} sm={8} style={{maxWidth: '500px', minHeight: '545px'}}>\n        <TradeModule {...props} />\n      </Grid>\n\n      <BalanceSectionModule {...props} />\n    </ContentSection>\n  )\n}\n","import BigNumber from 'bignumber.js'\nimport React, { useEffect, useRef, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { CssBaseline } from '@material-ui/core'\nimport { ThemeProvider } from '@material-ui/styles'\nimport BeanLogo from '../../img/bean-logo.svg'\nimport {\n  BASE_SLIPPAGE,\n  BEAN,\n  UNI_V2_ETH_BEAN_LP,\n  WETH\n} from '../../constants'\nimport {\n  addRewardedCrates,\n  createLedgerBatch,\n  getAccountBalances,\n  getBips,\n  getEtherBalance,\n  getPrices,\n  getTotalBalances,\n  initialize,\n  initializeCallback,\n  initializeEventListener,\n  parseWithdrawals,\n  parsePlots,\n  poolForLP,\n  toBaseUnitBN,\n  toTokenUnitsBN,\n  chainId\n} from '../../util'\nimport About from '../About'\nimport Footer from '../About/Footer'\nimport Field from '../Field'\nimport MetamasklessModule from './MetamasklessModule'\nimport { NavigationBar } from '../Navigation'\nimport Seasons from '../Seasons'\nimport Silo from '../Silo'\nimport theme from './theme'\nimport Trade from '../Trade'\n\nimport './App.css'\n\nexport default function App() {\n  const defaultNavMapping = [\n    {\n      path: 'trade',\n      title: 'Trade',\n      component: () => (\n        <Trade\n          key='trade'\n          lastCross={Math.max(parseInt(season.season) - lastCross, 0)}\n          poolForLPRatio={poolForLPRatio}\n          {...allowances} {...allowanceHandlers} {...prices} {...totalBalance} {...userBalance}\n        />\n      )\n    },\n    {\n      path: 'silo',\n      title: 'Silo',\n      component: () => (\n        <Silo\n          key='silo'\n          beanReserve={prices.beanReserve}\n          ethReserve={prices.ethReserve}\n          poolForLPRatio={poolForLPRatio}\n          season={season.season}\n          totalLP={totalBalance.totalLP}\n          updateExpectedPrice={updateExpectedPrice}\n          {...allowances} {...allowanceHandlers} {...userBalance}\n        />\n      )\n    },\n    {\n      path: 'field',\n      title: 'Field',\n      component: () => (\n        <Field\n          key='field'\n          beanReserve={prices.beanReserve}\n          ethReserve={prices.ethReserve}\n          unripenedPods={totalBalance.totalPods}\n          updateExpectedPrice={updateExpectedPrice}\n          {...allowances} {...allowanceHandlers} {...userBalance} {...weather}\n        />\n      )\n    },\n    {\n      path: 'seasons',\n      title: 'Seasons',\n      component: () => (\n        <Seasons\n          key='seasons'\n          bips={bips}\n          hasActiveBIP={hasActiveBIP}\n          votedBips={userBalance.votedBips}\n          userStalk={userBalance.stalkBalance}\n          {...prices} {...season} {...totalBalance} {...weather}\n        />\n      )\n    },\n    {\n      path: 'about',\n      title: 'About',\n      component: () => (\n        <About key='about' />\n      )\n    },\n  ]\n\n  BigNumber.set({ EXPONENTIAL_AT: [-12,20]})\n  const initBN = new BigNumber(-1)\n  const zeroBN = new BigNumber(0)\n\n  const [initialized, setInitialized] = useState(false)\n  const [metamaskFailure, setMetamaskFailure] = useState(-1)\n\n  const updateExpectedPrice = (sellEth: BigNumber, buyBeans: BigNumber) => {\n    const endPrice = prices.ethReserve.plus(sellEth)\n      .dividedBy(prices.beanReserve.minus(buyBeans))\n      .dividedBy(prices.usdcPrice)\n    return prices.beanPrice.plus(endPrice).dividedBy(2)\n  }\n\n  const poolForLPRatio = (amount: BigNumber) => {\n    if (amount.isLessThanOrEqualTo(0))\n      return [zeroBN, zeroBN]\n    return poolForLP(amount, prices.beanReserve, prices.ethReserve, totalBalance.totalLP)\n  }\n\n  const allowanceHandlers = {\n    setUniswapBeanAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, uniswapBeanAllowance: allowance}))\n    },\n    setBeanstalkBeanAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, beanstalkBeanAllowance: allowance}))\n    },\n    setBeanstalkLPAllowance: (allowance) => {\n      setAllowances(prevAllowances => ({...prevAllowances, beanstalkLPAllowance: allowance}))\n    },\n  }\n\n  const [allowances, setAllowances] = useState({\n    uniswapBeanAllowance: zeroBN,\n    beanstalkBeanAllowance: zeroBN,\n    beanstalkLPAllowance: zeroBN,\n  })\n  const [userBalance, setUserBalance] = useState({\n    ethBalance: initBN,\n    claimableEthBalance: initBN,\n    beanBalance: initBN,\n    beanSiloBalance: initBN,\n    beanReceivableBalance: initBN,\n    beanTransitBalance: initBN,\n    lpBalance: initBN,\n    lpSiloBalance: initBN,\n    lpTransitBalance: initBN,\n    lpReceivableBalance: initBN,\n    stalkBalance: initBN,\n    seedBalance: initBN,\n    podBalance: initBN,\n    harvestablePodBalance: initBN,\n    harvestableBalance: initBN,\n    beanDeposits: {},\n    rawBeanDeposits: {},\n    beanWithdrawals: {},\n    beanReceivableCrates: {},\n    lpDeposits: {},\n    lpSeedDeposits: {},\n    lpWithdrawals: {},\n    lpReceivableCrates: {},\n    plots: {},\n    harvestablePlots: {},\n    votedBips: new Set(),\n    locked: false,\n    lockedSeasons: initBN,\n    beanClaimableBalance: initBN,\n    claimable: [[], [], [], false, false, '0', '0'],\n    hasClaimable: false,\n    farmableStalkBalance: initBN,\n    farmableBeanBalance: initBN,\n    grownStalkBalance: initBN,\n    rootsBalance: initBN,\n  })\n\n  const [totalBalance, setTotalBalance] = useState({\n    totalBeans: initBN,\n    totalSiloBeans: initBN,\n    totalTransitBeans: initBN,\n    totalLP: initBN,\n    totalSiloLP: initBN,\n    totalTransitLP: initBN,\n    totalStalk: initBN,\n    totalSeeds: initBN,\n    totalPods: initBN,\n    totalRoots: initBN,\n  })\n  const [season, setSeason] = useState({\n    season: initBN,\n    timestamp: initBN,\n    start: initBN,\n    period: initBN,\n  })\n  const [weather, setWeather] = useState({\n    didSowBelowMin: false,\n    didSowFaster: false,\n    lastDSoil: initBN,\n    lastSoilPercent: initBN,\n    lastSowTime: initBN,\n    nextSowTime: initBN,\n    startSoil: initBN,\n    soil: initBN,\n    harvestableIndex: initBN,\n    weather: initBN,\n    raining: false,\n    rainStart: initBN,\n  })\n\n  const [prices, setPrices] = useState({\n    beanPrice: initBN,\n    usdcPrice: initBN,\n    ethReserve: initBN,\n    beanReserve: initBN,\n    beanTWAPPrice: initBN,\n    usdcTWAPPrice: initBN,\n  })\n\n  const [lastCross, setLastCross] = useState(-1)\n  const [bips, setBips] = useState([])\n  const [hasActiveBIP, setHasActiveBIP] = useState(false)\n  const [contractEvents, setContractEvents] = useState([])\n\n  const eventParsingParametersRef = useRef([])\n  eventParsingParametersRef.current = [\n    season.season,\n    weather.harvestableIndex,\n    userBalance.farmableBeanBalance,\n    userBalance.farmableStalkBalance,\n    userBalance.grownStalkBalance,\n    userBalance.claimableEthBalance,\n    prices.beanReserve,\n    prices.ethReserve,\n  ]\n\n  const benchmarkStart = (operation) => {\n    console.log(`LOADING ${operation}`)\n    return Date.now()\n  }\n  const benchmarkEnd = (operation, startTime) => {\n    console.log(`LOADED ${operation} (${(Date.now() - startTime) / 1e3} seconds)`)\n  }\n\n  useEffect(() => {\n    const zeroBN = new BigNumber(0)\n\n    function processAccountBalances(accountBalances, ethBalance, lpReserves, currentSeason) {\n      const [\n        uniswapBeanAllowance, beanstalkBeanAllowance, beanstalkLPAllowance,\n        claimableEthBalance, beanBalance, lpBalance, seedBalance, stalkBalance,\n        lockedUntil, farmableBeanBalance, farmableStalkBalance, grownStalkBalance,\n        rootsBalance\n      ] = accountBalances\n      const locked = lockedUntil.isGreaterThanOrEqualTo(currentSeason)\n      const lockedSeasons = lockedUntil.minus(currentSeason)\n      const minReceivables = lpReserves.map(reserve => reserve.multipliedBy(BASE_SLIPPAGE).toFixed(0))\n\n      setAllowances({\n        uniswapBeanAllowance, beanstalkBeanAllowance, beanstalkLPAllowance\n      })\n      setUserBalance(prev => ({\n        ...prev, claimableEthBalance, ethBalance, beanBalance, lpBalance,\n        seedBalance, stalkBalance, locked, lockedSeasons, farmableBeanBalance,\n        farmableStalkBalance, grownStalkBalance, rootsBalance, claimable: [\n          prev.claimable[0], prev.claimable[1], prev.claimable[2],\n          prev.claimable[3], prev.claimable[4],\n          minReceivables[0], minReceivables[1]\n        ]\n      }))\n    }\n\n    function processTotalBalances(totalBalances, bipInfo) {\n      const [\n        totalBeans, totalLP, totalSeeds, totalStalk,\n        totalSiloBeans, totalSiloLP, totalTransitBeans, totalTransitLP,\n        soil, podIndex, harvestableIndex, totalRoots, weather, rain, season\n      ] = totalBalances\n      const [bips, hasActiveBIP] = bipInfo\n      const totalPods = podIndex.minus(harvestableIndex)\n      setTotalBalance(prev => ({\n        ...prev, totalBeans, totalLP, totalSiloBeans, totalSiloLP,\n        totalTransitBeans, totalTransitLP, totalSeeds, totalStalk, totalPods, totalRoots\n      }))\n      setWeather(prev => ({...prev, ...weather, ...rain, harvestableIndex, soil}))\n      setBips(bips)\n      setHasActiveBIP(hasActiveBIP)\n      setSeason(season)\n      return season.season\n    }\n\n    function lpReservesForTokenReserves(tokenReserves, token0) {\n      const rawBeanReserve = token0 === BEAN.addr ? tokenReserves[0] : tokenReserves[1]\n      const rawEthReserve = token0 !== BEAN.addr ? tokenReserves[0] : tokenReserves[1]\n      const beanReserve = toTokenUnitsBN(rawBeanReserve, BEAN.decimals)\n      const ethReserve = toTokenUnitsBN(rawEthReserve, WETH.decimals)\n      return [beanReserve, ethReserve, rawBeanReserve, rawEthReserve]\n    }\n    function processPrices(prices) {\n      const [\n        referenceTokenReserves, tokenReserves, token0, twapPrices\n      ] = prices\n      const usdcMultiple = (new BigNumber(10)).exponentiatedBy(12)\n      const [\n        beanReserve,\n        ethReserve,\n        rawBeanReserve,\n        rawEthReserve\n      ] = lpReservesForTokenReserves(tokenReserves, token0)\n      const beanEthPrice = rawEthReserve.dividedBy(rawBeanReserve).dividedBy(usdcMultiple)\n      const usdcEthPrice = referenceTokenReserves[1].dividedBy(referenceTokenReserves[0]).dividedBy(usdcMultiple)\n      const beanPrice = beanEthPrice.dividedBy(usdcEthPrice)\n      const usdcPrice = usdcEthPrice\n\n      setPrices(prev => ({\n        ...prev, beanPrice, usdcPrice, ethReserve, beanReserve,\n        beanTWAPPrice: twapPrices[0], usdcTWAPPrice: twapPrices[1]\n      }))\n      return [beanReserve, ethReserve]\n    }\n\n    async function processEvents(events, eventParsingParameters) {\n      const startTime = benchmarkStart('EVENT PROCESSOR')\n\n      let userLPSeedDeposits = {}\n      let userLPDeposits = {}\n      let lpWithdrawals = {}\n      let userPlots = {}\n      let userBeanDeposits = {}\n      let beanWithdrawals = {}\n      let votedBips = new Set()\n\n      events.forEach(event => {\n        if (event.event === 'BeanDeposit') {\n          const s = parseInt(event.returnValues.season)\n          const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n          userBeanDeposits = {...userBeanDeposits, [s]: userBeanDeposits[s] !== undefined ? userBeanDeposits[s].plus(beans) : beans}\n          if (userBeanDeposits[s].isEqualTo(0)) delete userBeanDeposits[s]\n        } else if (event.event === 'BeanRemove') {\n          event.returnValues.crates.forEach((s, i) => {\n            const beans = toTokenUnitsBN(event.returnValues.crateBeans[i], BEAN.decimals)\n            userBeanDeposits = {...userBeanDeposits, [s]: userBeanDeposits[s] !== undefined ? userBeanDeposits[s].minus(beans) : beans}\n            if (userBeanDeposits[s].isEqualTo(0)) delete userBeanDeposits[s]\n          })\n        } else if (event.event === 'BeanWithdraw') {\n          const s = parseInt(event.returnValues.season)\n          const beans = toTokenUnitsBN(new BigNumber(event.returnValues.beans), BEAN.decimals)\n          beanWithdrawals = {...beanWithdrawals, [s]: beanWithdrawals[s] !== undefined ? beanWithdrawals[s].plus(beans) : beans}\n        } else if (event.event === 'Sow') {\n          const s = parseInt(event.returnValues.index)/1e6\n          userPlots[s] = toTokenUnitsBN(event.returnValues.pods, BEAN.decimals)\n        } else if (event.event === 'LPDeposit') {\n          const s = parseInt(event.returnValues.season)\n          const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n          const seeds = toTokenUnitsBN(new BigNumber(event.returnValues.seeds), BEAN.decimals)\n          userLPDeposits = {...userLPDeposits, [s]: userLPDeposits[s] !== undefined ? userLPDeposits[s].plus(lp) : lp}\n          userLPSeedDeposits = {...userLPSeedDeposits, [s]: userLPSeedDeposits[s] !== undefined ? userLPSeedDeposits[s].plus(seeds) : seeds}\n        } else if (event.event === 'LPRemove') {\n          event.returnValues.crates.forEach((s, i) => {\n            const lp = toTokenUnitsBN(event.returnValues.crateLP[i], UNI_V2_ETH_BEAN_LP.decimals)\n            const seeds = userLPSeedDeposits[s].multipliedBy(lp).dividedBy(userLPDeposits[s])\n            userLPDeposits = {...userLPDeposits, [s]: userLPDeposits[s].minus(lp)}\n            userLPSeedDeposits = {...userLPSeedDeposits, [s]: userLPSeedDeposits[s].minus(seeds)}\n            if (userLPDeposits[s].isEqualTo(0)) delete userLPDeposits[s]\n            if (userLPSeedDeposits[s].isEqualTo(0)) delete userLPSeedDeposits[s]\n          })\n        } else if (event.event === 'LPWithdraw') {\n          const s = parseInt(event.returnValues.season)\n          const lp = toTokenUnitsBN(new BigNumber(event.returnValues.lp), UNI_V2_ETH_BEAN_LP.decimals)\n          lpWithdrawals = {...lpWithdrawals, [s]: lpWithdrawals[s] !== undefined ? lpWithdrawals[s].plus(lp) : lp}\n        } else if (event.event === 'Harvest') {\n          let beansClaimed = toTokenUnitsBN(event.returnValues.beans, BEAN.decimals)\n          const plots = event.returnValues.plots.slice().sort()\n          plots.forEach(s => {\n            const index = parseInt(s)/1e6\n            if (beansClaimed.isLessThan(userPlots[index])) {\n              const partialIndex = beansClaimed.plus(index)\n              userPlots = {...userPlots, [partialIndex] : userPlots[index].minus(beansClaimed)}\n            } else {\n              beansClaimed = beansClaimed.minus(userPlots[index])\n            }\n            delete userPlots[index]\n          })\n        } else if (event.event === 'BeanClaim') {\n          event.returnValues.withdrawals.forEach(s => delete beanWithdrawals[s])\n        } else if (event.event === 'LPClaim') {\n          event.returnValues.withdrawals.forEach(s => delete lpWithdrawals[s])\n        } else if (event.event === 'Proposal' || event.event === 'Vote') {\n          votedBips.add(event.returnValues.bip)\n        } else if (event.event === 'Unvote') {\n          votedBips.delete(event.returnValues.bip)\n        }\n      })\n      setContractEvents(events)\n\n      const [s, hi, fb, fs, gs, ce, br, er] = (\n        eventParsingParameters !== undefined\n          ? eventParsingParameters\n          : eventParsingParametersRef.current\n      )\n\n      const rawBeanDeposits = {...userBeanDeposits}\n      userBeanDeposits = addRewardedCrates(userBeanDeposits, s, fb, fs)\n      const beanDepositsBalance = Object.values(userBeanDeposits).reduce((a, c) => a.plus(c), zeroBN)\n      const lpDepositsBalance = Object.values(userLPDeposits).reduce((a, c) => a.plus(c), zeroBN)\n      const [podBalance, harvestablePodBalance, plots, harvestablePlots] = parsePlots(userPlots, hi)\n      const [beanTransitBalance, beanReceivableBalance, userBeanWithdrawals, userBeanReceivableCrates] = parseWithdrawals(beanWithdrawals, s)\n      const [lpTransitBalance, lpReceivableBalance, userLPWithdrawals, userLPReceivableCrates] = parseWithdrawals(lpWithdrawals, s)\n      const minReceivables = [br, er].map(reserve => reserve.multipliedBy(BASE_SLIPPAGE).toFixed(0))\n      const claimable = [\n        Object.keys(userBeanReceivableCrates).map(b => b.toString()),\n        Object.keys(userLPReceivableCrates).map(b => b.toString()),\n        Object.keys(harvestablePlots).map(b => toBaseUnitBN(b, BEAN.decimals).toString()),\n        ce.isGreaterThan(0),\n        true,\n        minReceivables[0],\n        minReceivables[1]\n      ]\n      setUserBalance((prevUserBalance) => ({\n        ...prevUserBalance,\n        beanSiloBalance: beanDepositsBalance,\n        podBalance: podBalance,\n        harvestablePodBalance: harvestablePodBalance,\n        beanTransitBalance: beanTransitBalance,\n        beanReceivableBalance: beanReceivableBalance,\n        lpTransitBalance: lpTransitBalance,\n        lpReceivableBalance: lpReceivableBalance,\n        lpSiloBalance: lpDepositsBalance,\n        plots: plots,\n        harvestablePlots: harvestablePlots,\n        beanDeposits: userBeanDeposits,\n        lpDeposits: userLPDeposits,\n        lpSeedDeposits: userLPSeedDeposits,\n        beanWithdrawals: userBeanWithdrawals,\n        beanReceivableCrates: userBeanReceivableCrates,\n        lpWithdrawals: userLPWithdrawals,\n        lpReceivableCrates: userLPReceivableCrates,\n        votedBips: votedBips,\n        beanClaimableBalance: beanReceivableBalance.plus(harvestablePodBalance),\n        hasClaimable: beanReceivableBalance.plus(harvestablePodBalance).plus(lpReceivableBalance).plus(ce).isGreaterThan(0),\n        claimable: claimable,\n        rawBeanDeposits: rawBeanDeposits,\n        farmableBeanBalance: fb,\n        farmableStalkBalance: fs,\n        grownStalkBalance: gs\n      }))\n\n      benchmarkEnd('EVENT PROCESSOR', startTime)\n    }\n\n    async function updateAllBalances() {\n      const startTime = benchmarkStart('ALL BALANCES')\n      const batch = createLedgerBatch()\n      const accountBalancePromises = getAccountBalances(batch)\n      const totalBalancePromises = getTotalBalances(batch)\n      const pricePromises = getPrices(batch)\n      batch.execute()\n\n      const [\n        bipInfo,\n        ethBalance,\n        accountBalances,\n        totalBalances,\n        prices\n      ] = await Promise.all([\n        getBips(),\n        getEtherBalance(),\n        accountBalancePromises,\n        totalBalancePromises,\n        pricePromises\n      ])\n      benchmarkEnd('ALL BALANCES', startTime)\n\n      const [beanReserve, ethReserve] = lpReservesForTokenReserves(prices[1], prices[2]) /* tokenReserves, token0 */\n      const eventParsingParameters = [\n        totalBalances[14].season, /* season */\n        totalBalances[10],        /* harvestableIndex */\n        accountBalances[9],       /* farmableBeanBalance */\n        accountBalances[10],      /* farmableStalkBalance */\n        accountBalances[11],      /* grownStalkBalance */\n        accountBalances[3],       /* claimableEthBalance */\n        beanReserve,\n        ethReserve,\n      ]\n\n      return [\n        () => {\n          const currentSeason = processTotalBalances(totalBalances, bipInfo)\n          const lpReserves = processPrices(prices)\n          processAccountBalances(accountBalances, ethBalance, lpReserves, currentSeason)\n        },\n        eventParsingParameters\n      ]\n    }\n\n    async function updateTotals() {\n      const startTime = benchmarkStart('TOTALS')\n      const batch = createLedgerBatch()\n      const totalBalancePromises = getTotalBalances(batch)\n      batch.execute()\n\n      const [\n        bipInfo,\n        totalBalances\n      ] = await Promise.all([\n        getBips(),\n        totalBalancePromises\n      ])\n      ReactDOM.unstable_batchedUpdates(() => {\n        processTotalBalances(totalBalances, bipInfo)\n      })\n      benchmarkEnd('TOTALS', startTime)\n    }\n\n    async function updatePrices() {\n      const startTime = benchmarkStart('PRICES')\n      const batch = createLedgerBatch()\n      const pricePromises = getPrices(batch)\n      batch.execute()\n\n      const prices = await pricePromises\n      ReactDOM.unstable_batchedUpdates(() => {\n        processPrices(prices)\n      })\n      benchmarkEnd('PRICES', startTime)\n    }\n\n    async function start() {\n      var startTime = benchmarkStart('*INIT*')\n      if (await initialize()) {\n        benchmarkEnd('*INIT*', startTime)\n        startTime = benchmarkStart('**WEBSITE**')\n\n        initializeCallback(async () => {\n          const [updateBalanceState] = await updateAllBalances()\n          ReactDOM.unstable_batchedUpdates(() => { updateBalanceState() })\n        })\n        const [\n          balanceInitializers,\n          eventInitializers\n        ] = await Promise.all([\n          updateAllBalances(),\n          initializeEventListener(processEvents, updatePrices, updateTotals, setContractEvents, setLastCross)\n        ])\n        ReactDOM.unstable_batchedUpdates(() => {\n          const [updateBalanceState, eventParsingParameters] = balanceInitializers\n          const [lastCross, allEvents] = eventInitializers\n          updateBalanceState()\n          setLastCross(lastCross)\n          processEvents(allEvents, eventParsingParameters)\n          setInitialized(true)\n        })\n        benchmarkEnd('**WEBSITE**', startTime)\n      } else {\n        setMetamaskFailure(true)\n      }\n    }\n\n    start()\n  }, [])\n\n  let app\n  if (metamaskFailure > -1) {\n    app = <MetamasklessModule />\n  } else if (!initialized) {\n    const { innerHeight: height } = window\n    app = (\n      <div style={{height: height, overflow: 'hidden'}}>\n        <div style={{marginTop: height/2 - 150}}>\n          <div className='Loading-logo'>\n            <img style={{verticalAlign: 'middle'}} height='300px' src={BeanLogo} alt='bean.money' />\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    const navMapping = [...defaultNavMapping]\n    if (hasActiveBIP) {\n      navMapping.splice(4, 0, {path: 'governance', title: 'BIPs', component: () => <></>})\n    }\n    app = <>\n      <NavigationBar\n        links={navMapping}\n        beanPrice={prices.beanPrice}\n        events={contractEvents}\n        poolForLPRatio={poolForLPRatio}\n        {...totalBalance} {...userBalance}\n      />\n      { navMapping.map((navItem, index) => (\n          <div key={index}>{navItem.component()}</div>\n        ))\n      }\n      <Footer />\n    </>\n  }\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <div className='BeanstalkBG' name={`Chain${chainId}`}></div>\n      <div className='App'>\n        {app}\n      </div>\n    </ThemeProvider>\n  )\n}\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './components/App'\nimport './index.css'\nimport reportWebVitals from './reportWebVitals'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\nreportWebVitals( )\n"],"sourceRoot":""}